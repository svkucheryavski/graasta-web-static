var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(t,e,n,r){if(t){const o=a(t,e,n,r);return t[0](o)}}function a(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function c(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function u(t,e,n,r,o,l){if(o){const s=a(e,n,r,l);t.p(s,o)}}function d(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function f(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function x(){return y("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function N(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}let L;function k(t){L=t}function _(){if(!L)throw new Error("Function called outside component initialization");return L}function S(){const t=_();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}function V(t){return _().$$.context.get(t)}function C(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const T=[],I=[],Y=[],P=[],R=Promise.resolve();let X=!1;function z(t){Y.push(t)}function D(t){P.push(t)}const q=new Set;let W=0;function j(){const t=L;do{for(;W<T.length;){const t=T[W];W++,k(t),G(t.$$)}for(k(null),T.length=0,W=0;I.length;)I.pop()();for(let t=0;t<Y.length;t+=1){const e=Y[t];q.has(e)||(q.add(e),e())}Y.length=0}while(T.length);for(;P.length;)P.pop()();X=!1,q.clear(),k(t)}function G(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const H=new Set;let O;function B(){O={r:0,c:[],p:O}}function F(){O.r||r(O.c),O=O.p}function K(t,e){t&&t.i&&(H.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),O.c.push((()=>{H.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function Q(t,e){t.d(1),e.delete(t.key)}function J(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Z(t){t&&t.c()}function tt(t,n,l,s){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=t.$$;i&&i.m(n,l),s||z((()=>{const n=a.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(z)}function et(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(T.push(t),X||(X=!0,R.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,o,l,s,i,a,c,u=[-1]){const d=L;k(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||d.$$.root};c&&c(f.root);let m=!1;if(f.ctx=l?l(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),m&&nt(e,t)),n})):[],f.update(),m=!0,r(f.before_update),f.fragment=!!s&&s(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(h)}else f.fragment&&f.fragment.c();o.intro&&K(e.$$.fragment),tt(e,o.target,o.anchor,o.customElement),j()}k(d)}class ot{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function lt(t){let e=t.length,n=Number.POSITIVE_INFINITY;for(;e--;)n=t[e]<n?t[e]:n;return n}function st(t){let e=t.length,n=Number.NEGATIVE_INFINITY;for(;e--;)n=t[e]>n?t[e]:n;return n}function it(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function at(t){return it(t)/t.length}function ct(t,e=!1,n){return function(t,e,n=!1,r,o){const l=t.length;if(e.length!==l)throw Error("Vectors 'x' and 'y' must have the same length.");if(l<2)throw Error("Vectors 'x' and 'y' must have at least two values.");void 0===r&&(r=at(t)),void 0===o&&(o=at(e));let s=0;for(let n=0;n<l;n++)s+=(t[n]-r)*(e[n]-o);return s/(n?l:l-1)}(t,t,e,n,n)}function ut(t,e,n){if(n<2)throw new Error("Parameter 'n' should be â‰¥ 2.");if(void 0===n&&Number.isInteger(t)&&Number.isInteger(e)){if(e===t)return[e];n=e-t+1}const r=(e-t+0)/(n-1+0);let o=[...Array(n)].map(((e,n)=>t+n*r));if(Math.abs(r)<1){const t=Math.pow(10,Math.round(-Math.log10(r))+1);o=o.map((e=>Math.round((e+Number.EPSILON)*t)/t))}return o}function dt(t,e=.05){const n=lt(t),r=st(t)-n;return[n-r*e,st(t)+r*e]}function ft(t,e=0,n=1){let r=Array(t);for(let o=0;o<t;o++){const t=Math.sqrt(-2*Math.log(Math.random())),l=2*Math.PI*Math.random();r[o]=t*Math.sin(l)*n+e}return r}function mt(t,e=0,n=1){if(Array.isArray(t))return t.map((t=>mt(t,e,n)));if(0!==e||1!==n)return mt(t)*n+e;if(t<0||t>1)throw Error("Parameter 'p' must be between 0 and 1.");if(t<1e-10)return-1/0;if(t>.9999999999)return 1/0;const r=t-.5;let o,l;return Math.abs(r)<=.425?(o=.180625-r*r,r*(((59.10937472*o+159.29113202)*o+50.434271938)*o+3.3871327179)/(((67.1875636*o+78.757757664)*o+17.895169469000002)*o+1)):(o=r<0?t:1-t,o=Math.sqrt(-Math.log(o)),o<=5?(o-=1.6,l=(((.17023821103000003*o+1.3067284816)*o+2.75681539)*o+1.4234372777)/((.12021132975*o+.7370016425000001)*o+1)):(o-=5,l=((.017337203997*o+.42868294337000007)*o+3.081226386+6.657905115)/((.012258202635*o+.24197894225000002)*o+1)),r<0?-l:l)}function ht(t,e){if(e<0)throw new Error("Parameter 'dof' should be a positive number.");if(Array.isArray(t))return t.map((t=>ht(t,e)));const n=-.5*(e+1);return 1/(Math.sqrt(e)*wt(.5,e/2))*Math.pow(1+t*t/e,n)}function pt(t,e){if(null==e||e<1)throw Error("Parameter 'dof' (degrees of freedom) must be an integer number >= 1.");return Array.isArray(t)?t.map((t=>pt(t,e))):0===t?.5:t===-1/0?0:t===1/0?1:t>0?1-pt(-t,e):xt((t=>ht(t,e)),-1/0,t)}function $t(t,e){if(null==e||e<1)throw Error("Parameter 'dof' (degrees of freedom) must be an integer number >= 1.");if(t<0||t>1)throw Error("Parameter 'p' must be between 0 and 1.");if(Array.isArray(t))return t.map((t=>$t(t,e)));if(t<1e-10)return-1/0;if(t>.9999999999)return 1/0;if(1===e)return Math.tan(Math.PI*(t-.5));if(2===e)return 2*(t-.5)*Math.sqrt(2/(4*t*(1-t)));let n=-1;t>=.5?(n=1,t=2*(1-t)):(n=-1,t*=2);const r=1/(e-.5),o=48/r**2;let l=((20700*r/o-98)*r-16)*r+96.36;const s=((94.5/(o+l)-3)/o+1)*Math.sqrt(r*Math.PI/2)*e;let i=s*t,a=i**(2/e);return a>.05+r?(i=mt(.5*t),a=i**2,e<5&&(l+=.3*(e-4.5)*(i+.6)),l=(((.05*s*i-5)*i-7)*i-2)*i+o+l,a=(((((.4*a+6.3)*a+36)*a+94.5)/l-a-3)/o+1)*i,a=r*a**2,a=a>.002?Math.exp(a)-1:.5*a**2+a):a=((1/(((e+6)/(e*a)-.089*s-.822)*(e+2)*3)+.5/(e+4))*a-1)*(e+1)/(e+2)+1/a,n*Math.sqrt(e*a)}function gt(t,e,n){if(t<0||e<0||n<0)throw new Error("All 3 parameters must be positive.");return Array.isArray(t)?t.map((t=>gt(t,e,n))):(o=e/2,l=n/2,0===(r=e*t/(e*t+n))?0:1===r?1:1===l?r**o:1===o?1-(1-r)**l:xt((t=>t**(o-1)*(1-t)**(l-1)),0,r)/wt(o,l));var r,o,l}function yt(t,e){if(Array.isArray(e)){if(t.length!=e.length)throw new Error("Parameter 'n' should be a single value or a vector of the same length as x.");let n=[];for(let r=0;r<e.length;r++)n.push(...yt([t[r]],e[r]));return n}if(Array.isArray(t)||(t=[t]),e<=1)return t;const n=t.length;t.length=n*e;for(let r=0;r<e-1;r++)for(let e=0;e<n;e++)t[n*(r+1)+e]=t[e];return t}function bt(t,e,n){if(Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]),0===e.length)return[...t];if(st(e)>t.length||lt(e)<1)throw new Error("Parameter 'indices' must have values between 1 and 'x.length'.");const r=e.length;if(!n||"select"===n){let n=Array(r);for(let o=0;o<r;o++)n[o]=t[e[o]-1];return n}if("remove"===n){return[...t].filter(((t,n)=>!e.includes(n+1)))}throw Error("Wrong value for argument 'method'.")}function xt(t,e,n,r=1e-6,o=1e-5,l){if("number"!=typeof e||"number"!=typeof n)throw Error("Parameters 'a' and 'b' must be numbers.");if(n<e)throw Error("Parameter 'b' must be larger 'a'.");if(e===-1/0&&n!==1/0)return xt((e=>t(n-(1-e)/e)/e**2),0,1);if(e!==-1/0&&n===1/0)return xt((n=>t(e+(1-n)/n)/n**2),0,1);if(e===-1/0&&n===1/0)return xt((e=>(t((1-e)/e)+t((e-1)/e))/e**2),0,1);const s=[1/6,2/6,4/6,5/6],i=[2/6,1/6,1/6,2/6],a=[1/4,1/4,1/4,1/4],c=[1,0,0,1];let u,d=s.length,f=n-e;if(void 0===l)u=s.map((n=>t(e+n*f)));else{u=new Array(d);for(let n=0,r=0;r<d;r++)u[r]=1===c[r]?t(e+s[r]*f):l[n++]}let m=0,h=0;for(let t=0;t<d;t++)m+=i[t]*u[t]*f,h+=a[t]*u[t]*f;if(isNaN(h)||isNaN(m))throw Error("Numerical integration ended up with NaN number.");let p=r+o*Math.abs(m);if(Math.abs((m-h)/3)<p)return m;r/=Math.sqrt(2);let $=(e+n)/2,g=u.filter(((t,e)=>e<d/2)),y=u.filter(((t,e)=>e>=d/2));return xt(t,e,$,o,r,g)+xt(t,$,n,o,r,y)}function vt(t){if(Array.isArray(t))return t.map((t=>vt(t)));if(t<=0)throw new Error("Gamma function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7];if(t<.5)return Math.PI/(Math.sin(Math.PI*t)+vt(1-t));t-=1;let n=.9999999999998099;for(let r=0;r<e.length;r++)n+=e[r]/(t+r+1);const r=t+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*n}function wt(t,e){return e>100?xt((n=>Math.pow(n,t-1)/Math.pow(1+n,t+e)),0,1/0):vt(t)*vt(e)/vt(t+e)}const At=(t,e)=>t+e,Mt=(t,e)=>t-e,Nt=(t,e)=>t*e,Et=(t,e)=>t/e;function Lt(t){if(!Tt(t))throw Error("Argument 'x' must be a vector.");return Math.sqrt(it(t.map((t=>t**2))))}function kt(t,e,n){if(!Tt(t))throw Error("Argument 'x' must be a vector.");if(!Tt(e))throw Error("Argument 'y' must be a vector.");if((n=Yt(n,t.length,!0)).length!==e.length)throw Error("Number of values in 'ind' should match the number of elements in 'y'.");let r=bt(t,[]);for(let t=0;t<n.length;t++)r[n[t]-1]=e[t];return r}function _t(t,e){if(!Tt(t))throw Error("Argument 'x' must be a vector.");return t.map((t=>e(t)))}function St(t,e){return Ct(t,e,At)}function Vt(t,e){return Ct(t,e,Mt)}function Ct(t,e,n){const r=t.length|e.length;if(r<1)throw Error("One of the arguments must be a vector.");if(Tt(e)||(e=yt(e,r)),Tt(t)||(t=yt(t,r)),t.length!==e.length)throw Error("Dimensions of 'x' and 'y' mismatch.");let o=Array(r).fill(0);for(let l=0;l<r;l++)o[l]=n(t[l],e[l]);return o}function Tt(t){return!!Ut(t)&&!Array.isArray(t[0])}function It(t,e){if(!Tt(t))throw Error("Argument 'x' must be a vector of numbers.");if(!Tt(e))throw Error("Argument 'y' must be a vector of numbers.");if(t.length!=e.length)throw Error("Vectors 'x' and 'y' must have the same length.");let n=0;for(let r=0;r<t.length;r++)n+=t[r]*e[r];return n}function Yt(t,e,n){if(Array.isArray(t)||(t=[t]),t.length>0&&(lt(t)<1||st(t)>e))throw Error("Wrong values for indices.");return 0===t.length&&n&&(t=ut(1,e)),t}function Pt(t,e,n,r){if(!Qt(t))throw Error("Argument 'X' must be a matrix.");n=Yt(n,Ft(t),"select"===r),e=Yt(e,Bt(t),!1),"remove"!==r&&0!==n.length||(n=bt(ut(1,Ft(t)),n,"remove"));let o=Array(n.length);for(let l=0;l<n.length;l++)o[l]=bt(t[n[l]-1],e,r);return o}function Rt(t,e,n,r){if(!Qt(t))throw Error("Argument 'X' must be a matrix.");if(n=Yt(n,Bt(t),!0),r=Yt(r,Ft(t),!0),n.length!==Bt(e))throw Error("Number of values in 'rowInd' should match the number of rows in 'Y'.");if(r.length!==Ft(e))throw Error("Number of values in 'colInd' should match the number of columns in 'Y'.");let o=Pt(t,[],[]);for(let t=0;t<r.length;t++)for(let l=0;l<n.length;l++)o[r[t]-1][n[l]-1]=e[t][l];return o}function Xt(t,e){if(e||(e=Pt(t,[],[])),!Qt(t)||!Qt(e))throw Error("Both arguments must be matrices (2D Arrays).");return Wt(t,jt(e))}function zt(t,e,n){if(!Qt(t))throw Error("Argument 'X' must be a matrix (2D Array).");const r=Bt(t),o=Ft(t);if(Qt(e)||(e=Kt(e,r,o)),Bt(t)!==Bt(e)||Ft(t)!==Ft(e))throw Error("Dimensions of 'X' and 'Y' mismatch.");let l=Ht(r,o);for(let s=0;s<r;s++)for(let r=0;r<o;r++)l[r][s]=n(t[r][s],e[r][s]);return l}function Dt(t,e){return zt(t,e,At)}function qt(t,e){return zt(t,e,Nt)}function Wt(t,e){if(Tt(t)&&(t=[t]),!Qt(t))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");if(Tt(e)&&(e=[e]),!Qt(e))throw Error("Argument 'Y' must be a vector or a matrix (1D or 2D Array).");if(Ft(t)!=Bt(e))throw Error("Dimensions of 'X' and 'Y' mismatch.");const n=Bt(t),r=Ft(e);let o=Ht(n,r);t=jt(t);for(let l=0;l<n;l++)for(let n=0;n<r;n++)o[n][l]=It(t[l],e[n]);return o}function jt(t){if(Tt(t)&&(t=[t]),!Qt(t))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");return t[0].map(((e,n)=>t.map((t=>t[n]))))}function Gt(t){let e=Ht(t,t);for(let n=0;n<t;n++)e[n][n]=1;return e}function Ht(t,e){return Ot(t,e,0)}function Ot(t,e,n){return[...Array(e)].map((e=>Array(t).fill(n)))}function Bt(t){if(Tt(t))return t.length;if(!Qt(t))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");return t[0].length}function Ft(t){if(Tt(t))return 1;if(!Qt(t))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");return t.length}function Kt(t,e,n){if(!Ut(t))return Ot(e,n,t);if(!Tt(t))throw Error("Argument 'x' must me a scalar or a vector.");if(t.length===e)return Array(n).fill(t);if(t.length===n)return jt(Array(e).fill(t));if(t.length===e*n)return Array(n).fill(null).map(((n,r)=>bt(t,St(ut(1,e),e*r))));throw Error("Number of elements in 'x' does not match neither 'nrows' nor 'ncols'.")}function Ut(t){return Array.isArray(t)&&t.length>0}function Qt(t){return!!Ut(t)&&(!!Ut(t[0])&&!!t.every((e=>e.length==t[0].length)))}function Jt(t){return Bt(t)===Ft(t)}function Zt(t){if(!Jt)return!1;const e=Ft(t);for(let n=0;n<e;n++)for(let r=n+1;r<e;r++)if(Math.abs(t[n][r])>1e-10)return!1;return!0}function te(t){if(!Jt(t))throw Error("Only squared matrices can be inverted.");if(Zt(t))return jt(te(jt(t)));if(function(t){return Zt(jt(t))}(t)){const e=Ft(t),n=Gt(e);let r=Ht(e,e);for(let o=1;o<=e;o++)for(let l=1;l<=e;l++)r[l-1][o-1]=(n[l-1][o-1]-Wt(Pt(t,o,ut(1,o-1)),Pt(r,ut(1,o-1),l)))/t[o-1][o-1];return r}const e=function(t){const e=Ft(t),n=Bt(t),r=lt([n,e]);let o=Pt(t,[],[]),l=Gt(n);for(let t=0;t<r;t++){const e=bt(o[t],ut(t+1,n)),r=e.length;let s=yt(0,r);s[0]=Math.sign(e[0])*Lt(e);const i=St(s,e),a=Dt(Gt(r),qt(Xt([i]),-2/Lt(i)**2)),c=Rt(Gt(n),a,ut(n-r+1,n),ut(n-r+1,n));l=Wt(l,c),o=Wt(c,o)}return{Q:l,R:o}}(t);if(!Zt(e.R))throw Error("QR decomposition of the matrix returned incorrect result.");return Wt(te(e.R),jt(e.Q))}function ee(t,e){if(!Tt(t))throw Error("Argument 'x' must be a vector.");return e>1?ut(1,e).map((e=>t.map((t=>t**e)))):[t]}function ne(t,e,n){if(n<1||n>=t.length)throw Error("Polynomial degree 'd' must a positive value smaller than number of measurements.");let r=function(t,e){if(!Ut(t))throw Error("Argument 'X' must be a matrix or a vector.");if(!Tt(e))throw Error("Argument 'y' must be a vector.");const n=Bt(t);if(Bt(e)!==n)throw Error("Arguments 'X' and 'y' must have the same number of measurements.");if(n<=Ft(t))throw Error("Number of measurements must be larger than number of predictors.");Qt(t)||(t=[t]);const r=Pt(t,[],[]);r.unshift(yt(1,n));const o=te(function(t,e){if(e||(e=Pt(t,[],[])),!Qt(t)||!Qt(e))throw Error("Both arguments must be matrices (2D Arrays).");return Wt(jt(t),e)}(r)),l=Wt(Wt(o,jt(r)),e)[0],s=Wt(r,l)[0],i=function(t,e,n){const r=Bt(t);n||(n=1);const o=Vt(t,e),l=It(o,o),s=ct(t)*(r-1),i=1-l/s,a=r-n-1,c=(s-l)/n/(l/a);return{R2:i,R2adj:1-(1-i)*(r-1)/a,Fstat:c,p:1-gt(c,n,a),DoF:a,se:Math.sqrt(l/a)}}(e,s,Ft(t)),a=_t(function(t){if(!Qt(t))throw Error("Argument 'x' must be a matrix.");if(!Jt(t))throw Error("Argument 'x' must be a squared matrix.");const e=t.length;let n=yt(0,e);for(let r=0;r<e;r++)n[r]=t[r][r];return n}(qt(o,i.se**2)),Math.sqrt),c=function(t,e){return Ct(t,e,Et)}(l,a),u=$t(.975,i.DoF);return{class:"lm",data:{X:t,y:e},coeffs:{estimate:l,se:a,tstat:c,p:c.map((t=>t>0?2*pt(-t,i.DoF):2*pt(t,i.DoF))),lower:l.map(((t,e)=>t-u*a[e])),upper:l.map(((t,e)=>t+u*a[e]))},fitted:s,stat:i}}(ee(t,n),e);return r.pdegree=n,r.class="pm",r}function re(t,e){if(!Tt(e))throw Error("Argument 'x' must be a vector.");if("pm"!==t.class)throw Error("Argument 'm' must be object with polynomial model returned by method 'polyfit()'.");return function(t,e){if(!Ut(e))throw Error("Argument 'X' must be a matrix or a vector.");if("lm"!==t.class&&"pm"!==t.class||!t.coeffs.estimate||t.coeffs.estimate.length<1)throw Error("Argument 'm' must be object with MLR model returned by method 'lmfit()'.");if(Ft(e)!==t.coeffs.estimate.length-1)throw Error("Number of columns in 'X' do not match number of coefficients in model 'm'.");Qt(e)||(e=[e]);const n=Pt(e,[],[]);return n.unshift(yt(1,Bt(e))),Wt(n,t.coeffs.estimate)[0]}(t,ee(e,t.pdegree))}const oe=t=>({}),le=t=>({});function se(t){let e,n;const r=t[3].help,o=i(r,t,t[2],le);return{c(){e=$("div"),o&&o.c(),w(e,"class","helptext svelte-zlnjf7")},m(t,r){m(t,e,r),o&&o.m(e,null),n=!0},p(t,e){o&&o.p&&(!n||4&e)&&u(o,r,t,t[2],n?c(r,t[2],e,oe):d(t[2]),le)},i(t){n||(K(o,t),n=!0)},o(t){U(o,t),n=!1},d(t){t&&h(e),o&&o.d(t)}}}function ie(t){let e,n,r,o,l,s;const a=t[3].default,p=i(a,t,t[2],null);let g=t[0]&&se(t);return{c(){e=$("main"),n=$("div"),p&&p.c(),r=b(),g&&g.c(),w(n,"class","content svelte-zlnjf7"),w(e,"class","graasta-app svelte-zlnjf7")},m(i,a){m(i,e,a),f(e,n),p&&p.m(n,null),f(e,r),g&&g.m(e,null),o=!0,l||(s=v(window,"keypress",t[1]),l=!0)},p(t,[n]){p&&p.p&&(!o||4&n)&&u(p,a,t,t[2],o?c(a,t[2],n,null):d(t[2]),null),t[0]?g?(g.p(t,n),1&n&&K(g,1)):(g=se(t),g.c(),K(g,1),g.m(e,null)):g&&(B(),U(g,1,1,(()=>{g=null})),F())},i(t){o||(K(p,t),K(g),o=!0)},o(t){U(p,t),U(g),o=!1},d(t){t&&h(e),p&&p.d(t),g&&g.d(),l=!1,s()}}}function ae(t,e,n){let{$$slots:r={},$$scope:o}=e,l=!1;return t.$$set=t=>{"$$scope"in t&&n(2,o=t.$$scope)},[l,t=>{"h"===t.key&&n(0,l=!l)},o,r]}class ce extends ot{constructor(t){super(),rt(this,t,ae,ie,l,{})}}function ue(t){let e,n;return{c(){e=$("div"),n=y(t[0]),w(e,"class","app-control-error svelte-8w06qs")},m(t,r){m(t,e,r),f(e,n)},p(t,e){1&e&&A(n,t[0])},d(t){t&&h(e)}}}function de(t){let e,n,r;const o=t[2].default,l=i(o,t,t[1],null);let s=t[0]&&ue(t);return{c(){e=$("fieldset"),l&&l.c(),n=b(),s&&s.c(),w(e,"class","app-control-area svelte-8w06qs")},m(t,o){m(t,e,o),l&&l.m(e,null),f(e,n),s&&s.m(e,null),r=!0},p(t,[n]){l&&l.p&&(!r||2&n)&&u(l,o,t,t[1],r?c(o,t[1],n,null):d(t[1]),null),t[0]?s?s.p(t,n):(s=ue(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(t){r||(K(l,t),r=!0)},o(t){U(l,t),r=!1},d(t){t&&h(e),l&&l.d(t),s&&s.d()}}}function fe(t,e,n){let{$$slots:r={},$$scope:o}=e,{errormsg:l}=e;return t.$$set=t=>{"errormsg"in t&&n(0,l=t.errormsg),"$$scope"in t&&n(1,o=t.$$scope)},[l,o,r]}class me extends ot{constructor(t){super(),rt(this,t,fe,de,l,{errormsg:0})}}function he(t){let e,n,r,o,l,s;const a=t[5].default,p=i(a,t,t[4],null);return{c(){e=$("div"),n=$("div"),r=b(),o=$("label"),l=b(),p&&p.c(),w(n,"class","shield svelte-1u3qye"),w(o,"for",t[0]),w(o,"class","svelte-1u3qye"),w(e,"class","app-control svelte-1u3qye"),E(e,"hidden",t[3]),E(e,"disable",t[2])},m(i,a){m(i,e,a),f(e,n),f(e,r),f(e,o),o.innerHTML=t[1],f(e,l),p&&p.m(e,null),s=!0},p(t,[n]){(!s||2&n)&&(o.innerHTML=t[1]),(!s||1&n)&&w(o,"for",t[0]),p&&p.p&&(!s||16&n)&&u(p,a,t,t[4],s?c(a,t[4],n,null):d(t[4]),null),(!s||8&n)&&E(e,"hidden",t[3]),(!s||4&n)&&E(e,"disable",t[2])},i(t){s||(K(p,t),s=!0)},o(t){U(p,t),s=!1},d(t){t&&h(e),p&&p.d(t)}}}function pe(t,e,n){let{$$slots:r={},$$scope:o}=e,{id:l}=e,{label:s}=e,{disable:i=!1}=e,{hidden:a=!1}=e;return t.$$set=t=>{"id"in t&&n(0,l=t.id),"label"in t&&n(1,s=t.label),"disable"in t&&n(2,i=t.disable),"hidden"in t&&n(3,a=t.hidden),"$$scope"in t&&n(4,o=t.$$scope)},[l,s,i,a,o,r]}class $e extends ot{constructor(t){super(),rt(this,t,pe,he,l,{id:0,label:1,disable:2,hidden:3})}}function ge(t){let e,n,r,o;return{c(){e=$("button"),n=y(t[2]),w(e,"class","svelte-16fv6fd")},m(l,s){m(l,e,s),f(e,n),r||(o=v(e,"click",t[5]),r=!0)},p(t,e){4&e&&A(n,t[2])},d(t){t&&h(e),r=!1,o()}}}function ye(t){let e,n;return e=new $e({props:{id:t[0],label:t[1],disable:t[3],hidden:t[4],$$slots:{default:[ge]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.id=t[0]),2&n&&(r.label=t[1]),8&n&&(r.disable=t[3]),16&n&&(r.hidden=t[4]),68&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function be(t,e,n){let{id:r}=e,{label:o}=e,{text:l}=e,{disable:s=!1}=e,{hidden:i=!1}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"label"in t&&n(1,o=t.label),"text"in t&&n(2,l=t.text),"disable"in t&&n(3,s=t.disable),"hidden"in t&&n(4,i=t.hidden)},[r,o,l,s,i,function(e){C.call(this,t,e)}]}class xe extends ot{constructor(t){super(),rt(this,t,be,ye,l,{id:0,label:1,text:2,disable:3,hidden:4})}}function ve(t,e,n){const r=t.slice();return r[8]=e[n],r}function we(t,e){let n,r,o,l,s=e[8]+"";function i(){return e[6](e[8])}return{key:t,first:null,c(){n=$("div"),r=y(s),w(n,"class","option svelte-yqpg3s"),E(n,"selected",e[8]==e[0]),this.first=n},m(t,e){m(t,n,e),f(n,r),o||(l=v(n,"click",i),o=!0)},p(t,o){e=t,8&o&&s!==(s=e[8]+"")&&A(r,s),9&o&&E(n,"selected",e[8]==e[0])},d(t){t&&h(n),o=!1,l()}}}function Ae(t){let e,n,r,o,l,s=[],i=new Map,a=t[3];const c=t=>t[8];for(let e=0;e<a.length;e+=1){let n=ve(t,a,e),r=c(n);i.set(r,s[e]=we(r,n))}return{c(){e=$("div");for(let t=0;t<s.length;t+=1)s[t].c();n=b(),r=$("input"),w(e,"class","selector svelte-yqpg3s"),w(r,"name",t[1]),w(r,"class","svelte-yqpg3s")},m(i,a){m(i,e,a);for(let t=0;t<s.length;t+=1)s[t].m(e,null);m(i,n,a),m(i,r,a),M(r,t[0]),o||(l=v(r,"input",t[7]),o=!0)},p(t,n){9&n&&(a=t[3],s=function(t,e,n,r,o,l,s,i,a,c,u,d){let f=t.length,m=l.length,h=f;const p={};for(;h--;)p[t[h].key]=h;const $=[],g=new Map,y=new Map;for(h=m;h--;){const t=d(o,l,h),i=n(t);let a=s.get(i);a?r&&a.p(t,e):(a=c(i,t),a.c()),g.set(i,$[h]=a),i in p&&y.set(i,Math.abs(h-p[i]))}const b=new Set,x=new Set;function v(t){K(t,1),t.m(i,u),s.set(t.key,t),u=t.first,m--}for(;f&&m;){const e=$[m-1],n=t[f-1],r=e.key,o=n.key;e===n?(u=e.first,f--,m--):g.has(o)?!s.has(r)||b.has(r)?v(e):x.has(o)?f--:y.get(r)>y.get(o)?(x.add(r),v(e)):(b.add(o),f--):(a(n,s),f--)}for(;f--;){const e=t[f];g.has(e.key)||a(e,s)}for(;m;)v($[m-1]);return $}(s,n,c,1,t,a,i,e,Q,we,null,ve)),2&n&&w(r,"name",t[1]),1&n&&r.value!==t[0]&&M(r,t[0])},d(t){t&&h(e);for(let t=0;t<s.length;t+=1)s[t].d();t&&h(n),t&&h(r),o=!1,l()}}}function Me(t){let e,n;return e=new $e({props:{id:t[1],label:t[2],disable:t[4],hidden:t[5],$$slots:{default:[Ae]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,[n]){const r={};2&n&&(r.id=t[1]),4&n&&(r.label=t[2]),16&n&&(r.disable=t[4]),32&n&&(r.hidden=t[5]),2059&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ne(t,e,n){let{id:r}=e,{label:o}=e,{options:l}=e,{value:s=l[0]}=e,{disable:i=!1}=e,{hidden:a=!1}=e;return t.$$set=t=>{"id"in t&&n(1,r=t.id),"label"in t&&n(2,o=t.label),"options"in t&&n(3,l=t.options),"value"in t&&n(0,s=t.value),"disable"in t&&n(4,i=t.disable),"hidden"in t&&n(5,a=t.hidden)},[s,r,o,l,i,a,t=>n(0,s=t),function(){s=this.value,n(0,s)}]}class Ee extends ot{constructor(t){super(),rt(this,t,Ne,Me,l,{id:1,label:2,options:3,value:0,disable:4,hidden:5})}}function Le(t,e,n){const r=t.slice();return r[2]=e[n],r}function ke(t,e,n){const r=t.slice();return r[2]=e[n],r}function _e(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=Ve(Le(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=x()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);m(t,e,n)},p(t,o){if(1&o){let l;for(n=t[0],l=0;l<n.length;l+=1){const s=Le(t,n,l);r[l]?r[l].p(s,o):(r[l]=Ve(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){p(r,t),t&&h(e)}}}function Se(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=Ce(ke(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=x()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);m(t,e,n)},p(t,o){if(3&o){let l;for(n=t[0],l=0;l<n.length;l+=1){const s=ke(t,n,l);r[l]?r[l].p(s,o):(r[l]=Ce(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){p(r,t),t&&h(e)}}}function Ve(t){let e,n=t[2]+"";return{c(){e=$("td"),w(e,"class","datatable__value datatable__value_text svelte-1m7xmmh")},m(t,r){m(t,e,r),e.innerHTML=n},p(t,r){1&r&&n!==(n=t[2]+"")&&(e.innerHTML=n)},d(t){t&&h(e)}}}function Ce(t){let e,n,r=(isNaN(t[2])?"":t[2].toFixed(t[1]))+"";return{c(){e=$("td"),n=y(r),w(e,"class","datatable__value datatable__value_number svelte-1m7xmmh")},m(t,r){m(t,e,r),f(e,n)},p(t,e){3&e&&r!==(r=(isNaN(t[2])?"":t[2].toFixed(t[1]))+"")&&A(n,r)},d(t){t&&h(e)}}}function Te(e){let n;function r(t,e){return t[1]>=0?Se:_e}let o=r(e),l=o(e);return{c(){l.c(),n=x()},m(t,e){l.m(t,e),m(t,n,e)},p(t,[e]){o===(o=r(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n.parentNode,n)))},i:t,o:t,d(t){l.d(t),t&&h(n)}}}function Ie(t,e,n){let{values:r}=e,{decNum:o}=e;return t.$$set=t=>{"values"in t&&n(0,r=t.values),"decNum"in t&&n(1,o=t.decNum)},[r,o]}class Ye extends ot{constructor(t){super(),rt(this,t,Ie,Te,l,{values:0,decNum:1})}}function Pe(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Re(t,e,n){const r=t.slice();return r[4]=e[n].label,r[5]=e[n].values,r[7]=n,r}function Xe(t,e,n){const r=t.slice();return r[4]=e[n].label,r[5]=e[n].values,r}function ze(t,e,n){const r=t.slice();return r[4]=e[n].label,r[5]=e[n].values,r[7]=n,r}function De(t){let e,n,r,o,l=t[0],s=[];for(let e=0;e<l.length;e+=1)s[e]=We(Xe(t,l,e));let i=t[0][0].values,a=[];for(let e=0;e<i.length;e+=1)a[e]=Ge(Pe(t,i,e));const c=t=>U(a[t],1,1,(()=>{a[t]=null}));return{c(){e=$("tr");for(let t=0;t<s.length;t+=1)s[t].c();n=b();for(let t=0;t<a.length;t+=1)a[t].c();r=x(),w(e,"class","datatable__row")},m(t,l){m(t,e,l);for(let t=0;t<s.length;t+=1)s[t].m(e,null);m(t,n,l);for(let e=0;e<a.length;e+=1)a[e].m(t,l);m(t,r,l),o=!0},p(t,n){if(1&n){let r;for(l=t[0],r=0;r<l.length;r+=1){const o=Xe(t,l,r);s[r]?s[r].p(o,n):(s[r]=We(o),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}if(5&n){let e;for(i=t[0][0].values,e=0;e<i.length;e+=1){const o=Pe(t,i,e);a[e]?(a[e].p(o,n),K(a[e],1)):(a[e]=Ge(o),a[e].c(),K(a[e],1),a[e].m(r.parentNode,r))}for(B(),e=i.length;e<a.length;e+=1)c(e);F()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)K(a[t]);o=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)U(a[t]);o=!1},d(t){t&&h(e),p(s,t),t&&h(n),p(a,t),t&&h(r)}}}function qe(t){let e,n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=He(ze(t,r,e));const l=t=>U(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=x()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);m(t,e,r),n=!0},p(t,n){if(5&n){let s;for(r=t[0],s=0;s<r.length;s+=1){const l=ze(t,r,s);o[s]?(o[s].p(l,n),K(o[s],1)):(o[s]=He(l),o[s].c(),K(o[s],1),o[s].m(e.parentNode,e))}for(B(),s=r.length;s<o.length;s+=1)l(s);F()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)K(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)U(o[t]);n=!1},d(t){p(o,t),t&&h(e)}}}function We(t){let e,n=t[4]+"";return{c(){e=$("td"),w(e,"class","datatable__label svelte-1r68t2h")},m(t,r){m(t,e,r),e.innerHTML=n},p(t,r){1&r&&n!==(n=t[4]+"")&&(e.innerHTML=n)},d(t){t&&h(e)}}}function je(t){let e,n;return e=new Ye({props:{values:[t[5][t[10]]],decNum:t[2][t[7]]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.values=[t[5][t[10]]]),4&n&&(r.decNum=t[2][t[7]]),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Ge(t){let e,n,r,o=t[0],l=[];for(let e=0;e<o.length;e+=1)l[e]=je(Re(t,o,e));const s=t=>U(l[t],1,1,(()=>{l[t]=null}));return{c(){e=$("tr");for(let t=0;t<l.length;t+=1)l[t].c();n=b(),w(e,"class","datatable__row")},m(t,o){m(t,e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);f(e,n),r=!0},p(t,r){if(5&r){let i;for(o=t[0],i=0;i<o.length;i+=1){const s=Re(t,o,i);l[i]?(l[i].p(s,r),K(l[i],1)):(l[i]=je(s),l[i].c(),K(l[i],1),l[i].m(e,n))}for(B(),i=o.length;i<l.length;i+=1)s(i);F()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)K(l[t]);r=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)U(l[t]);r=!1},d(t){t&&h(e),p(l,t)}}}function He(t){let e,n,r,o,l,s,i=t[4]+"";return o=new Ye({props:{values:t[5],decNum:t[2][t[7]]}}),{c(){e=$("tr"),n=$("td"),r=b(),Z(o.$$.fragment),l=b(),w(n,"class","datatable__label svelte-1r68t2h"),w(e,"class","datatable__row")},m(t,a){m(t,e,a),f(e,n),n.innerHTML=i,f(e,r),tt(o,e,null),f(e,l),s=!0},p(t,e){(!s||1&e)&&i!==(i=t[4]+"")&&(n.innerHTML=i);const r={};1&e&&(r.values=t[5]),4&e&&(r.decNum=t[2][t[7]]),o.$set(r)},i(t){s||(K(o.$$.fragment,t),s=!0)},o(t){U(o.$$.fragment,t),s=!1},d(t){t&&h(e),et(o)}}}function Oe(t){let e,n,r,o;const l=[qe,De],s=[];function i(t,e){return t[1]?0:1}return n=i(t),r=s[n]=l[n](t),{c(){e=$("table"),r.c(),w(e,"class","datatable svelte-1r68t2h")},m(t,r){m(t,e,r),s[n].m(e,null),o=!0},p(t,[o]){let a=n;n=i(t),n===a?s[n].p(t,o):(B(),U(s[a],1,1,(()=>{s[a]=null})),F(),r=s[n],r?r.p(t,o):(r=s[n]=l[n](t),r.c()),K(r,1),r.m(e,null))},i(t){o||(K(r),o=!0)},o(t){U(r),o=!1},d(t){t&&h(e),s[n].d()}}}function Be(t,e,n){let{variables:r=[]}=e,{horizontal:o=!1}=e,{decNum:l}=e;return t.$$set=t=>{"variables"in t&&n(0,r=t.variables),"horizontal"in t&&n(1,o=t.horizontal),"decNum"in t&&n(2,l=t.decNum)},t.$$.update=()=>{5&t.$$.dirty&&void 0===l&&r.map((t=>(t=>{const e=Math.log10(lt(function(t){return t.slice(1).map(((e,n)=>e-t[n]))}(t).map((t=>Math.abs(t)))));return Math.abs(e<0?Math.floor(e):Math.ceil(e))})(t.values)))},[r,o,l]}class Fe extends ot{constructor(t){super(),rt(this,t,Be,Oe,l,{variables:0,horizontal:1,decNum:2})}}function Ke(t){let e,n,r;return n=new Fe({props:{variables:[{label:"#",values:t[0].num.concat([NaN])},{label:"x",values:t[1].concat([NaN])},{label:"y",values:t[2].concat([NaN])},{label:"y<sub>cv</sub>",values:t[3].concat([NaN])},{label:"e",values:t[5].concat([NaN])},{label:"e<sup>2</sup>",values:t[6].concat(it(t[6]))}],decNum:[0,2,1,1,1,2],horizontal:!1}}),{c(){e=$("div"),Z(n.$$.fragment),w(e,"class","table-container svelte-sj44zy")},m(o,l){m(o,e,l),tt(n,e,null),t[8](e),r=!0},p(t,[e]){const r={};111&e&&(r.variables=[{label:"#",values:t[0].num.concat([NaN])},{label:"x",values:t[1].concat([NaN])},{label:"y",values:t[2].concat([NaN])},{label:"y<sub>cv</sub>",values:t[3].concat([NaN])},{label:"e",values:t[5].concat([NaN])},{label:"e<sup>2</sup>",values:t[6].concat(it(t[6]))}]),n.$set(r)},i(t){r||(K(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(r){r&&h(e),et(n),t[8](null)}}}function Ue(t,e,n){let r,o,l,{segments:s}=e,{indSeg:i}=e,{x:a}=e,{y:c}=e,{ycv:u}=e;return t.$$set=t=>{"segments"in t&&n(0,s=t.segments),"indSeg"in t&&n(7,i=t.indSeg),"x"in t&&n(1,a=t.x),"y"in t&&n(2,c=t.y),"ycv"in t&&n(3,u=t.ycv)},t.$$.update=()=>{12&t.$$.dirty&&n(5,r=Vt(c,u)),32&t.$$.dirty&&n(6,o=function(t,e){return Ct(t,e,Nt)}(r,r)),144&t.$$.dirty&&l&&l.querySelectorAll("table > tr").forEach((t=>{t.classList.remove("selected");const e=t.querySelector(".datatable__value");e&&e.innerHTML===(i+1).toString()&&t.classList.add("selected")}))},[s,a,c,u,l,r,o,i,function(t){I[t?"unshift":"push"]((()=>{l=t,n(4,l)}))}]}class Qe extends ot{constructor(t){super(),rt(this,t,Ue,Ke,l,{segments:0,indSeg:7,x:1,y:2,ycv:3})}}const Je=[];function Ze(e,n=t){let r;const o=new Set;function s(t){if(l(e,t)&&(e=t,r)){const t=!Je.length;for(const t of o)t[1](),Je.push(t,e);if(t){for(let t=0;t<Je.length;t+=2)Je[t][0](Je[t+1]);Je.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(l,i=t){const a=[l,i];return o.add(a),1===o.size&&(r=n(s)||t),l(e),()=>{o.delete(a),0===o.size&&(r(),r=null)}}}}const tn=t=>({}),en=t=>({}),nn=t=>({}),rn=t=>({}),on=t=>({}),ln=t=>({});function sn(t){let e;return{c(){e=$("div"),w(e,"class","axes__title")},m(n,r){m(n,e,r),e.innerHTML=t[0]},p(t,n){1&n[0]&&(e.innerHTML=t[0])},d(t){t&&h(e)}}}function an(t){let e,n;return{c(){e=$("div"),n=$("span"),w(e,"class","axes__ylabel")},m(r,o){m(r,e,o),f(e,n),n.innerHTML=t[2]},p(t,e){4&e[0]&&(n.innerHTML=t[2])},d(t){t&&h(e)}}}function cn(t){let e,n;return{c(){e=$("div"),n=$("span"),w(e,"class","axes__xlabel")},m(r,o){m(r,e,o),f(e,n),n.innerHTML=t[1]},p(t,e){2&e[0]&&(n.innerHTML=t[1])},d(t){t&&h(e)}}}function un(t){let e;return{c(){e=$("p"),e.innerHTML="Axes component was not properly initialized. <br/>\n      Add plot series (check that coordinates are numeric) or define axes limits manually.",w(e,"class","message_error")},m(t,n){m(t,e,n)},d(t){t&&h(e)}}}function dn(t){let e,n,r,o,l,s,a,p,y,x,A,M,L,k,_,S,V,C,T,I=""!==t[0]&&sn(t),Y=""!==t[2]&&an(t),P=""!==t[1]&&cn(t);const R=t[27].xaxis,X=i(R,t,t[26],ln),z=t[27].yaxis,D=i(z,t,t[26],rn),q=t[27].default,W=i(q,t,t[26],null),j=t[27].box,G=i(j,t,t[26],en);let H=!t[3]&&un();return{c(){e=$("div"),I&&I.c(),n=b(),Y&&Y.c(),r=b(),P&&P.c(),o=b(),l=$("div"),s=g("svg"),a=g("defs"),p=g("clipPath"),y=g("rect"),X&&X.c(),D&&D.c(),k=g("g"),W&&W.c(),G&&G.c(),_=b(),H&&H.c(),N(y,"pointer-events","none"),w(y,"x",x=t[8][0]),w(y,"y",A=t[7][1]),w(y,"width",M=t[8][1]-t[8][0]),w(y,"height",L=t[7][0]-t[7][1]),w(p,"id",t[9]),w(k,"class","axes-content"),w(k,"clip-path","url(#"+t[9]+")"),w(s,"preserveAspectRatio","none"),w(s,"class","axes"),w(l,"class","axes-wrapper svelte-jxlrcp"),w(e,"class",S="plot plot_"+t[4]+" svelte-jxlrcp"),E(e,"plot_error",!t[3])},m(i,c){m(i,e,c),I&&I.m(e,null),f(e,n),Y&&Y.m(e,null),f(e,r),P&&P.m(e,null),f(e,o),f(e,l),f(l,s),f(s,a),f(a,p),f(p,y),X&&X.m(s,null),D&&D.m(s,null),f(s,k),W&&W.m(k,null),G&&G.m(s,null),t[28](l),f(e,_),H&&H.m(e,null),t[29](e),V=!0,C||(T=v(s,"click",t[16]),C=!0)},p(t,l){""!==t[0]?I?I.p(t,l):(I=sn(t),I.c(),I.m(e,n)):I&&(I.d(1),I=null),""!==t[2]?Y?Y.p(t,l):(Y=an(t),Y.c(),Y.m(e,r)):Y&&(Y.d(1),Y=null),""!==t[1]?P?P.p(t,l):(P=cn(t),P.c(),P.m(e,o)):P&&(P.d(1),P=null),(!V||256&l[0]&&x!==(x=t[8][0]))&&w(y,"x",x),(!V||128&l[0]&&A!==(A=t[7][1]))&&w(y,"y",A),(!V||256&l[0]&&M!==(M=t[8][1]-t[8][0]))&&w(y,"width",M),(!V||128&l[0]&&L!==(L=t[7][0]-t[7][1]))&&w(y,"height",L),X&&X.p&&(!V||67108864&l[0])&&u(X,R,t,t[26],V?c(R,t[26],l,on):d(t[26]),ln),D&&D.p&&(!V||67108864&l[0])&&u(D,z,t,t[26],V?c(z,t[26],l,nn):d(t[26]),rn),W&&W.p&&(!V||67108864&l[0])&&u(W,q,t,t[26],V?c(q,t[26],l,null):d(t[26]),null),G&&G.p&&(!V||67108864&l[0])&&u(G,j,t,t[26],V?c(j,t[26],l,tn):d(t[26]),en),t[3]?H&&(H.d(1),H=null):H||(H=un(),H.c(),H.m(e,null)),(!V||16&l[0]&&S!==(S="plot plot_"+t[4]+" svelte-jxlrcp"))&&w(e,"class",S),(!V||24&l[0])&&E(e,"plot_error",!t[3])},i(t){V||(K(X,t),K(D,t),K(W,t),K(G,t),V=!0)},o(t){U(X,t),U(D,t),U(W,t),U(G,t),V=!1},d(n){n&&h(e),I&&I.d(),Y&&Y.d(),P&&P.d(),X&&X.d(n),D&&D.d(n),W&&W.d(n),G&&G.d(n),t[28](null),H&&H.d(),t[29](null),C=!1,T()}}}function fn(t,e){const n=Math.floor(Math.log10(t)),r=t/Math.pow(10,n);let o;return o=e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10,o*Math.pow(10,n)}function mn(t,e){return e<300.2||t<300.2?"small":e<600.2||t<600.2?"medium":"large"}function hn(t,e,n){let r,o,l,i,a,c,u,d,f,{$$slots:m={},$$scope:h}=e,{limX:p=[void 0,void 0]}=e,{limY:$=[void 0,void 0]}=e,{title:g=""}=e,{xLabel:y=""}=e,{yLabel:b=""}=e,{multiSeries:x=!0}=e;const v=S(),w={small:30,medium:40,large:50},A="plottingArea"+Math.round(1e4*Math.random());let M,N,E=[.034,.034,.034,.034];const L=Ze(100);s(t,L,(t=>n(24,u=t)));const k=Ze(100);s(t,k,(t=>n(22,i=t)));const V=Ze([void 0,void 0]);s(t,V,(t=>n(25,d=t)));const C=Ze([void 0,void 0]);s(t,C,(t=>n(23,a=t)));const T=Ze("medium");s(t,T,(t=>n(4,f=t)));const Y=Ze(!1);s(t,Y,(t=>n(3,c=t)));const P=function(t,e){let n=[void 0!==t[0]&&!0===x&&t[0]<e[0]?t[0]:e[0],void 0!==t[1]&&!0===x&&t[1]>e[1]?t[1]:e[1]];return 0===n[0]&&0===n[1]&&(n=[-.1,.1]),n[0]===n[1]&&(n=[.95*n[0],1.05*n[0]]),n},R=function(t,e,n,o=!1){if(c&&void 0!==t&&Array.isArray(t))return o?t.map((t=>t/(e[1]-e[0])*(n-r[1]-r[3]))):t.map((t=>(t-e[0])/(e[1]-e[0])*(n-r[1]-r[3])+r[1]))},X=function(t,e,n,o=!1){if(c&&void 0!==t&&Array.isArray(t))return o?t.map((t=>t/(e[1]-e[0])*(n-r[0]-r[2]))):t.map((t=>(e[1]-t)/(e[1]-e[0])*(n-r[0]-r[2])+r[2]))};function z(t,e){v(t,{seriesTitle:e.parentNode.getAttribute("title"),elementID:e.dataset.id})}!function(t,e){_().$$.context.set(t,e)}("axes",{addXAxisMargins:function(){n(20,E[0]=1,E),n(20,E[2]=.5,E),n(20,E[1]=E[1]>.5?E[1]:.5,E),n(20,E[3]=E[3]>.5?E[3]:.5,E)},addYAxisMargins:function(){n(20,E[1]=1,E),n(20,E[3]=.5,E),n(20,E[0]=E[0]>.5?E[0]:.5,E),n(20,E[2]=E[2]>.5?E[2]:.5,E)},adjustXAxisLimits:function(t){p.some((t=>void 0===t))&&V.update((e=>P(e,t)))},adjustYAxisLimits:function(t){$.some((t=>void 0===t))&&C.update((e=>P(e,t)))},getAxisTicks:function(t,e,n,r=!0){if(void 0!==t)return t;if(!Array.isArray(e)||void 0===e[0]||void 0===e[1])return;const o=fn(e[1]-e[0],r),l=fn(o/(n-1),r),s=Math.ceil(e[0]/l)*l,i=Math.floor(e[1]/l)*l;if(n=Math.round((i-s+1)/l)+1,t=[...Array(n)].map(((t,e)=>s+e*l)),Math.abs(l)<1){const e=Math.pow(10,1+Math.round(-Math.log10(l)));t=t.map((t=>Math.round((t+Number.EPSILON)*e)/e))}return t.filter((t=>t>=e[0]&t<=e[1]))},scaleX:R,scaleY:X,isOk:Y,scale:T,width:L,height:k,xLim:V,yLim:C,LINE_STYLES:{small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"]},LABELS_MARGIN:{small:10,medium:15,large:20},TICK_NUM:{small:5,medium:8,large:12}});const D=new ResizeObserver((t=>{for(let e of t){const t=N.getBoundingClientRect();L.update((e=>t.width)),k.update((e=>t.height))}})),q=new ResizeObserver((t=>{for(let e of t){const t=M.getBoundingClientRect();T.update((e=>mn(t.width,t.height)))}}));var W;return W=()=>{q.observe(M),D.observe(N)},_().$$.on_mount.push(W),function(t){_().$$.on_destroy.push(t)}((()=>{q.unobserve(M),D.unobserve(N)})),t.$$set=t=>{"limX"in t&&n(17,p=t.limX),"limY"in t&&n(18,$=t.limY),"title"in t&&n(0,g=t.title),"xLabel"in t&&n(1,y=t.xLabel),"yLabel"in t&&n(2,b=t.yLabel),"multiSeries"in t&&n(19,x=t.multiSeries),"$$scope"in t&&n(26,h=t.$$scope)},t.$$.update=()=>{131072&t.$$.dirty[0]&&(p.some((t=>void 0===t))||V.update((t=>p))),262144&t.$$.dirty[0]&&($.some((t=>void 0===t))||C.update((t=>$))),1048592&t.$$.dirty[0]&&n(21,r=E.map((t=>t*w[f]))),65011712&t.$$.dirty[0]&&Y.update((t=>Array.isArray(a)&&Array.isArray(d)&&2===d.length&&2===a.length&&!a.some((t=>void 0===t))&&!d.some((t=>void 0===t))&&!a.some((t=>isNaN(t)))&&!d.some((t=>isNaN(t)))&&d[1]!==d[0]&&a[1]!==a[0]&&u>r[1]+r[3]&&i>r[0]+r[2])),50331656&t.$$.dirty[0]&&n(8,o=c?R(d,d,u):[0,1]),12582920&t.$$.dirty[0]&&n(7,l=c?X(a,a,i):[1,0])},[g,y,b,c,f,M,N,l,o,A,L,k,V,C,T,Y,function(t){"text"===t.target.tagName&&t.target.parentNode.classList.contains("series_scatter")?z("markerclick",t.target):"rect"===t.target.tagName&&t.target.parentNode.classList.contains("series_bar")?z("barclick",t.target):v("axesclick")},p,$,x,E,r,i,a,u,d,h,m,function(t){I[t?"unshift":"push"]((()=>{N=t,n(6,N)}))},function(t){I[t?"unshift":"push"]((()=>{M=t,n(5,M)}))}]}class pn extends ot{constructor(t){super(),rt(this,t,hn,dn,l,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,multiSeries:19},null,[-1,-1])}}const $n={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",PRIMARY:"#2266ff",PRIMARY_TEXT:"#333"};function gn(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function yn(t){let e,n,r,o,l,s,i=t[4],a=[];for(let e=0;e<i.length;e+=1)a[e]=bn(gn(t,i,e));return{c(){e=g("g");for(let t=0;t<a.length;t+=1)a[t].c();n=g("line"),w(n,"x1",r=t[5][0]),w(n,"x2",o=t[5][1]),w(n,"y1",l=t[2][0]),w(n,"y2",s=t[2][0]),w(n,"style",t[7]),w(e,"class","mdaplot__axis mdaplot__xaxis")},m(t,r){m(t,e,r);for(let t=0;t<a.length;t+=1)a[t].m(e,null);f(e,n)},p(t,c){if(415&c){let r;for(i=t[4],r=0;r<i.length;r+=1){const o=gn(t,i,r);a[r]?a[r].p(o,c):(a[r]=bn(o),a[r].c(),a[r].m(e,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}32&c&&r!==(r=t[5][0])&&w(n,"x1",r),32&c&&o!==(o=t[5][1])&&w(n,"x2",o),4&c&&l!==(l=t[2][0])&&w(n,"y1",l),4&c&&s!==(s=t[2][0])&&w(n,"y2",s)},d(t){t&&h(e),p(a,t)}}}function bn(t){let e,n,r,o,l,s,i,a,c,u,d,p,$,b,x=t[0][t[28]]+"";return{c(){e=g("line"),s=g("line"),d=g("text"),p=y(x),w(e,"x1",n=t[26]),w(e,"x2",r=t[26]),w(e,"y1",o=t[2][0]),w(e,"y2",l=t[2][1]),w(e,"style",t[8]),w(s,"x1",i=t[26]),w(s,"x2",a=t[26]),w(s,"y1",c=t[3][0]),w(s,"y2",u=t[3][1]),w(s,"style",t[7]),w(d,"x",$=t[26]),w(d,"y",b=t[3][1]),w(d,"dx","0"),w(d,"dy",t[1]),w(d,"class","mdaplot__axis-labels"),w(d,"dominant-baseline","middle"),w(d,"text-anchor","middle")},m(t,n){m(t,e,n),m(t,s,n),m(t,d,n),f(d,p)},p(t,f){16&f&&n!==(n=t[26])&&w(e,"x1",n),16&f&&r!==(r=t[26])&&w(e,"x2",r),4&f&&o!==(o=t[2][0])&&w(e,"y1",o),4&f&&l!==(l=t[2][1])&&w(e,"y2",l),16&f&&i!==(i=t[26])&&w(s,"x1",i),16&f&&a!==(a=t[26])&&w(s,"x2",a),8&f&&c!==(c=t[3][0])&&w(s,"y1",c),8&f&&u!==(u=t[3][1])&&w(s,"y2",u),1&f&&x!==(x=t[0][t[28]]+"")&&A(p,x),16&f&&$!==($=t[26])&&w(d,"x",$),8&f&&b!==(b=t[3][1])&&w(d,"y",b),2&f&&w(d,"dy",t[1])},d(t){t&&h(e),t&&h(s),t&&h(d)}}}function xn(e){let n,r=e[6]&&void 0!==e[5]&&void 0!==e[2]&&yn(e);return{c(){r&&r.c(),n=x()},m(t,e){r&&r.m(t,e),m(t,n,e)},p(t,[e]){t[6]&&void 0!==t[5]&&void 0!==t[2]?r?r.p(t,e):(r=yn(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&h(n)}}}function vn(t,e,n){let r,o,l,i,a,c,u,d,f,m,h,p,{slot:$="xaxis"}=e,{ticks:g}=e,{tickLabels:y=g}=e,{showGrid:b=!1}=e;const x=void 0===g?"auto":"manual";if("xaxis"!==$)throw"Component XAxis must have \"slot='xaxis'\" attribute.";if(void 0!==g&&!Array.isArray(g))throw"XAxis: 'ticks' must be a vector of numbers.";if(void 0!==g&&(!Array.isArray(y)||y.length!=g.length))throw"XAxis: 'tickLabels' must be a vector of the same size as ticks.";const v=`stroke:${$n.DARKGRAY};line-width:1px;`,w=`stroke:${$n.MIDDLEGRAY};stroke-opacity:${b?1:0};stroke-dasharray:2px;`,A=V("axes");A.addXAxisMargins();const M=A.xLim;s(t,M,(t=>n(20,d=t)));const N=A.yLim;s(t,N,(t=>n(23,h=t)));const E=A.width;s(t,E,(t=>n(19,u=t)));const L=A.height;s(t,L,(t=>n(22,m=t)));const k=A.scale;s(t,k,(t=>n(21,f=t)));const _=A.isOk;return s(t,_,(t=>n(6,p=t))),t.$$set=t=>{"slot"in t&&n(16,$=t.slot),"ticks"in t&&n(15,g=t.ticks),"tickLabels"in t&&n(0,y=t.tickLabels),"showGrid"in t&&n(17,b=t.showGrid)},t.$$.update=()=>{1572864&t.$$.dirty&&n(5,r=A.scaleX(d,d,u)),12582912&t.$$.dirty&&n(2,o=A.scaleY(h,h,m)),2097152&t.$$.dirty&&n(1,l="small"===f?7:10),2097152&t.$$.dirty&&n(18,i=A.TICK_NUM[f]),1343488&t.$$.dirty&&n(15,g="auto"===x?A.getAxisTicks(void 0,d,i,!0):g),32769&t.$$.dirty&&n(0,y="auto"===x?g:y),1605632&t.$$.dirty&&n(4,a=A.scaleX(g,d,u)),6&t.$$.dirty&&n(3,c=void 0===o?void 0:[o[0],o[0]+l])},[y,l,o,c,a,r,p,v,w,M,N,E,L,k,_,g,$,b,i,u,d,f,m,h]}class wn extends ot{constructor(t){super(),rt(this,t,vn,xn,l,{slot:16,ticks:15,tickLabels:0,showGrid:17})}}function An(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function Mn(t){let e,n,r,o,l,s,i=t[4],a=[];for(let e=0;e<i.length;e+=1)a[e]=Nn(An(t,i,e));return{c(){e=g("g");for(let t=0;t<a.length;t+=1)a[t].c();n=g("line"),w(n,"x1",r=t[1][0]),w(n,"x2",o=t[1][0]),w(n,"y1",l=t[5][0]),w(n,"y2",s=t[5][1]),w(n,"style",t[7]),w(e,"class","mdaplot__axis mdaplot__yaxis")},m(t,r){m(t,e,r);for(let t=0;t<a.length;t+=1)a[t].m(e,null);f(e,n)},p(t,c){if(479&c){let r;for(i=t[4],r=0;r<i.length;r+=1){const o=An(t,i,r);a[r]?a[r].p(o,c):(a[r]=Nn(o),a[r].c(),a[r].m(e,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}2&c&&r!==(r=t[1][0])&&w(n,"x1",r),2&c&&o!==(o=t[1][0])&&w(n,"x2",o),32&c&&l!==(l=t[5][0])&&w(n,"y1",l),32&c&&s!==(s=t[5][1])&&w(n,"y2",s)},d(t){t&&h(e),p(a,t)}}}function Nn(t){let e,n,r,o,l,s,i,a,c,u,d,p,$,b,x=t[0][t[28]]+"";return{c(){e=g("line"),s=g("line"),d=g("text"),p=y(x),w(e,"x1",n=t[1][0]),w(e,"x2",r=t[1][1]),w(e,"y1",o=t[26]),w(e,"y2",l=t[26]),w(e,"style",t[8]),w(s,"x1",i=t[3][0]),w(s,"x2",a=t[3][1]),w(s,"y1",c=t[26]),w(s,"y2",u=t[26]),w(s,"style",t[7]),w(d,"x",$=t[3][0]),w(d,"y",b=t[26]),w(d,"dx",t[2]),w(d,"dy",0),w(d,"transform",t[6]),N(d,"background","red"),w(d,"class","mdaplot__axis-labels"),w(d,"dominant-baseline","middle"),w(d,"text-anchor","end")},m(t,n){m(t,e,n),m(t,s,n),m(t,d,n),f(d,p)},p(t,f){2&f&&n!==(n=t[1][0])&&w(e,"x1",n),2&f&&r!==(r=t[1][1])&&w(e,"x2",r),16&f&&o!==(o=t[26])&&w(e,"y1",o),16&f&&l!==(l=t[26])&&w(e,"y2",l),8&f&&i!==(i=t[3][0])&&w(s,"x1",i),8&f&&a!==(a=t[3][1])&&w(s,"x2",a),16&f&&c!==(c=t[26])&&w(s,"y1",c),16&f&&u!==(u=t[26])&&w(s,"y2",u),1&f&&x!==(x=t[0][t[28]]+"")&&A(p,x),8&f&&$!==($=t[3][0])&&w(d,"x",$),16&f&&b!==(b=t[26])&&w(d,"y",b),4&f&&w(d,"dx",t[2])},d(t){t&&h(e),t&&h(s),t&&h(d)}}}function En(e){let n,r=void 0!==e[1]&&void 0!==e[5]&&Mn(e);return{c(){r&&r.c(),n=x()},m(t,e){r&&r.m(t,e),m(t,n,e)},p(t,[e]){void 0!==t[1]&&void 0!==t[5]?r?r.p(t,e):(r=Mn(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&h(n)}}}function Ln(t,e,n){let r,o,l,i,a,c,u,d,f,m,h,{slot:p="yaxis"}=e,{ticks:$}=e,{tickLabels:g=$}=e,{showGrid:y=!1}=e,{las:b=1}=e;const x=void 0===$?"auto":"manual";if("yaxis"!==p)throw"Component YAxis must have \"slot='yaxis'\" attribute.";if(void 0!==$&&!Array.isArray($))throw"YAxis: 'ticks' must be a vector of numbers.";if(void 0!==$&&(!Array.isArray(g)||g.length!=$.length))throw"YAxis: 'tickLabels' must be a vector of the same size as ticks.";const v=`stroke:${$n.DARKGRAY};line-width:1px;`,w=`stroke:${$n.MIDDLEGRAY};stroke-opacity:${y?1:0};stroke-dasharray:2px;`,A=V("axes");A.addYAxisMargins();const M=A.xLim;s(t,M,(t=>n(23,h=t)));const N=A.yLim;s(t,N,(t=>n(20,d=t)));const E=A.width;s(t,E,(t=>n(22,m=t)));const L=A.height;s(t,L,(t=>n(19,u=t)));const k=A.scale;return s(t,k,(t=>n(21,f=t))),t.$$set=t=>{"slot"in t&&n(15,p=t.slot),"ticks"in t&&n(14,$=t.ticks),"tickLabels"in t&&n(0,g=t.tickLabels),"showGrid"in t&&n(16,y=t.showGrid),"las"in t&&n(17,b=t.las)},t.$$.update=()=>{12582912&t.$$.dirty&&n(1,r=A.scaleX(h,h,m)),1572864&t.$$.dirty&&n(5,o=A.scaleY(d,d,u)),2097152&t.$$.dirty&&n(2,l="small"===f?-4:-6),2097152&t.$$.dirty&&n(18,i=A.TICK_NUM[f]),1327104&t.$$.dirty&&n(14,$="auto"===x?A.getAxisTicks(void 0,d,i,!0):$),16385&t.$$.dirty&&n(0,g="auto"===x?$:g),1589248&t.$$.dirty&&n(4,a=A.scaleY($,d,u)),6&t.$$.dirty&&n(3,c=void 0===r?void 0:[r[0]+l,r[0]])},[g,r,l,c,a,o,"",v,w,M,N,E,L,k,$,p,y,b,i,u,d,f,m,h]}class kn extends ot{constructor(t){super(),rt(this,t,Ln,En,l,{slot:15,ticks:14,tickLabels:0,showGrid:16,las:17})}}function _n(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function Sn(t){let e,n,r=t[7],o=[];for(let e=0;e<r.length;e+=1)o[e]=Vn(_n(t,r,e));return{c(){e=g("g");for(let t=0;t<o.length;t+=1)o[t].c();w(e,"class",n="series "+t[1]),w(e,"title",t[2]),w(e,"style",t[3])},m(t,n){m(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,l){if(241&l){let n;for(r=t[7],n=0;n<r.length;n+=1){const s=_n(t,r,n);o[n]?o[n].p(s,l):(o[n]=Vn(s),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}2&l&&n!==(n="series "+t[1])&&w(e,"class",n),4&l&&w(e,"title",t[2]),8&l&&w(e,"style",t[3])},d(t){t&&h(e),p(o,t)}}}function Vn(t){let e,n,r,o=t[0][t[29]]+"";return{c(){e=g("text"),w(e,"data-id",t[29]),w(e,"x",n=t[7][t[29]]),w(e,"y",r=t[6][t[29]]),w(e,"dx",t[5]),w(e,"dy",t[4]),w(e,"class","svelte-1xvrp9d")},m(t,n){m(t,e,n),e.innerHTML=o},p(t,l){1&l&&o!==(o=t[0][t[29]]+"")&&(e.innerHTML=o),128&l&&n!==(n=t[7][t[29]])&&w(e,"x",n),64&l&&r!==(r=t[6][t[29]])&&w(e,"y",r),32&l&&w(e,"dx",t[5]),16&l&&w(e,"dy",t[4])},d(t){t&&h(e)}}}function Cn(e){let n,r=void 0!==e[7]&&void 0!==e[6]&&Sn(e);return{c(){r&&r.c(),n=x()},m(t,e){r&&r.m(t,e),m(t,n,e)},p(t,[e]){void 0!==t[7]&&void 0!==t[6]?r?r.p(t,e):(r=Sn(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&h(n)}}}function Tn(t,e,n){let r,o,l,i,a,c,u,d,f,m,{xValues:h}=e,{yValues:p}=e,{labels:$}=e,{pos:g=0}=e,{faceColor:y=$n.PRIMARY_TEXT}=e,{borderColor:b="transparent"}=e,{borderWidth:x=0}=e,{textSize:v=1}=e,{style:w=""}=e,{title:A="series_text"}=e;const M=["middle","middle","start","middle","end"];if(!Array.isArray(h)||!Array.isArray(p)||h.length!==p.length)throw"TextLabels: parameters 'xValues' and 'yValues' must be vectors of the same length.";const N=V("axes"),E=N.xLim;s(t,E,(t=>n(24,m=t)));const L=N.yLim;s(t,L,(t=>n(22,d=t)));const k=N.width;s(t,k,(t=>n(23,f=t)));const _=N.height;s(t,_,(t=>n(21,u=t)));const S=N.scale;return s(t,S,(t=>n(20,c=t))),t.$$set=t=>{"xValues"in t&&n(13,h=t.xValues),"yValues"in t&&n(14,p=t.yValues),"labels"in t&&n(0,$=t.labels),"pos"in t&&n(15,g=t.pos),"faceColor"in t&&n(16,y=t.faceColor),"borderColor"in t&&n(17,b=t.borderColor),"borderWidth"in t&&n(18,x=t.borderWidth),"textSize"in t&&n(19,v=t.textSize),"style"in t&&n(1,w=t.style),"title"in t&&n(2,A=t.title)},t.$$.update=()=>{if(8193&t.$$.dirty){const t=h.length;if(Array.isArray($)||n(0,$=Array(t).fill($)),$.length!=t&&n(0,$=Array(t).fill($[0])),$.length!==t)throw"TextLabels: parameter 'labels' must be a single text value or a vector of the same size as 'x' and 'y'."}25174016&t.$$.dirty&&n(7,r=N.scaleX(h,m,f)),6307840&t.$$.dirty&&n(6,o=N.scaleY(p,d,u)),1081344&t.$$.dirty&&n(5,l=[0,0,1,0,-1][g]*N.LABELS_MARGIN[c]),1081344&t.$$.dirty&&n(4,i=[0,1,0,-1,0][g]*N.LABELS_MARGIN[c]),1015808&t.$$.dirty&&n(3,a=`fill:${y};stroke-width:${x}px;stroke:${b};\n      font-size:${v}em; text-anchor:${M[g]};`)},[$,w,A,a,i,l,o,r,E,L,k,_,S,h,p,g,y,b,x,v,c,u,d,f,m]}class In extends ot{constructor(t){super(),rt(this,t,Tn,Cn,l,{xValues:13,yValues:14,labels:0,pos:15,faceColor:16,borderColor:17,borderWidth:18,textSize:19,style:1,title:2})}}function Yn(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Pn(t){let e,n=t[2],r=[];for(let e=0;e<n.length;e+=1)r[e]=Rn(Yn(t,n,e));return{c(){e=g("text");for(let t=0;t<r.length;t+=1)r[t].c();w(e,"style",t[3]),w(e,"x",t[5]),w(e,"y",t[4]),w(e,"dx",t[0]),w(e,"dy",t[1]),w(e,"dominant-baseline","middle"),w(e,"text-anchor","start")},m(t,n){m(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(39&o){let l;for(n=t[2],l=0;l<n.length;l+=1){const s=Yn(t,n,l);r[l]?r[l].p(s,o):(r[l]=Rn(s),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}8&o&&w(e,"style",t[3]),32&o&&w(e,"x",t[5]),16&o&&w(e,"y",t[4]),1&o&&w(e,"dx",t[0]),2&o&&w(e,"dy",t[1])},d(t){t&&h(e),p(r,t)}}}function Rn(t){let e,n,r=t[22]+"";return{c(){e=g("tspan"),w(e,"x",t[5]),w(e,"dx",t[0]),w(e,"dy",n=0===t[24]?0:t[1])},m(t,n){m(t,e,n),e.innerHTML=r},p(t,o){4&o&&r!==(r=t[22]+"")&&(e.innerHTML=r),32&o&&w(e,"x",t[5]),1&o&&w(e,"dx",t[0]),2&o&&n!==(n=0===t[24]?0:t[1])&&w(e,"dy",n)},d(t){t&&h(e)}}}function Xn(e){let n,r=void 0!==e[5]&&void 0!==e[4]&&e[2].length>0&&Pn(e);return{c(){r&&r.c(),n=x()},m(t,e){r&&r.m(t,e),m(t,n,e)},p(t,[e]){void 0!==t[5]&&void 0!==t[4]&&t[2].length>0?r?r.p(t,e):(r=Pn(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&h(n)}}}function zn(t,e,n){let r,o,l,i,a,c,u,{left:d}=e,{top:f}=e,{dx:m="0"}=e,{dy:h="1.25em"}=e,{elements:p}=e,{faceColor:$=$n.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:y=0}=e,{textSize:b=1}=e;const x=V("axes"),v=x.xLim;s(t,v,(t=>n(19,u=t)));const w=x.yLim;s(t,w,(t=>n(17,a=t)));const A=x.width;s(t,A,(t=>n(18,c=t)));const M=x.height;return s(t,M,(t=>n(16,i=t))),x.scale,t.$$set=t=>{"left"in t&&n(10,d=t.left),"top"in t&&n(11,f=t.top),"dx"in t&&n(0,m=t.dx),"dy"in t&&n(1,h=t.dy),"elements"in t&&n(2,p=t.elements),"faceColor"in t&&n(12,$=t.faceColor),"borderColor"in t&&n(13,g=t.borderColor),"borderWidth"in t&&n(14,y=t.borderWidth),"textSize"in t&&n(15,b=t.textSize)},t.$$.update=()=>{787456&t.$$.dirty&&n(5,r=x.scaleX([d],u,c)),198656&t.$$.dirty&&n(4,o=x.scaleY([f],a,i)),61440&t.$$.dirty&&n(3,l=`fill:${$};stroke-width:${y}px;stroke:${g};font-size:${b}em;`)},[m,h,p,l,o,r,v,w,A,M,d,f,$,g,y,b,i,a,c,u]}class Dn extends ot{constructor(t){super(),rt(this,t,zn,Xn,l,{left:10,top:11,dx:0,dy:1,elements:2,faceColor:12,borderColor:13,borderWidth:14,textSize:15})}}function qn(t){let e,n;return e=new In({props:{xValues:t[0],yValues:t[1],faceColor:t[3],borderColor:t[4],borderWidth:t[5],title:t[2],style:"series_scatter",labels:t[7],textSize:t[6]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.xValues=t[0]),2&n&&(r.yValues=t[1]),8&n&&(r.faceColor=t[3]),16&n&&(r.borderColor=t[4]),32&n&&(r.borderWidth=t[5]),4&n&&(r.title=t[2]),128&n&&(r.labels=t[7]),64&n&&(r.textSize=t[6]),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Wn(t,e,n){let{xValues:r}=e,{yValues:o}=e,{marker:l=1}=e,{title:s=""}=e,{faceColor:i="transparent"}=e,{borderColor:a=$n.PRIMARY}=e,{borderWidth:c=1}=e,{markerSize:u=1}=e;const d=["â—","â—¼","â–²","â–¼","â¬¥","+","*","â¨¯"];let f;if("number"!=typeof l||l<1||l>d.length)throw`ScatterSeries: parameter 'marker' must be a number from 1 to ${d.length}."`;const m=V("axes");return t.$$set=t=>{"xValues"in t&&n(0,r=t.xValues),"yValues"in t&&n(1,o=t.yValues),"marker"in t&&n(8,l=t.marker),"title"in t&&n(2,s=t.title),"faceColor"in t&&n(3,i=t.faceColor),"borderColor"in t&&n(4,a=t.borderColor),"borderWidth"in t&&n(5,c=t.borderWidth),"markerSize"in t&&n(6,u=t.markerSize)},t.$$.update=()=>{if(257&t.$$.dirty){if(!Array.isArray(r))throw"ScatterSeries: parameter 'xValues' must be a numeric vector.";const t=dt(r,.05);m.adjustXAxisLimits(t),n(7,f=""),n(7,f=d[l-1])}if(3&t.$$.dirty){if(!Array.isArray(o)||r.length!=o.length)throw"BarSeries: parameter 'yValues' must be a numeric vector of the same length as 'xValues'.";const t=dt(o,.05);m.adjustYAxisLimits(t)}},[r,o,s,i,a,c,u,f,l]}class jn extends ot{constructor(t){super(),rt(this,t,Wn,qn,l,{xValues:0,yValues:1,marker:8,title:2,faceColor:3,borderColor:4,borderWidth:5,markerSize:6})}}function Gn(t){let e,n;return{c(){e=g("g"),n=g("polyline"),w(n,"class","line"),w(n,"points",t[2]),w(e,"class","series series_line"),w(e,"style",t[1]),w(e,"title",t[0])},m(t,r){m(t,e,r),f(e,n)},p(t,r){4&r&&w(n,"points",t[2]),2&r&&w(e,"style",t[1]),1&r&&w(e,"title",t[0])},d(t){t&&h(e)}}}function Hn(e){let n,r=void 0!==e[2]&&Gn(e);return{c(){r&&r.c(),n=x()},m(t,e){r&&r.m(t,e),m(t,n,e)},p(t,[e]){void 0!==t[2]?r?r.p(t,e):(r=Gn(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&h(n)}}}function On(t,e,n){let r,o,l,i,a,c,u,d,f,{xValues:m}=e,{yValues:h}=e,{title:p=""}=e,{lineWidth:$=1}=e,{lineColor:g=$n.PRIMARY}=e,{lineType:y=1}=e;if(!Array.isArray(m)||!Array.isArray(h)||m.length!=h.length)throw"LineSeries: parameters 'xValues' and 'yValues' must be numeric vectors of the same length.";const b=dt(m,.05),x=dt(h,.05),v=V("axes");v.adjustXAxisLimits(b),v.adjustYAxisLimits(x);const w=v.xLim;s(t,w,(t=>n(19,f=t)));const A=v.yLim;s(t,A,(t=>n(17,u=t)));const M=v.width;s(t,M,(t=>n(18,d=t)));const N=v.height;s(t,N,(t=>n(16,c=t)));const E=v.scale;return s(t,E,(t=>n(15,a=t))),t.$$set=t=>{"xValues"in t&&n(8,m=t.xValues),"yValues"in t&&n(9,h=t.yValues),"title"in t&&n(0,p=t.title),"lineWidth"in t&&n(10,$=t.lineWidth),"lineColor"in t&&n(11,g=t.lineColor),"lineType"in t&&n(12,y=t.lineType)},t.$$.update=()=>{786688&t.$$.dirty&&n(14,r=v.scaleX(m,f,d)),197120&t.$$.dirty&&n(13,o=v.scaleY(h,u,c)),24576&t.$$.dirty&&n(2,l=void 0!==r&&void 0!==o?r.map(((t,e)=>`${t},${o[e]}`)).join(" "):void 0),39936&t.$$.dirty&&n(1,i=`fill:transparent;stroke:${g};stroke-width: ${$}px;\n      stroke-dasharray:${v.LINE_STYLES[a][y-1]}`)},[p,i,l,w,A,M,N,E,m,h,$,g,y,o,r,a,c,u,d,f]}class Bn extends ot{constructor(t){super(),rt(this,t,On,Hn,l,{xValues:8,yValues:9,title:0,lineWidth:10,lineColor:11,lineType:12})}}let Fn={POPULATIONS_PALE:["#33668820","#ff990020"],POPULATIONS:["#33668850","#ff990050"],SAMPLES:["#336688","#ff9900"],STAT_NAME:"#808080",STAT_VALUE:"#202020"};function Kn(t){let e,n,r,o;return e=new jn({props:{xValues:t[4],yValues:t[3],borderWidth:1,faceColor:t[12],borderColor:t[12]}}),r=new Bn({props:{xValues:t[5],yValues:t[10],lineColor:t[12]}}),{c(){Z(e.$$.fragment),n=b(),Z(r.$$.fragment)},m(t,l){tt(e,t,l),m(t,n,l),tt(r,t,l),o=!0},p(t,n){const o={};16&n&&(o.xValues=t[4]),8&n&&(o.yValues=t[3]),e.$set(o);const l={};32&n&&(l.xValues=t[5]),1024&n&&(l.yValues=t[10]),r.$set(l)},i(t){o||(K(e.$$.fragment,t),K(r.$$.fragment,t),o=!0)},o(t){U(e.$$.fragment,t),U(r.$$.fragment,t),o=!1},d(t){et(e,t),t&&h(n),et(r,t)}}}function Un(t){let e,n,r,o,l,s,i,a,c,u;return e=new Bn({props:{xValues:t[5],yValues:t[10],lineColor:t[13]}}),r=new jn({props:{xValues:t[4],yValues:t[3],borderWidth:1,faceColor:t[13],borderColor:t[13]}}),l=new jn({props:{xValues:t[6],yValues:t[7],borderWidth:2,markerSize:1.2,borderColor:t[14]}}),i=new Bn({props:{xValues:t[5],yValues:t[9],lineColor:t[14]}}),c=new Dn({props:{textSize:1.05,left:.55*lt(t[4])+.45*st(t[4]),top:.8*lt(t[3])+.2*st(t[3]),dx:"1em",dy:"1.35em",elements:t[8]}}),{c(){Z(e.$$.fragment),n=b(),Z(r.$$.fragment),o=b(),Z(l.$$.fragment),s=b(),Z(i.$$.fragment),a=b(),Z(c.$$.fragment)},m(t,d){tt(e,t,d),m(t,n,d),tt(r,t,d),m(t,o,d),tt(l,t,d),m(t,s,d),tt(i,t,d),m(t,a,d),tt(c,t,d),u=!0},p(t,n){const o={};32&n&&(o.xValues=t[5]),1024&n&&(o.yValues=t[10]),e.$set(o);const s={};16&n&&(s.xValues=t[4]),8&n&&(s.yValues=t[3]),r.$set(s);const a={};64&n&&(a.xValues=t[6]),128&n&&(a.yValues=t[7]),l.$set(a);const u={};32&n&&(u.xValues=t[5]),512&n&&(u.yValues=t[9]),i.$set(u);const d={};16&n&&(d.left=.55*lt(t[4])+.45*st(t[4])),8&n&&(d.top=.8*lt(t[3])+.2*st(t[3])),256&n&&(d.elements=t[8]),c.$set(d)},i(t){u||(K(e.$$.fragment,t),K(r.$$.fragment,t),K(l.$$.fragment,t),K(i.$$.fragment,t),K(c.$$.fragment,t),u=!0)},o(t){U(e.$$.fragment,t),U(r.$$.fragment,t),U(l.$$.fragment,t),U(i.$$.fragment,t),U(c.$$.fragment,t),u=!1},d(t){et(e,t),t&&h(n),et(r,t),t&&h(o),et(l,t),t&&h(s),et(i,t),t&&h(a),et(c,t)}}}function Qn(t){let e,n;return e=new Dn({props:{textSize:1.05,left:.45*lt(t[4])+.55*st(t[4]),top:.8*lt(t[3])+.2*st(t[3]),dx:"1em",dy:"1.35em",elements:t[8]}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.left=.45*lt(t[4])+.55*st(t[4])),8&n&&(r.top=.8*lt(t[3])+.2*st(t[3])),256&n&&(r.elements=t[8]),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Jn(t){let e,n,r,o,l,s,i;e=new Dn({props:{textSize:1.05,left:lt(t[4]),top:st(t[3]),dx:"1em",dy:"1.35em",elements:t[11]}});const a=[Un,Kn],c=[];function u(t,e){return void 0!==t[0]&&t[1]>=0?0:1}r=u(t),o=c[r]=a[r](t);let d=void 0!==t[2]&&Qn(t);return{c(){Z(e.$$.fragment),n=b(),o.c(),l=b(),d&&d.c(),s=x()},m(t,o){tt(e,t,o),m(t,n,o),c[r].m(t,o),m(t,l,o),d&&d.m(t,o),m(t,s,o),i=!0},p(t,n){const i={};16&n&&(i.left=lt(t[4])),8&n&&(i.top=st(t[3])),2048&n&&(i.elements=t[11]),e.$set(i);let f=r;r=u(t),r===f?c[r].p(t,n):(B(),U(c[f],1,1,(()=>{c[f]=null})),F(),o=c[r],o?o.p(t,n):(o=c[r]=a[r](t),o.c()),K(o,1),o.m(l.parentNode,l)),void 0!==t[2]?d?(d.p(t,n),4&n&&K(d,1)):(d=Qn(t),d.c(),K(d,1),d.m(s.parentNode,s)):d&&(B(),U(d,1,1,(()=>{d=null})),F())},i(t){i||(K(e.$$.fragment,t),K(o),K(d),i=!0)},o(t){U(e.$$.fragment,t),U(o),U(d),i=!1},d(t){et(e,t),t&&h(n),c[r].d(t),t&&h(l),d&&d.d(t),t&&h(s)}}}function Zn(e){let n,r;return n=new wn({props:{slot:"xaxis"}}),{c(){Z(n.$$.fragment)},m(t,e){tt(n,t,e),r=!0},p:t,i(t){r||(K(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(t){et(n,t)}}}function tr(e){let n,r;return n=new kn({props:{slot:"yaxis"}}),{c(){Z(n.$$.fragment)},m(t,e){tt(n,t,e),r=!0},p:t,i(t){r||(K(n.$$.fragment,t),r=!0)},o(t){U(n.$$.fragment,t),r=!1},d(t){et(n,t)}}}function er(t){let e,n;return e=new pn({props:{limX:dt(t[4]),limY:dt(t[3]),xLabel:"x",yLabel:"y",$$slots:{yaxis:[tr],xaxis:[Zn],default:[Jn]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,[n]){const r={};16&n&&(r.limX=dt(t[4])),8&n&&(r.limY=dt(t[3])),528383&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function nr(t,e,n){return[`<tspan font-weight=bold>${e}:</tspan>`,"y =  "+t.coeffs.estimate.map(((t,e)=>(e>0?"+":"")+' <tspan fill="'+n+'" font-weight=bold>'+t.toFixed(2)+"</tspan>"+(e>0?"<tspan font-weight=bold>x</tspan>":"")+(e>1?'<tspan font-size="70%" baseline-shift = "super">'+e+"</tspan>":""))).join(" ")]}function rr(t){return[`s(e) =  <tspan font-weight=bold>${t.se.toFixed(2)}</tspan>`,`R2 =  <tspan font-weight=bold>${t.R2.toFixed(3)}</tspan>`]}function or(t,e,n){let r,o,l,s,i,{globalModel:a}=e,{localModel:c}=e,{indSeg:u}=e,{segments:d}=e,{statCV:f}=e;const m=Fn.SAMPLES[0]+"70",h=Fn.SAMPLES[0]+"50",p=Fn.SAMPLES[0];let $=[],g=[],y=[],b=[];return t.$$set=t=>{"globalModel"in t&&n(15,a=t.globalModel),"localModel"in t&&n(0,c=t.localModel),"indSeg"in t&&n(1,u=t.indSeg),"segments"in t&&n(16,d=t.segments),"statCV"in t&&n(2,f=t.statCV)},t.$$.update=()=>{32768&t.$$.dirty&&n(4,r=a.data.X[0]),32768&t.$$.dirty&&n(3,o=a.data.y),16&t.$$.dirty&&n(5,l=ut(lt(r),st(r),100)),32768&t.$$.dirty&&n(11,s=nr(a,"Global model",p+"a0").concat(rr(a.stat))),32800&t.$$.dirty&&n(10,i=re(a,l)),65599&t.$$.dirty&&void 0!==c&&(c.data.X[0],c.data.y,n(8,y=u>=0?nr(c,"Local model",p):["<tspan font-weight=bold>CV performance:</tspan>"].concat(rr(f))),n(9,b=re(c,l)),n(6,$=bt(r,d.val[u])),n(7,g=bt(o,d.val[u])))},[c,u,f,o,r,l,$,g,y,b,i,s,m,h,p,a,d]}class lr extends ot{constructor(t){super(),rt(this,t,or,er,l,{globalModel:15,localModel:0,indSeg:1,segments:16,statCV:2})}}function sr(t){let e,n,r,o,l,s,i,a;function c(e){t[13](e)}let u={disable:t[3]>-1,id:"cvType",label:"CV",options:["full","random","venetian"]};function d(e){t[14](e)}void 0!==t[0]&&(u.value=t[0]),e=new Ee({props:u}),I.push((()=>J(e,"value",c)));let f={disable:t[3]>-1,id:"pDegree",label:"Polynomial",options:Object.keys(t[8])};return void 0!==t[1]&&(f.value=t[1]),o=new Ee({props:f}),I.push((()=>J(o,"value",d))),i=new xe({props:{disable:t[3]>-1,id:"runCV",label:"",text:"Run"}}),i.$on("click",t[15]),{c(){Z(e.$$.fragment),r=b(),Z(o.$$.fragment),s=b(),Z(i.$$.fragment)},m(t,n){tt(e,t,n),m(t,r,n),tt(o,t,n),m(t,s,n),tt(i,t,n),a=!0},p(t,r){const s={};8&r&&(s.disable=t[3]>-1),!n&&1&r&&(n=!0,s.value=t[0],D((()=>n=!1))),e.$set(s);const a={};8&r&&(a.disable=t[3]>-1),!l&&2&r&&(l=!0,a.value=t[1],D((()=>l=!1))),o.$set(a);const c={};8&r&&(c.disable=t[3]>-1),i.$set(c)},i(t){a||(K(e.$$.fragment,t),K(o.$$.fragment,t),K(i.$$.fragment,t),a=!0)},o(t){U(e.$$.fragment,t),U(o.$$.fragment,t),U(i.$$.fragment,t),a=!1},d(t){et(e,t),t&&h(r),et(o,t),t&&h(s),et(i,t)}}}function ir(t){let e,n,r,o,l,s,i,a,c,u;return r=new lr({props:{segments:t[2],indSeg:t[3],statCV:t[5],localModel:t[6],globalModel:t[7]}}),s=new Qe({props:{segments:t[2],indSeg:t[3],x:t[9],y:t[10],ycv:t[4]}}),c=new me({props:{$$slots:{default:[sr]},$$scope:{ctx:t}}}),{c(){e=$("div"),n=$("div"),Z(r.$$.fragment),o=b(),l=$("div"),Z(s.$$.fragment),i=b(),a=$("div"),Z(c.$$.fragment),w(n,"class","app-plot-area svelte-s1hwyg"),w(l,"class","app-table-area svelte-s1hwyg"),w(a,"class","app-controls-area svelte-s1hwyg"),w(e,"class","app-layout svelte-s1hwyg")},m(t,d){m(t,e,d),f(e,n),tt(r,n,null),f(e,o),f(e,l),tt(s,l,null),f(e,i),f(e,a),tt(c,a,null),u=!0},p(t,e){const n={};4&e&&(n.segments=t[2]),8&e&&(n.indSeg=t[3]),32&e&&(n.statCV=t[5]),64&e&&(n.localModel=t[6]),128&e&&(n.globalModel=t[7]),r.$set(n);const o={};4&e&&(o.segments=t[2]),8&e&&(o.indSeg=t[3]),16&e&&(o.ycv=t[4]),s.$set(o);const l={};1048587&e&&(l.$$scope={dirty:e,ctx:t}),c.$set(l)},i(t){u||(K(r.$$.fragment,t),K(s.$$.fragment,t),K(c.$$.fragment,t),u=!0)},o(t){U(r.$$.fragment,t),U(s.$$.fragment,t),U(c.$$.fragment,t),u=!1},d(t){t&&h(e),et(r),et(s),et(c)}}}function ar(e){let n;return{c(){n=$("div"),n.innerHTML="<h2>Cross-validation</h2> \n      <p>Cross-validation is a way to estimate the sampling error without taking new samples from the population. The idea is to split your original observations to several segments and then, for each segment, make a local model by taking the segment observations out of the dataset, and use the rest for training the model. After that, the local model is used to predict\n         the response values of the excluded observations. The procedure is repeated for each segment, so at the end every observation will have a predicted response value (<em>y</em><sub>cv</sub>).</p> \n      <p>Splitting the observations into segments can be done in several ways. The simplest is to consider\n         every observation as individual segment. In this case the number of segments is equal to the number of observations and thus on every step one observation will be taking out, while the rest will be used for training the local model. This way is called <em>leave-one-out</em> or <em>full cross-validation</em>. Alternatively you can assign two or more observations to each segment. This can be done randomly (<em>random segmented cross-validation</em>) or systematically by taking every k-th observation (<em>venetian blinds</em>).</p> \n      <p>This app shows how all three methods work for a simple dataset with 12 observations. If random or systematic split is selected, number of segments will be equal to 4. Cross-validation can help to detect overfitting, you can also test this in the app â€”Â try to use overfitted model, e.g. cubic polynomial and will see that despite the calibration error is getting smaller, the cross-validation error will be larger for overcomplicated models.</p>",w(n,"slot","help")},m(t,e){m(t,n,e)},p:t,d(t){t&&h(n)}}}function cr(t){let e,n;return e=new ce({props:{$$slots:{help:[ar],default:[ir]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,[n]){const r={};1048831&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}const ur=12;function dr(t,e,n){let r,o,l="random",s="line";const i={line:1,quadratic:2,cubic:3},a=ft(ur),c=function(t,e=!1){return e?[...t].sort(((t,e)=>e-t)):[...t].sort(((t,e)=>t-e))}(ft(ur,0,1)),u=c.map(((t,e)=>2.5*t-2+.5*a[e])),d=t=>new Promise((e=>setTimeout(e,t)));let f,m,h={},p=-1,$=yt(NaN,ur);function g(t,e){n(4,$=yt(NaN,ur)),n(6,m=void 0),n(5,f=void 0),n(3,p=-1);let r=ut(1,ur);"random"===t&&(r=function(t){let e,n,r=[...t],o=r.length;for(;o;)n=Math.floor(Math.random()*o--),e=r[o],r[o]=r[n],r[n]=e;return r}(r));let o=1,l=jt(ut(1,ur));"full"!==t&&(o=ur/e,l=jt(Kt(r,e,o)));const s=l.map((t=>r.filter((e=>!t.includes(e)))));let i=yt(0,ur);for(let t=0;t<l.length;t++)i=kt(i,yt(t+1,o),l[t]);return{cal:s,val:l,num:i}}async function y(){n(4,$=yt(NaN,ur)),n(5,f=void 0),n(3,p=-1);for(let t=0;t<h.val.length;t++)n(3,p=t),n(6,m=ne(bt(c,h.cal[p]),bt(u,h.cal[p]),r)),n(4,$=kt($,re(m,bt(c,h.val[p])),h.val[p])),await d(1e3);n(3,p=-1),n(5,f=function(t,e,n){const o=it(_t(Vt(t,e),(t=>t**2))),l=it(_t(Vt(t,at(t)),(t=>t**2))),s=t.length-(r+1);return{R2:1-o/l,se:Math.sqrt(o/s)}}(u,$))}return t.$$.update=()=>{2&t.$$.dirty&&n(12,r=i[s]),4096&t.$$.dirty&&n(7,o=ne(c,u,r)),1&t.$$.dirty&&n(2,h=g(l,4))},[l,s,h,p,$,f,m,o,i,c,u,y,r,function(t){l=t,n(0,l)},function(t){s=t,n(1,s)},()=>y()]}return new class extends ot{constructor(t){super(),rt(this,t,dr,cr,l,{})}}({target:document.getElementById("graasta-app-container")})}();
//# sourceMappingURL=asta-b306.js.map
