var Jr=Object.defineProperty;var xr=(we,H,Le)=>H in we?Jr(we,H,{enumerable:!0,configurable:!0,writable:!0,value:Le}):we[H]=Le;var Ke=(we,H,Le)=>(xr(we,typeof H!="symbol"?H+"":H,Le),Le);(function(){"use strict";var we=document.createElement("style");we.textContent=`#graasta-app-container{height:100%!important;width:100%!important}.graasta-app.svelte-zbdjkl.svelte-zbdjkl{font-family:Helvetica,Areal,Verdana,sans-serif;display:block;position:relative;font-size:1em;min-width:800px;min-height:450px;max-height:100%;max-width:100%;aspect-ratio:16/9;width:auto;height:auto;object-fit:contain;box-sizing:border-box;padding:0;margin:0 auto}.graasta-app.svelte-zbdjkl .svelte-zbdjkl{box-sizing:border-box;margin:0;padding:0}.graasta-app.svelte-zbdjkl .svelte-zbdjkl:glbal(.plot){box-shadow:0 0 5px #30303020}.graasta-app.svelte-zbdjkl .content.svelte-zbdjkl{width:100%;height:100%}.helptext.svelte-zbdjkl.svelte-zbdjkl{font-family:Open Sans,sans-serif;position:absolute;top:0;width:0;left:0;bottom:0;z-index:999;background:white;box-sizing:border-box;width:100%;height:100%;padding:1em;margin:0;line-height:1.35em;font-size:1em;color:#303030}.helptext.svelte-zbdjkl h2{padding:1.25em 0 .5em;font-size:1.2em}.helptext.svelte-zbdjkl p{padding:0 0 .5em;line-height:1.5em;font-size:1em}.app-control-block.svelte-1pi0zcj{box-sizing:border-box;width:100%;min-width:200px}.app-control-error.svelte-1pi0zcj{padding:.5em .5em .25em .65em;font-size:.75em;color:#dc143c}fieldset.svelte-1pi0zcj{background:#f4f4f4;margin:0;box-shadow:0 0 2px #30303020;border:none;padding:.5em}legend.svelte-1pi0zcj{color:#606060;float:left;width:100%;display:block;margin:0;padding:.25em 0;font-size:1em;font-weight:700}.app-control.svelte-m62yuw.svelte-m62yuw{font-size:1em;margin:.25em 0 0;padding:.15em .25em;display:flex;align-items:center;justify-content:flex-begin;position:relative}.app-control.svelte-m62yuw>label.svelte-m62yuw{height:1.5em;line-height:1.5em;flex:0 0 16ch;max-width:16ch;user-select:none;-webkit-user-select:none;cursor:default}.app-control.svelte-m62yuw>slot.svelte-m62yuw{width:100%;flex:1 1 auto}.shield.svelte-m62yuw.svelte-m62yuw{display:none}.app-control.disable.svelte-m62yuw>label.svelte-m62yuw{color:#b0b0b0}.app-control.hidden.svelte-m62yuw.svelte-m62yuw{visibility:hidden}.app-control.disable.svelte-m62yuw>.shield.svelte-m62yuw{display:block;background:#ffffff50;position:absolute;top:0;left:0;width:100%;height:100%;z-index:999}button.svelte-176r7j6{height:1.5em;font-size:1em;padding:0 1em;margin:0;color:#606060;background:#e0e0e0;box-shadow:none;border:none;border-radius:3px;white-space:nowrap;user-select:none}button.svelte-176r7j6:hover{color:#fafafa;background:#606060}input.svelte-yqpg3s{display:none}.selector.svelte-yqpg3s{position:relative;box-sizing:border-box;display:inline-block;flex:0 0 auto;background:#e0e0e0;font-size:1em;height:1.5em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yqpg3s{cursor:default;padding:0 .5em;margin:0 1px;color:#606060;transition:background-color .5s ease}.option.selected.svelte-yqpg3s{border-radius:3px;background-color:#606060;color:#fefefe}.datatable__value.svelte-1m7xmmh{vertical-align:middle;padding:.25em .1em;margin:0;border-spacing:0;border-collapse:collapse}.datatable__value_number.svelte-1m7xmmh{text-align:right}.datatable.svelte-1r68t2h{margin:0;border-spacing:0;border-collapse:collapse}.datatable__label.svelte-1r68t2h{vertical-align:middle;padding:.25em .1em;margin:0;border-spacing:0;border-collapse:collapse}.datatable__label.svelte-1r68t2h{font-weight:700;vertical-align:middle}.table-container.svelte-sj44zy{padding:1em}.datatable{width:100%;font-size:.9em}.datatable tr td{width:18%}.datatable tr td:first-child{width:10%}.datatable .datatable__label{text-align:right;border-bottom:1px solid #909090}.datatable .datatable__row.selected .datatable__value{background:#33668820;color:#368}.datatable tr .datatable__value{border-bottom:1px solid #ffffff}.datatable tr:last-child .datatable__value:last-child{visibility:visible;font-weight:700}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;user-select:none}.app-layout.svelte-u5opub{width:100%;height:100%;position:relative;display:grid;grid-template-areas:"plot table" "plot controls" "plot .";grid-template-rows:min-content min-content auto;grid-template-columns:auto min(400px,35%)}.app-plot-area.svelte-u5opub{grid-area:plot}.app-table-area.svelte-u5opub{grid-area:table}.app-controls-area.svelte-u5opub{padding-left:1em;grid-area:controls}
`,document.head.appendChild(we);function H(){}function Le(l,e){for(const t in e)l[t]=e[t];return l}function kt(l){return l()}function Ct(){return Object.create(null)}function ze(l){l.forEach(kt)}function Mt(l){return typeof l=="function"}function J(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function nl(l){return Object.keys(l).length===0}function ll(l,...e){if(l==null)return H;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function O(l,e,t){l.$$.on_destroy.push(ll(e,t))}function pe(l,e,t,n){if(l){const r=At(l,e,t,n);return l[0](r)}}function At(l,e,t,n){return l[1]&&n?Le(t.ctx.slice(),l[1](n(e))):t.ctx}function ve(l,e,t,n){if(l[2]&&n){const r=l[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|r[i];return o}return e.dirty|r}return e.dirty}function ye(l,e,t,n,r,o){if(r){const s=At(e,t,n,o);l.p(s,r)}}function ke(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Y(l,e){l.appendChild(e)}function A(l,e,t){l.insertBefore(e,t||null)}function M(l){l.parentNode&&l.parentNode.removeChild(l)}function he(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function j(l){return document.createElement(l)}function ne(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Ce(l){return document.createTextNode(l)}function W(){return Ce(" ")}function le(){return Ce("")}function Ne(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function m(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function rl(l){return Array.from(l.childNodes)}function Ye(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function Et(l,e){l.value=e==null?"":e}function Lt(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Me(l,e,t){l.classList[t?"add":"remove"](e)}function ol(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(l,t,n,e),r}let Ge;function De(l){Ge=l}function Fe(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function sl(l){Fe().$$.on_mount.push(l)}function il(l){Fe().$$.on_destroy.push(l)}function al(){const l=Fe();return(e,t,{cancelable:n=!1}={})=>{const r=l.$$.callbacks[e];if(r){const o=ol(e,t,{cancelable:n});return r.slice().forEach(s=>{s.call(l,o)}),!o.defaultPrevented}return!0}}function fl(l,e){return Fe().$$.context.set(l,e),e}function Se(l){return Fe().$$.context.get(l)}function ul(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const qe=[],Te=[],We=[],rt=[],cl=Promise.resolve();let ot=!1;function hl(){ot||(ot=!0,cl.then(Nt))}function st(l){We.push(l)}function zt(l){rt.push(l)}const it=new Set;let Pe=0;function Nt(){if(Pe!==0)return;const l=Ge;do{try{for(;Pe<qe.length;){const e=qe[Pe];Pe++,De(e),dl(e.$$)}}catch(e){throw qe.length=0,Pe=0,e}for(De(null),qe.length=0,Pe=0;Te.length;)Te.pop()();for(let e=0;e<We.length;e+=1){const t=We[e];it.has(t)||(it.add(t),t())}We.length=0}while(qe.length);for(;rt.length;)rt.pop()();ot=!1,it.clear(),De(l)}function dl(l){if(l.fragment!==null){l.update(),ze(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(st)}}const Xe=new Set;let Ve;function de(){Ve={r:0,c:[],p:Ve}}function me(){Ve.r||ze(Ve.c),Ve=Ve.p}function y(l,e){l&&l.i&&(Xe.delete(l),l.i(e))}function L(l,e,t,n){if(l&&l.o){if(Xe.has(l))return;Xe.add(l),Ve.c.push(()=>{Xe.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function ml(l,e){l.d(1),e.delete(l.key)}function gl(l,e,t,n,r,o,s,i,a,f,u,h){let c=l.length,d=o.length,g=c;const b={};for(;g--;)b[l[g].key]=g;const p=[],k=new Map,T=new Map;for(g=d;g--;){const _=h(r,o,g),z=t(_);let E=s.get(z);E?n&&E.p(_,e):(E=f(z,_),E.c()),k.set(z,p[g]=E),z in b&&T.set(z,Math.abs(g-b[z]))}const S=new Set,w=new Set;function V(_){y(_,1),_.m(i,u),s.set(_.key,_),u=_.first,d--}for(;c&&d;){const _=p[d-1],z=l[c-1],E=_.key,v=z.key;_===z?(u=_.first,c--,d--):k.has(v)?!s.has(E)||S.has(E)?V(_):w.has(v)?c--:T.get(E)>T.get(v)?(w.add(E),V(_)):(S.add(v),c--):(a(z,s),c--)}for(;c--;){const _=l[c];k.has(_.key)||a(_,s)}for(;d;)V(p[d-1]);return p}function St(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function B(l){l&&l.c()}function D(l,e,t,n){const{fragment:r,after_update:o}=l.$$;r&&r.m(e,t),n||st(()=>{const s=l.$$.on_mount.map(kt).filter(Mt);l.$$.on_destroy?l.$$.on_destroy.push(...s):ze(s),l.$$.on_mount=[]}),o.forEach(st)}function F(l,e){const t=l.$$;t.fragment!==null&&(ze(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _l(l,e){l.$$.dirty[0]===-1&&(qe.push(l),hl(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function $(l,e,t,n,r,o,s,i=[-1]){const a=Ge;De(l);const f=l.$$={fragment:null,ctx:[],props:o,update:H,not_equal:r,bound:Ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ct(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(f.root);let u=!1;if(f.ctx=t?t(l,e.props||{},(h,c,...d)=>{const g=d.length?d[0]:c;return f.ctx&&r(f.ctx[h],f.ctx[h]=g)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](g),u&&_l(l,h)),c}):[],f.update(),u=!0,ze(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const h=rl(e.target);f.fragment&&f.fragment.l(h),h.forEach(M)}else f.fragment&&f.fragment.c();e.intro&&y(l.$$.fragment),D(l,e.target,e.anchor,e.customElement),Nt()}De(a)}class ee{$destroy(){F(this,1),this.$destroy=H}$on(e,t){if(!Mt(t))return H;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!nl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Tt(l){if(I(l))return Tt(l.v);const e=new R.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new R(e)}function He(l,e){if(I(l))return He(l.v,e);e===void 0&&(e=.1);const t=Vt(l),n=(t[1]-t[0])*e;return[t[0]-n,t[1]+n]}function Vt(l){if(I(l))return Vt(l.v);let e=l[0],t=l[0];for(let n=1;n<l.length;n++)l[n]<e&&(e=l[n]),l[n]>t&&(t=l[n]);return[e,t]}function Qe(l){if(I(l))return Qe(l.v);let e=0;const t=l.length;for(let n=0;n<t;n++){const r=l[n];e+=r*r}return e}function It(l,e){if(e===void 0&&(e=!1),I(l))return It(l.v);const t=at(l);let n=0;for(let r=0;r<l.length;r++){const o=l[r]-t;n=n+o*o}return n/(e?l.length:l.length-1)}function at(l){return I(l)?at(l.v):Ue(l)/l.length}function Ue(l){if(I(l))return Ue(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function Rt(l){if(I(l))return Rt(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function ie(l){return I(l)||ae(l)?l.v[ft(l.v)-1]:l[ft(l)-1]}function ft(l){if(I(l)||ae(l))return ft(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function oe(l){return I(l)||ae(l)?l.v[ut(l.v)-1]:l[ut(l)-1]}function ut(l){if(I(l)||ae(l))return ut(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Ae(l,e,t,n,r,o){if(n===void 0&&(n=1e-6),r===void 0&&(r=1e-5),typeof e!="number"||typeof t!="number")throw Error("Parameters 'a' and 'b' must be numbers.");if(t<e)throw Error("Parameter 'b' must be larger 'a'.");if(e===-1/0&&t!==1/0)return Ae(_=>l(t-(1-_)/_)/_**2,0,1);if(e!==-1/0&&t===1/0)return Ae(_=>l(e+(1-_)/_)/_**2,0,1);if(e===-1/0&&t===1/0)return Ae(_=>(l((1-_)/_)+l((_-1)/_))/_**2,0,1);const s=[1/6,2/6,4/6,5/6],i=[2/6,1/6,1/6,2/6],a=[1/4,1/4,1/4,1/4],f=[1,0,0,1];let u=s.length,h=t-e,c;if(o===void 0)c=s.map(_=>l(e+_*h));else{c=new Array(u);for(let _=0,z=0;z<u;z++)c[z]=f[z]===1?l(e+s[z]*h):o[_++]}let d=0,g=0;for(let _=0;_<u;_++)d+=i[_]*c[_]*h,g+=a[_]*c[_]*h;if(isNaN(g)||isNaN(d))throw Error("Numerical integration ended up with NaN number.");let b=n+r*Math.abs(d);if(Math.abs((d-g)/3)<b)return d;n=n/Math.sqrt(2);const k=(e+t)/2,T=c.filter((_,z)=>z<u/2),S=c.filter((_,z)=>z>=u/2),w=Ae(l,e,k,r,n,T),V=Ae(l,k,t,r,n,S);return w+V}function Yt(l,e=0,t=1){let n=R.zeros(l);for(let r=0;r<l;r++)n.v[r]=e+Math.random()*(t-e);return n}function qt(l,e=0,t=1){let n=R.zeros(l);for(let r=0;r<l;r++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();n.v[r]=o*Math.sin(s)*t+e}return n}function ct(l,e=0,t=1){if(I(l))return l.apply(se=>ct(se,e,t));if(e!==0||t!==1)return ct(l)*t+e;if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;const n=.425,r=5,o=.180625,s=1.6,i=3.3871327179,a=5.0434271938*10,f=1.5929113202*100,u=5.910937472*10,h=1.7895169469*10,c=7.8757757664*10,d=6.71875636*10,g=1.4234372777,b=2.75681539,p=1.3067284816,k=1.7023821103*.1,T=7.370016425*.1,S=1.2021132975*.1,w=6.657905115,V=3.081226386,_=4.2868294337*.1,z=1.7337203997*.01,E=2.4197894225*.1,v=1.2258202635*.01,G=l-.5;let P;if(Math.abs(G)<=n)return P=o-G*G,G*(((u*P+f)*P+a)*P+i)/(((d*P+c)*P+h)*P+1);P=G<0?l:1-l,P=Math.sqrt(-Math.log(P));let K;return P<=r?(P=P-s,K=(((k*P+p)*P+b)*P+g)/((S*P+T)*P+1)):(P=P-r,K=((z*P+_)*P+V+w)/((v*P+E)*P+1)),G<0?-K:K}function Pt(l,e){if(e<0)throw new Error('Parameter "dof" should be a positive number.');if(I(l))return l.apply(r=>Pt(r,e));const t=-.5*(e+1);return 1/(Math.sqrt(e)*Gt(.5,e/2))*Math.pow(1+l*l/e,t)}function Ze(l,e){if(e==null||e<1)throw Error('Parameter "dof" (degrees of freedom) must be an integer number >= 1.');return I(l)?l.apply(t=>Ze(t,e)):l===0?.5:l===-1/0?0:l===1/0?1:l>0?1-Ze(-l,e):Ae(t=>Pt(t,e),-1/0,l)}function jt(l,e){if(e==null||e<1)throw Error('Parameter "dof" (degrees of freedom) must be an integer number >= 1.');if(l<0||l>1)throw Error('Parameter "p" must be between 0 and 1.');if(I(l))return l.apply(f=>jt(f,e));if(l<1e-10)return-1/0;if(l>.9999999999)return 1/0;if(e===1)return Math.tan(Math.PI*(l-.5));if(e===2)return 2*(l-.5)*Math.sqrt(2/(4*l*(1-l)));let t=-1;l>=.5?(t=1,l=2*(1-l)):(t=-1,l=2*l);const n=1/(e-.5),r=48/n**2;let o=((20700*n/r-98)*n-16)*n+96.36;const s=((94.5/(r+o)-3)/r+1)*Math.sqrt(n*Math.PI/2)*e;let i=s*l,a=i**(2/e);return a>.05+n?(i=ct(l*.5),a=i*i,e<5&&(o=o+.3*(e-4.5)*(i+.6)),o=(((.05*s*i-5)*i-7)*i-2)*i+r+o,a=(((((.4*a+6.3)*a+36)*a+94.5)/o-a-3)/r+1)*i,a=n*a**2,a=a>.002?Math.exp(a)-1:.5*a**2+a):a=((1/(((e+6)/(e*a)-.089*s-.822)*(e+2)*3)+.5/(e+4))*a-1)*(e+1)/(e+2)+1/a,t*Math.sqrt(e*a)}function Ot(l,e,t){if(l<0||e<0||t<0)throw new Error("All 3 parameters must be positive.");return I(l)?l.apply(n=>Ot(n,e,t)):bl(e*l/(e*l+t),e/2,t/2)}function bl(l,e,t){return l===0?0:l===1?1:t===1?l**e:e===1?1-(1-l)**t:Ae(n=>n**(e-1)*(1-n)**(t-1),0,l)/Gt(e,t)}function Be(l){if(I(l))return l.apply(Be);if(l<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(l<.5)return Math.PI/(Math.sin(Math.PI*l)+Be(1-l));l=l-1;let t=.9999999999998099;for(let r=0;r<e.length;r++)t=t+e[r]/(l+r+1);const n=l+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(n,l+.5)*Math.exp(-n)*t}function Gt(l,e){return e>100?Ae(t=>Math.pow(t,l-1)/Math.pow(1+t,l+e),0,1/0):Be(l)*Be(e)/Be(l+e)}function Dt(l){const e=l.nrows,t=l.ncols;if(e<t){const s=Dt(l.subset([],fe.seq(1,e)));return{Q:s.Q,R:Ht(s.Q,l)}}let n=ge.eye(e),r=l.t();for(let s=1;s<=t;s++)for(let i=e;i>=s+1;i--){const a=r.v.subarray((i-2)*t,i*t),f=n.v.subarray((i-2)*e,i*e),u=a.slice(),h=f.slice(),[c,d,g]=wl(u[s-1],u[s-1+t]);for(let b=0;b<t;b++)a[b]=u[b]*c+u[b+t]*d,a[b+t]=u[b]*-d+u[b+t]*c,f[b]=h[b]*c+h[b+e]*d,f[b+e]=h[b]*-d+h[b+e]*c;for(let b=t;b<e;b++)f[b]=h[b]*c+h[b+e]*d,f[b+e]=h[b]*-d+h[b+e]*c}const o=fe.seq(1,t);return{Q:e===t?n:n.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function wl(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const o=e/l,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,l*s]}const t=l/e,n=Math.sqrt(1+t*t),r=1/n;return[t*r,r,e*n]}function Ft(l){return typeof l=="number"}function Ht(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,r=e.nrows,o=e.ncols,s=n,i=o,a=t,f=new Float64Array(s*i);for(let u=0;u<i;u++){const h=e.v.subarray(u*r,(u+1)*r),c=f.subarray(u*s,(u+1)*s);for(let d=0;d<s;d++){const g=l.v.subarray(d*t,(d+1)*t);let b=0;for(let p=0;p<a;p++)b+=g[p]*h[p];c[d]=b}}return new ge(f,s,i)}function Bt(...l){if(l.length===1)return l[0];const e=Re(l[0])?l[0].nrows:l[0].length;if(!l.reduce((i,a)=>i&(Re(a)?a.nrows===e:a.length===e),!0))throw Error("cbind: all matrices must the same number of rows.");const n=l.reduce((i,a)=>i+(Re(a)?a.ncols:1),0),r=e*n,o=new ge.valuesConstructor(r);let s=0;for(const i of l)o.set(i.v,s),s+=i.v.length;return new ge(o,e,n)}function Ie(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new R(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new ge(l.v,e,t)}function Re(l){return l.constructor===ge}const q=class{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==q.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(e.length!=t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return q.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const n=q.eye(e),r=q.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let a=0;a<e;a++)r.v[i*e+a]=n.v[i*e+a]/s;for(let a=e-2;a>=0;a--){let f=n.getcolumn(a+1);const u=o.getcolref(a+1);for(let h=a+1;h<e;h++){const c=r.getcolumn(h+1);f=f.subtract(c.mult(u[h]))}r.v.set(f.divide(u[a]).v,a*e)}return r.t()}if(this.islowertriangular()){const n=this.diag();if(Rt(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=q.eye(e),o=q.eye(e),s=this.t(),i=0,a=s.v[0];for(let f=0;f<e;f++)o.v[i*e+f]=r.v[i*e+f]/a;for(let f=1;f<e;f++){let u=r.getcolumn(f+1);const h=s.getcolref(f+1);for(let c=0;c<f;c++){const d=o.getcolumn(c+1);u=u.subtract(d.mult(h[c]))}o.v.set(u.divide(h[f]).v,f*e)}return o.t()}const t=Dt(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>q.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>q.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new R(t)}t(){const e=this.nrows,t=this.ncols,n=new q.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let s=0;s<this.nrows;s++)n[s*t+r]=o[s]}return new q(n,t,e)}for(let r=0;r<this.nrows;r++){const o=n.subarray(r*t,(r+1)*t);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+r]}return new q(n,t,e)}dot(e){if(I(e))return new q(mt(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(Re(e))return new q(mt(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(Re(e))return new q(ht(this.v,e.v,t),this.nrows,this.ncols);if(Ft(e))return new q(dt(this.v,e,t),this.nrows,this.ncols);if(!I(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const r=new q.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(dt(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new q(r,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const r=new q.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(ht(this.getcolref(o+1),e.v,t),o*this.nrows);return new q(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,r=new q.valuesConstructor(n);for(let o=0;o<n;o++)r[o]=e(this.getcolref(o+1));return new R(r)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,r=new q.valuesConstructor(n);for(let o=0;o<n;o++)r[o]=e(this.v[o]);return new q(r,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=fe.seq(1,this.nrows)),ae(t)||(t=_e(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=fe.seq(1,this.ncols)),ae(n)||(n=_e(n));const r=t.length,o=n.length;if(ie(t)<1||oe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(ie(n)<1||oe(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<n.length;s++){const i=e.getcolref(s+1),a=(n.v[s]-1)*this.nrows;for(let f=0;f<t.length;f++){const u=t.v[f];this.v[a+u-1]=i[f]}}return this}copy(){return new q(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new R.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new R(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new R(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=_e([e])),typeof t=="number"&&(t=_e([t])),Array.isArray(e)&&(e=e.length===0?null:_e(e)),Array.isArray(t)&&(t=t.length===0?null:_e(t)),e!==null&&!ae(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!ae(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e===null){const i=t.length,a=this.nrows,f=new q.valuesConstructor(a*i);for(let u=0;u<t.length;u++)f.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new q(f,a,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,r=t.length,o=new q.valuesConstructor(n*r);let s=new q.valuesConstructor(n);for(let i=0;i<r;i++){const a=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let f=0;f<n;f++)s[f]=a[e.v[f]-1];o.set(s,i*n)}return new q(o,n,r)}toString(e){function t(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(oe(this.v))))+e+3;let r="";const o=this.t();for(let s=1;s<=o.ncols;s++)r+=Array.from(o.getcolref(s)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return r}toCSV(e,t,n,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,s=n!=null&&n.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&n.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let a=s?n.join(e)+`
`:"";for(let f=1;f<=i.ncols;f++)a=a+(o?r[f-1]+e:"")+i.getcolref(f).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,n,r){return Ie(qt(e*t,n,r),e,t)}static rand(e,t,n,r){return Ie(Yt(e*t,n,r),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)n[r*e+r]=1;return new q(n,e,t)}static diagm(e){if(!I(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let r=0;r<t;r++)n[r*t+r]=e.v[r];return new q(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new q(new Float64Array(e*t),e,t)}static ones(e,t){return q.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const r=new Float64Array(t*n);for(let o=0;o<r.length;o++)r[o]=e;return new q(r,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=ue(e)),Array.isArray(t)&&(t=ue(t)),!I(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!I(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=q.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const s=t.v[o],i=r.getcolref(o+1);for(let a=0;a<e.length;a++)i[a]=n(e.v[a],s)}return r}static parseCSV(e,t,n,r){function o(p){return p.some(k=>Number.isNaN(Number.parseFloat(k.trim())))}t===void 0&&(t=",");const s=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),a=[],f=0;const u=i[0].split(t);(n||n===void 0&&o(u))&&(a=u,f=1),i=i.filter(p=>p.trim().length>1);let h=[],c=0;r&&(c=1);const d=i.length-f,g=u.length-c;if(d<1)throw Error("Data file should contain at least 1 row with values.");if(g<1)throw Error("Data file should contain at least 1 column with values.");const b=q.zeros(g,d);for(let p=f;p<d+f;p++){const k=i[p].split(t);let T;if(r?(h[p-f]=k[0],T=k.slice(1).map(S=>Number.parseFloat(S.trim().replace(s,".")))):T=k.map(S=>Number.parseFloat(S.trim().replace(s,"."))),T.some(S=>Number.isNaN(S)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(T.length!=g)throw Error("Wrong number of values in row #"+p);b.v.set(new Float64Array(T),(p-f)*g)}return{values:b.t(),header:a,labels:h,sep:t,dec:s}}};let ge=q;Ke(ge,"valuesConstructor",Float64Array),Ke(ge,"TOLERANCE",Math.pow(10,-9));function I(l){return l.constructor===R}function ue(l){return new R(new Float64Array(l))}const U=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new fe.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=r+1,n=n+1);return new fe(t.subarray(0,n))}filter(e){const t=new U.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=this.v[r],n=n+1);return new U(t.subarray(0,n))}shuffle(){return new U(Qt(this.v))}sort(e){return new U(Ut(this.v,e))}rep(e){return Wt(this,e)}repeach(e){return Xt(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=fe.seq(1,this.length)),ae(t)||(t=_e(t));const n=t.length;if(ie(t)<1||oe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=_e([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?fe.bool2ind(e):_e(e)),!ae(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=U.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[r]=this.v[e.v[r]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new U(this.v.slice(e-1,t))}copy(){return new U(this.v.slice())}dot(e){return e===void 0&&(e=this),mt(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(I(e))return new U(ht(this.v,e.v,t));if(Ft(e))return new U(dt(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=U.zeros(t);for(let r=0;r<t;r++)n.v[r]=e(this.v[r]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),n=new U.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(n[r]=o,r+=1):(n.set(I(o)?o.v:new U.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new U(n)}static seq(e,t,n){return Kt(e,t,n,U)}static randn(e,t,n){return qt(e,t,n)}static rand(e,t,n){return Yt(e,t,n)}static zeros(e){return new U(new U.valuesConstructor(e))}static ones(e){return U.fill(1,e)}static fill(e,t){const n=new U.valuesConstructor(t);for(let r=0;r<n.length;r++)n[r]=e;return new U(n)}};let R=U;Ke(R,"valuesConstructor",Float64Array);function ae(l){return l.constructor===fe}function _e(l){return new fe(new Int32Array(l))}const re=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new re.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=r+1,n=n+1);return new re(t.subarray(0,n))}filter(e){const t=new re.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=this.v[r],n=n+1);return new re(t.subarray(0,n))}shuffle(){return new re(Qt(this.v))}sort(e){return new re(Ut(this.v,e))}rep(e){return Wt(this,e)}repeach(e){return Xt(this,e)}subset(e){if(typeof e=="number"&&(e=_e([e])),Array.isArray(e)&&(e=_e(e)),!ae(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new re.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");n[r]=this.v[e.v[r]-1]}return new re(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new re(this.v.slice(e-1,t))}static seq(e,t,n){return Kt(e,t,n,re)}static ones(e){return re.fill(1,e)}static fill(e,t){const n=new re.valuesConstructor(t);for(let r=0;r<n.length;r++)n[r]=e;return new re(n)}static bool2ind(e){let t=0;const n=new re.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(n[t]=r+1,t=t+1);return new re(n.subarray(0,t))}};let fe=re;Ke(fe,"valuesConstructor",Int32Array);function Kt(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const r=Math.floor((e-l)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new n.valuesConstructor(r);for(let s=0;s<r;s++)o[s]=l+s*t;return new n(o)}function Wt(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<l.length;o++)n[(r-1)*l.length+o]=l.v[o];return new l.constructor(n)}function Xt(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let r=0;r<l.length;r++)for(let o=0;o<e;o++)n[r*e+o]=l.v[r];return new l.constructor(n)}function ht(l,e,t){if(l.length!==e.length)throw error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let r=0;r<l.length;r++)n[r]=t(l[r],e[r]);return n}function dt(l,e,t){const n=new l.constructor(l.length);for(let r=0;r<l.length;r++)n[r]=t(l[r],e);return n}function mt(l,e,t,n,r,o){if(n!==r)throw Error("_dot: matrix dimensions do not much.");const s=t,i=o,a=n,f=new l.constructor(s*i);for(let u=0;u<i;u++){const h=e.subarray(u*r,(u+1)*r),c=f.subarray(u*s,(u+1)*s);for(let d=0;d<a;d++){const g=h[d],b=l.subarray(d*t,(d+1)*t);for(let p=0;p<s;p++)c[p]+=b[p]*g}}return f}function Qt(l){let e=l.slice(),t=e.length,n,r;for(;t;)r=Math.floor(Math.random()*t--),n=e[t],e[t]=e[r],e[r]=n;return e}function Ut(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function Zt(l,e){if(!I(l))throw Error('polymat: argument "x" must be a vector.');const t=ge.zeros(l.length,e);for(let n=1;n<=e;n++)t.v.set(l.apply(r=>r**n).v,l.length*(n-1));return t}function Jt(l,e,t){if(t<1||t>=l.length)throw Error('polyfit: polynomial degree "d" must a positive value smaller than number of measurements.');let n=pl(Zt(l,t),e);return n.pdegree=t,n.class="pm",n}function gt(l,e){if(!I(e))throw Error('polypredict: Argument "x" must be a vector.');if(l.class!=="pm")throw Error('polypredict: argument "m" must be object with "pm" model.');return vl(l,Zt(e,l.pdegree))}function pl(l,e){if(I(l)&&(l=Ie(l,l.length,1)),!Re(l))throw Error('lmfit: argument "X" must be a matrix or a vector.');if(!I(e))throw Error('lmfit: argument "y" must be a vector.');const t=l.nrows;if(e.length!==t)throw Error('lmfit: arguments "X" and "y" must have the same number of objects.');if(t<=l.ncols)throw Error("lmfit: number of objects must be larger than number of predictors.");const n=Bt(R.ones(t),l),r=Ht(n).inv(),o=Ie(r.dot(n.t()).dot(e),l.ncols+1),s=Ie(n.dot(o),t),i=yl(e,s,l.ncols),a=r.mult(i.se*i.se).diag().apply(Math.sqrt),f=o.divide(a),u=jt(.975,i.DoF),h=a.mult(u);return{class:"lm",data:{X:l,y:e},coeffs:{estimate:o,se:a,tstat:f,p:f.apply(c=>c>0?2*Ze(-c,i.DoF):2*Ze(c,i.DoF)),lower:o.subtract(h),upper:o.add(h)},fitted:s,stat:i}}function vl(l,e){if(I(e)&&(e=Ie(e,e.length,1)),!Re(e))throw Error('lmpredict: argument "X" must be a matrix or a vector.');if(!(l.class==="lm"||l.class==="pm")||!l.coeffs.estimate||l.coeffs.estimate.length<1)throw Error('lmpredict: argument "m" must be object with "lm" model.');if(e.ncols!==l.coeffs.estimate.length-1)throw Error('lmpredict: number of columns in "X" does not match number of coefficients in model.');const t=e.nrows,n=Bt(R.ones(t),e);return Ie(n.dot(l.coeffs.estimate),t)}function yl(l,e,t){const n=l.length;t||(t=1);const r=l.subtract(e),o=Qe(r),s=It(l)*(n-1),i=1-o/s,a=n-t-1,f=(s-o)/t/(o/a);return{R2:i,R2adj:1-(1-i)*(n-1)/a,Fstat:f,p:1-Ot(f,t,a),DoF:a,se:Math.sqrt(o/a)}}const $r="",kl=l=>({}),xt=l=>({});function $t(l){let e,t;const n=l[3].help,r=pe(n,l,l[2],xt);return{c(){e=j("div"),r&&r.c(),m(e,"class","helptext svelte-zbdjkl")},m(o,s){A(o,e,s),r&&r.m(e,null),t=!0},p(o,s){r&&r.p&&(!t||s&4)&&ye(r,n,o,o[2],t?ve(n,o[2],s,kl):ke(o[2]),xt)},i(o){t||(y(r,o),t=!0)},o(o){L(r,o),t=!1},d(o){o&&M(e),r&&r.d(o)}}}function Cl(l){let e,t,n,r,o,s;const i=l[3].default,a=pe(i,l,l[2],null);let f=l[0]&&$t(l);return{c(){e=j("main"),t=j("div"),a&&a.c(),n=W(),f&&f.c(),m(t,"class","content svelte-zbdjkl"),m(e,"class","graasta-app svelte-zbdjkl")},m(u,h){A(u,e,h),Y(e,t),a&&a.m(t,null),Y(e,n),f&&f.m(e,null),r=!0,o||(s=Ne(window,"keypress",l[1]),o=!0)},p(u,[h]){a&&a.p&&(!r||h&4)&&ye(a,i,u,u[2],r?ve(i,u[2],h,null):ke(u[2]),null),u[0]?f?(f.p(u,h),h&1&&y(f,1)):(f=$t(u),f.c(),y(f,1),f.m(e,null)):f&&(de(),L(f,1,1,()=>{f=null}),me())},i(u){r||(y(a,u),y(f),r=!0)},o(u){L(a,u),L(f),r=!1},d(u){u&&M(e),a&&a.d(u),f&&f.d(),o=!1,s()}}}function Ml(l,e,t){let{$$slots:n={},$$scope:r}=e,o=!1;const s=()=>t(0,o=!o),i=a=>{a.key==="h"&&s()};return l.$$set=a=>{"$$scope"in a&&t(2,r=a.$$scope)},[o,i,r,n]}class Al extends ee{constructor(e){super(),$(this,e,Ml,Cl,J,{})}}const eo="";function en(l){let e,t;return{c(){e=j("legend"),t=Ce(l[1]),m(e,"class","svelte-1pi0zcj")},m(n,r){A(n,e,r),Y(e,t)},p(n,r){r&2&&Ye(t,n[1])},d(n){n&&M(e)}}}function tn(l){let e,t;return{c(){e=j("div"),t=Ce(l[0]),m(e,"class","app-control-error svelte-1pi0zcj")},m(n,r){A(n,e,r),Y(e,t)},p(n,r){r&1&&Ye(t,n[0])},d(n){n&&M(e)}}}function El(l){let e,t,n,r,o=l[1]!==""&&en(l);const s=l[3].default,i=pe(s,l,l[2],null);let a=l[0]&&tn(l);return{c(){e=j("fieldset"),o&&o.c(),t=W(),i&&i.c(),n=W(),a&&a.c(),m(e,"class","app-control-block svelte-1pi0zcj")},m(f,u){A(f,e,u),o&&o.m(e,null),Y(e,t),i&&i.m(e,null),Y(e,n),a&&a.m(e,null),r=!0},p(f,[u]){f[1]!==""?o?o.p(f,u):(o=en(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),i&&i.p&&(!r||u&4)&&ye(i,s,f,f[2],r?ve(s,f[2],u,null):ke(f[2]),null),f[0]?a?a.p(f,u):(a=tn(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){r||(y(i,f),r=!0)},o(f){L(i,f),r=!1},d(f){f&&M(e),o&&o.d(),i&&i.d(f),a&&a.d()}}}function Ll(l,e,t){let{$$slots:n={},$$scope:r}=e,{errormsg:o=void 0}=e,{legend:s=""}=e;return l.$$set=i=>{"errormsg"in i&&t(0,o=i.errormsg),"legend"in i&&t(1,s=i.legend),"$$scope"in i&&t(2,r=i.$$scope)},[o,s,r,n]}class zl extends ee{constructor(e){super(),$(this,e,Ll,El,J,{errormsg:0,legend:1})}}const to="";function Nl(l){let e,t,n,r,o,s;const i=l[5].default,a=pe(i,l,l[4],null);return{c(){e=j("div"),t=j("div"),n=W(),r=j("label"),o=W(),a&&a.c(),m(t,"class","shield svelte-m62yuw"),m(r,"for",l[0]),m(r,"class","svelte-m62yuw"),m(e,"class","app-control svelte-m62yuw"),Me(e,"hidden",l[3]),Me(e,"disable",l[2])},m(f,u){A(f,e,u),Y(e,t),Y(e,n),Y(e,r),r.innerHTML=l[1],Y(e,o),a&&a.m(e,null),s=!0},p(f,[u]){(!s||u&2)&&(r.innerHTML=f[1]),(!s||u&1)&&m(r,"for",f[0]),a&&a.p&&(!s||u&16)&&ye(a,i,f,f[4],s?ve(i,f[4],u,null):ke(f[4]),null),(!s||u&8)&&Me(e,"hidden",f[3]),(!s||u&4)&&Me(e,"disable",f[2])},i(f){s||(y(a,f),s=!0)},o(f){L(a,f),s=!1},d(f){f&&M(e),a&&a.d(f)}}}function Sl(l,e,t){let{$$slots:n={},$$scope:r}=e,{id:o}=e,{label:s}=e,{disable:i=!1}=e,{hidden:a=!1}=e;return l.$$set=f=>{"id"in f&&t(0,o=f.id),"label"in f&&t(1,s=f.label),"disable"in f&&t(2,i=f.disable),"hidden"in f&&t(3,a=f.hidden),"$$scope"in f&&t(4,r=f.$$scope)},[o,s,i,a,r,n]}class nn extends ee{constructor(e){super(),$(this,e,Sl,Nl,J,{id:0,label:1,disable:2,hidden:3})}}const no="";function Tl(l){let e,t,n,r;return{c(){e=j("button"),t=Ce(l[2]),m(e,"class","svelte-176r7j6")},m(o,s){A(o,e,s),Y(e,t),n||(r=Ne(e,"click",l[5]),n=!0)},p(o,s){s&4&&Ye(t,o[2])},d(o){o&&M(e),n=!1,r()}}}function Vl(l){let e,t;return e=new nn({props:{id:l[0],label:l[1],disable:l[3],hidden:l[4],$$slots:{default:[Tl]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const o={};r&1&&(o.id=n[0]),r&2&&(o.label=n[1]),r&8&&(o.disable=n[3]),r&16&&(o.hidden=n[4]),r&68&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Il(l,e,t){let{id:n}=e,{label:r}=e,{text:o}=e,{disable:s=!1}=e,{hidden:i=!1}=e;function a(f){ul.call(this,l,f)}return l.$$set=f=>{"id"in f&&t(0,n=f.id),"label"in f&&t(1,r=f.label),"text"in f&&t(2,o=f.text),"disable"in f&&t(3,s=f.disable),"hidden"in f&&t(4,i=f.hidden)},[n,r,o,s,i,a]}class Rl extends ee{constructor(e){super(),$(this,e,Il,Vl,J,{id:0,label:1,text:2,disable:3,hidden:4})}}const lo="";function ln(l,e,t){const n=l.slice();return n[9]=e[t],n}function rn(l,e){let t,n=e[9]+"",r,o,s;function i(){return e[6](e[9])}function a(){return e[7](e[9])}return{key:l,first:null,c(){t=j("div"),r=Ce(n),m(t,"class","option svelte-yqpg3s"),Me(t,"selected",e[9]==e[0]),this.first=t},m(f,u){A(f,t,u),Y(t,r),o||(s=[Ne(t,"click",i),Ne(t,"keydown",a)],o=!0)},p(f,u){e=f,u&8&&n!==(n=e[9]+"")&&Ye(r,n),u&9&&Me(t,"selected",e[9]==e[0])},d(f){f&&M(t),o=!1,ze(s)}}}function Yl(l){let e,t=[],n=new Map,r,o,s,i,a=l[3];const f=u=>u[9];for(let u=0;u<a.length;u+=1){let h=ln(l,a,u),c=f(h);n.set(c,t[u]=rn(c,h))}return{c(){e=j("div");for(let u=0;u<t.length;u+=1)t[u].c();r=W(),o=j("input"),m(e,"class","selector svelte-yqpg3s"),m(o,"name",l[1]),m(o,"class","svelte-yqpg3s")},m(u,h){A(u,e,h);for(let c=0;c<t.length;c+=1)t[c].m(e,null);A(u,r,h),A(u,o,h),Et(o,l[0]),s||(i=Ne(o,"input",l[8]),s=!0)},p(u,h){h&9&&(a=u[3],t=gl(t,h,f,1,u,a,n,e,ml,rn,null,ln)),h&2&&m(o,"name",u[1]),h&1&&o.value!==u[0]&&Et(o,u[0])},d(u){u&&M(e);for(let h=0;h<t.length;h+=1)t[h].d();u&&M(r),u&&M(o),s=!1,i()}}}function ql(l){let e,t;return e=new nn({props:{id:l[1],label:l[2],disable:l[4],hidden:l[5],$$slots:{default:[Yl]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const o={};r&2&&(o.id=n[1]),r&4&&(o.label=n[2]),r&16&&(o.disable=n[4]),r&32&&(o.hidden=n[5]),r&4107&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Pl(l,e,t){let{id:n}=e,{label:r}=e,{options:o}=e,{value:s=o[0]}=e,{disable:i=!1}=e,{hidden:a=!1}=e;const f=c=>t(0,s=c),u=c=>t(0,s=c);function h(){s=this.value,t(0,s)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"label"in c&&t(2,r=c.label),"options"in c&&t(3,o=c.options),"value"in c&&t(0,s=c.value),"disable"in c&&t(4,i=c.disable),"hidden"in c&&t(5,a=c.hidden)},[s,n,r,o,i,a,f,u,h]}class on extends ee{constructor(e){super(),$(this,e,Pl,ql,J,{id:1,label:2,options:3,value:0,disable:4,hidden:5})}}const ro="";function sn(l,e,t){const n=l.slice();return n[2]=e[t],n}function an(l,e,t){const n=l.slice();return n[2]=e[t],n}function jl(l){let e,t=l[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=fn(sn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);A(r,e,o)},p(r,o){if(o&1){t=r[0];let s;for(s=0;s<t.length;s+=1){const i=sn(r,t,s);n[s]?n[s].p(i,o):(n[s]=fn(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){he(n,r),r&&M(e)}}}function Ol(l){let e,t=l[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=un(an(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);A(r,e,o)},p(r,o){if(o&3){t=r[0];let s;for(s=0;s<t.length;s+=1){const i=an(r,t,s);n[s]?n[s].p(i,o):(n[s]=un(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){he(n,r),r&&M(e)}}}function fn(l){let e,t=l[2]+"";return{c(){e=j("td"),m(e,"class","datatable__value datatable__value_text svelte-1m7xmmh")},m(n,r){A(n,e,r),e.innerHTML=t},p(n,r){r&1&&t!==(t=n[2]+"")&&(e.innerHTML=t)},d(n){n&&M(e)}}}function un(l){let e,t=(isNaN(l[2])?"":l[2].toFixed(l[1]))+"",n;return{c(){e=j("td"),n=Ce(t),m(e,"class","datatable__value datatable__value_number svelte-1m7xmmh")},m(r,o){A(r,e,o),Y(e,n)},p(r,o){o&3&&t!==(t=(isNaN(r[2])?"":r[2].toFixed(r[1]))+"")&&Ye(n,t)},d(r){r&&M(e)}}}function Gl(l){let e;function t(o,s){return o[1]>=0?Ol:jl}let n=t(l),r=n(l);return{c(){r.c(),e=le()},m(o,s){r.m(o,s),A(o,e,s)},p(o,[s]){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},i:H,o:H,d(o){r.d(o),o&&M(e)}}}function Dl(l,e,t){let{values:n}=e,{decNum:r}=e;return l.$$set=o=>{"values"in o&&t(0,n=o.values),"decNum"in o&&t(1,r=o.decNum)},[n,r]}class cn extends ee{constructor(e){super(),$(this,e,Dl,Gl,J,{values:0,decNum:1})}}const oo="";function hn(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function dn(l,e,t){const n=l.slice();return n[8]=e[t]._,n[5]=e[t].values,n[7]=t,n}function mn(l,e,t){const n=l.slice();return n[4]=e[t].label,n[5]=e[t].values,n}function gn(l,e,t){const n=l.slice();return n[4]=e[t].label,n[5]=e[t].values,n[7]=t,n}function Fl(l){let e,t,n,r,o=l[0],s=[];for(let u=0;u<o.length;u+=1)s[u]=_n(mn(l,o,u));let i=Array(l[0][0].values.length),a=[];for(let u=0;u<i.length;u+=1)a[u]=wn(hn(l,i,u));const f=u=>L(a[u],1,1,()=>{a[u]=null});return{c(){e=j("tr");for(let u=0;u<s.length;u+=1)s[u].c();t=W();for(let u=0;u<a.length;u+=1)a[u].c();n=le(),m(e,"class","datatable__row")},m(u,h){A(u,e,h);for(let c=0;c<s.length;c+=1)s[c].m(e,null);A(u,t,h);for(let c=0;c<a.length;c+=1)a[c].m(u,h);A(u,n,h),r=!0},p(u,h){if(h&1){o=u[0];let c;for(c=0;c<o.length;c+=1){const d=mn(u,o,c);s[c]?s[c].p(d,h):(s[c]=_n(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}if(h&5){i=Array(u[0][0].values.length);let c;for(c=0;c<i.length;c+=1){const d=hn(u,i,c);a[c]?(a[c].p(d,h),y(a[c],1)):(a[c]=wn(d),a[c].c(),y(a[c],1),a[c].m(n.parentNode,n))}for(de(),c=i.length;c<a.length;c+=1)f(c);me()}},i(u){if(!r){for(let h=0;h<i.length;h+=1)y(a[h]);r=!0}},o(u){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)L(a[h]);r=!1},d(u){u&&M(e),he(s,u),u&&M(t),he(a,u),u&&M(n)}}}function Hl(l){let e,t,n=l[0],r=[];for(let s=0;s<n.length;s+=1)r[s]=pn(gn(l,n,s));const o=s=>L(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=le()},m(s,i){for(let a=0;a<r.length;a+=1)r[a].m(s,i);A(s,e,i),t=!0},p(s,i){if(i&5){n=s[0];let a;for(a=0;a<n.length;a+=1){const f=gn(s,n,a);r[a]?(r[a].p(f,i),y(r[a],1)):(r[a]=pn(f),r[a].c(),y(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=n.length;a<r.length;a+=1)o(a);me()}},i(s){if(!t){for(let i=0;i<n.length;i+=1)y(r[i]);t=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)L(r[i]);t=!1},d(s){he(r,s),s&&M(e)}}}function _n(l){let e,t=l[4]+"";return{c(){e=j("td"),m(e,"class","datatable__label svelte-1r68t2h")},m(n,r){A(n,e,r),e.innerHTML=t},p(n,r){r&1&&t!==(t=n[4]+"")&&(e.innerHTML=t)},d(n){n&&M(e)}}}function bn(l){let e,t;return e=new cn({props:{values:[I(l[5])||ae(l[5])?l[5].v[l[10]]:l[5][l[10]]],decNum:l[2][l[7]]}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,r){const o={};r&1&&(o.values=[I(n[5])||ae(n[5])?n[5].v[n[10]]:n[5][n[10]]]),r&4&&(o.decNum=n[2][n[7]]),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function wn(l){let e,t,n,r=l[0],o=[];for(let i=0;i<r.length;i+=1)o[i]=bn(dn(l,r,i));const s=i=>L(o[i],1,1,()=>{o[i]=null});return{c(){e=j("tr");for(let i=0;i<o.length;i+=1)o[i].c();t=W(),m(e,"class","datatable__row")},m(i,a){A(i,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);Y(e,t),n=!0},p(i,a){if(a&5){r=i[0];let f;for(f=0;f<r.length;f+=1){const u=dn(i,r,f);o[f]?(o[f].p(u,a),y(o[f],1)):(o[f]=bn(u),o[f].c(),y(o[f],1),o[f].m(e,t))}for(de(),f=r.length;f<o.length;f+=1)s(f);me()}},i(i){if(!n){for(let a=0;a<r.length;a+=1)y(o[a]);n=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)L(o[a]);n=!1},d(i){i&&M(e),he(o,i)}}}function pn(l){let e,t,n=l[4]+"",r,o,s,i;return o=new cn({props:{values:I(l[5])||ae(l[5])?l[5].v:l[5],decNum:l[2][l[7]]}}),{c(){e=j("tr"),t=j("td"),r=W(),B(o.$$.fragment),s=W(),m(t,"class","datatable__label svelte-1r68t2h"),m(e,"class","datatable__row")},m(a,f){A(a,e,f),Y(e,t),t.innerHTML=n,Y(e,r),D(o,e,null),Y(e,s),i=!0},p(a,f){(!i||f&1)&&n!==(n=a[4]+"")&&(t.innerHTML=n);const u={};f&1&&(u.values=I(a[5])||ae(a[5])?a[5].v:a[5]),f&4&&(u.decNum=a[2][a[7]]),o.$set(u)},i(a){i||(y(o.$$.fragment,a),i=!0)},o(a){L(o.$$.fragment,a),i=!1},d(a){a&&M(e),F(o)}}}function Bl(l){let e,t,n,r;const o=[Hl,Fl],s=[];function i(a,f){return a[1]?0:1}return t=i(l),n=s[t]=o[t](l),{c(){e=j("table"),n.c(),m(e,"class","datatable svelte-1r68t2h")},m(a,f){A(a,e,f),s[t].m(e,null),r=!0},p(a,[f]){let u=t;t=i(a),t===u?s[t].p(a,f):(de(),L(s[u],1,1,()=>{s[u]=null}),me(),n=s[t],n?n.p(a,f):(n=s[t]=o[t](a),n.c()),y(n,1),n.m(e,null))},i(a){r||(y(n),r=!0)},o(a){L(n),r=!1},d(a){a&&M(e),s[t].d()}}}function Kl(l,e,t){let{variables:n=[]}=e,{horizontal:r=!1}=e,{decNum:o=void 0}=e;function s(i){const a=Math.log10(ie(Tt(i).map(f=>Math.abs(f))));return Math.abs(a<0?Math.floor(a):Math.ceil(a))}return l.$$set=i=>{"variables"in i&&t(0,n=i.variables),"horizontal"in i&&t(1,r=i.horizontal),"decNum"in i&&t(2,o=i.decNum)},l.$$.update=()=>{l.$$.dirty&5&&o===void 0&&n.map(i=>s(i.values))},[n,r,o]}class Wl extends ee{constructor(e){super(),$(this,e,Kl,Bl,J,{variables:0,horizontal:1,decNum:2})}}const so="";function Xl(l){let e,t,n;return t=new Wl({props:{variables:[{label:"#",values:[...Array.from(l[0].v),NaN]},{label:"x",values:R.c(l[1],NaN)},{label:"y",values:R.c(l[2],NaN)},{label:"y<sub>cv</sub>",values:R.c(l[3],NaN)},{label:"e",values:R.c(l[5],NaN)},{label:"e<sup>2</sup>",values:R.c(l[6],Ue(l[6]))}],decNum:[0,2,1,1,2,2],horizontal:!1}}),{c(){e=j("div"),B(t.$$.fragment),m(e,"class","table-container svelte-sj44zy")},m(r,o){A(r,e,o),D(t,e,null),l[8](e),n=!0},p(r,[o]){const s={};o&111&&(s.variables=[{label:"#",values:[...Array.from(r[0].v),NaN]},{label:"x",values:R.c(r[1],NaN)},{label:"y",values:R.c(r[2],NaN)},{label:"y<sub>cv</sub>",values:R.c(r[3],NaN)},{label:"e",values:R.c(r[5],NaN)},{label:"e<sup>2</sup>",values:R.c(r[6],Ue(r[6]))}]),t.$set(s)},i(r){n||(y(t.$$.fragment,r),n=!0)},o(r){L(t.$$.fragment,r),n=!1},d(r){r&&M(e),F(t),l[8](null)}}}function Ql(l,e,t){let n,r,{splits:o}=e,{indSeg:s}=e,{x:i}=e,{y:a}=e,{ycv:f}=e,u;function h(c){Te[c?"unshift":"push"](()=>{u=c,t(4,u)})}return l.$$set=c=>{"splits"in c&&t(0,o=c.splits),"indSeg"in c&&t(7,s=c.indSeg),"x"in c&&t(1,i=c.x),"y"in c&&t(2,a=c.y),"ycv"in c&&t(3,f=c.ycv)},l.$$.update=()=>{l.$$.dirty&12&&t(5,n=a.subtract(f)),l.$$.dirty&32&&t(6,r=n.mult(n)),l.$$.dirty&144&&u&&u.querySelectorAll("table > tr").forEach(c=>{c.classList.remove("selected");const d=c.querySelector(".datatable__value");d&&d.innerHTML===(s+1).toString()&&c.classList.add("selected")})},[o,i,a,f,u,n,r,s,h]}class Ul extends ee{constructor(e){super(),$(this,e,Ql,Xl,J,{splits:0,indSeg:7,x:1,y:2,ycv:3})}}const je=[];function Oe(l,e=H){let t;const n=new Set;function r(i){if(J(l,i)&&(l=i,t)){const a=!je.length;for(const f of n)f[1](),je.push(f,l);if(a){for(let f=0;f<je.length;f+=2)je[f][0](je[f+1]);je.length=0}}}function o(i){r(i(l))}function s(i,a=H){const f=[i,a];return n.add(f),n.size===1&&(t=e(r)||H),i(l),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:r,update:o,subscribe:s}}function Je(l,e){if(Array.isArray(l)&&(l=ue(l)),!I(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function Zl(l,e,t,n,r){if(l===void 0||e===void 0)return;const o=r.transform(Je(l),t.coords),s=r.transform(Je(e),n.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let a=0;a<o.length;a++)i+=o[a]+","+s[a]+" ";return i}function vn(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=ue(l)),!I(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(f=>f>=e[0]&f<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const r=(e[1]-e[0])/50,o=yn(e[1]-e[0]-1*r,n),s=yn(o/(t-1),n),i=Math.ceil((e[0]+r)/s)*s,a=Math.floor((e[1]-r)/s)*s;if(t=Math.round((a-i+1)/s)+1,l=R.seq(i,a,s),Math.abs(s)<1){const f=Math.pow(10,1+Math.round(-Math.log10(s)));l=l.apply(u=>Math.round((u+Number.EPSILON)*f)/f)}return l.filter(f=>f>=e[0]&f<=e[1])}function yn(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let r;return e?n<1.5?r=1:n<3?r=2:n<7?r=5:r=10:n<=1?r=1:n<=2?r=2:n<=5?r=5:r=10,r*Math.pow(10,t)}function Jl(l){return Math.round(l*10)/10}function xl(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const io="",$l=l=>({}),kn=l=>({}),er=l=>({}),Cn=l=>({}),tr=l=>({}),Mn=l=>({});function An(l){let e;return{c(){e=j("div"),m(e,"class","axes__title svelte-1oyr9z6")},m(t,n){A(t,e,n),e.innerHTML=l[0]},p(t,n){n[0]&1&&(e.innerHTML=t[0])},d(t){t&&M(e)}}}function En(l){let e,t;return{c(){e=j("div"),t=j("span"),m(t,"class","svelte-1oyr9z6"),m(e,"class","axes__ylabel svelte-1oyr9z6")},m(n,r){A(n,e,r),Y(e,t),t.innerHTML=l[2]},p(n,r){r[0]&4&&(t.innerHTML=n[2])},d(n){n&&M(e)}}}function Ln(l){let e,t;return{c(){e=j("div"),t=j("span"),m(e,"class","axes__xlabel svelte-1oyr9z6")},m(n,r){A(n,e,r),Y(e,t),t.innerHTML=l[1]},p(n,r){r[0]&2&&(t.innerHTML=n[1])},d(n){n&&M(e)}}}function zn(l){let e;return{c(){e=j("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,m(e,"class","message_error svelte-1oyr9z6")},m(t,n){A(t,e,n)},d(t){t&&M(e)}}}function nr(l){let e,t,n,r,o,s,i,a,f,u,h,c,d,g,b,p,k,T,S,w=l[0]!==""&&An(l),V=l[2]!==""&&En(l),_=l[1]!==""&&Ln(l);const z=l[28].xaxis,E=pe(z,l,l[27],Mn),v=l[28].yaxis,G=pe(v,l,l[27],Cn),P=l[28].default,K=pe(P,l,l[27],null),se=l[28].box,X=pe(se,l,l[27],kn);let te=!l[3]&&zn();return{c(){e=j("div"),w&&w.c(),t=W(),V&&V.c(),n=W(),_&&_.c(),r=W(),o=j("div"),s=ne("svg"),i=ne("defs"),a=ne("clipPath"),f=ne("rect"),E&&E.c(),G&&G.c(),g=ne("g"),K&&K.c(),X&&X.c(),b=W(),te&&te.c(),Lt(f,"pointer-events","none"),Lt(f,"fill","red"),m(f,"fill","red"),m(f,"x",u=l[8][0]),m(f,"y",h=l[7][1]),m(f,"width",c=l[8][1]-l[8][0]),m(f,"height",d=l[7][0]-l[7][1]),m(a,"id",l[9]),m(g,"class","axes-content svelte-1oyr9z6"),m(g,"clip-path","url(#"+l[9]+")"),m(s,"preserveAspectRatio","none"),m(s,"class","axes svelte-1oyr9z6"),m(o,"class","axes-wrapper svelte-1oyr9z6"),m(e,"class",p="plot "+("plot_"+l[4])+" svelte-1oyr9z6"),Me(e,"plot_error",!l[3])},m(N,Q){A(N,e,Q),w&&w.m(e,null),Y(e,t),V&&V.m(e,null),Y(e,n),_&&_.m(e,null),Y(e,r),Y(e,o),Y(o,s),Y(s,i),Y(i,a),Y(a,f),E&&E.m(s,null),G&&G.m(s,null),Y(s,g),K&&K.m(g,null),X&&X.m(s,null),Y(o,b),te&&te.m(o,null),l[29](o),l[30](e),k=!0,T||(S=[Ne(s,"click",l[10]),Ne(s,"keydown",l[10])],T=!0)},p(N,Q){N[0]!==""?w?w.p(N,Q):(w=An(N),w.c(),w.m(e,t)):w&&(w.d(1),w=null),N[2]!==""?V?V.p(N,Q):(V=En(N),V.c(),V.m(e,n)):V&&(V.d(1),V=null),N[1]!==""?_?_.p(N,Q):(_=Ln(N),_.c(),_.m(e,r)):_&&(_.d(1),_=null),(!k||Q[0]&256&&u!==(u=N[8][0]))&&m(f,"x",u),(!k||Q[0]&128&&h!==(h=N[7][1]))&&m(f,"y",h),(!k||Q[0]&256&&c!==(c=N[8][1]-N[8][0]))&&m(f,"width",c),(!k||Q[0]&128&&d!==(d=N[7][0]-N[7][1]))&&m(f,"height",d),E&&E.p&&(!k||Q[0]&134217728)&&ye(E,z,N,N[27],k?ve(z,N[27],Q,tr):ke(N[27]),Mn),G&&G.p&&(!k||Q[0]&134217728)&&ye(G,v,N,N[27],k?ve(v,N[27],Q,er):ke(N[27]),Cn),K&&K.p&&(!k||Q[0]&134217728)&&ye(K,P,N,N[27],k?ve(P,N[27],Q,null):ke(N[27]),null),X&&X.p&&(!k||Q[0]&134217728)&&ye(X,se,N,N[27],k?ve(se,N[27],Q,$l):ke(N[27]),kn),N[3]?te&&(te.d(1),te=null):te||(te=zn(),te.c(),te.m(o,null)),(!k||Q[0]&16&&p!==(p="plot "+("plot_"+N[4])+" svelte-1oyr9z6"))&&m(e,"class",p),(!k||Q[0]&24)&&Me(e,"plot_error",!N[3])},i(N){k||(y(E,N),y(G,N),y(K,N),y(X,N),k=!0)},o(N){L(E,N),L(G,N),L(K,N),L(X,N),k=!1},d(N){N&&M(e),w&&w.d(),V&&V.d(),_&&_.d(),E&&E.d(N),G&&G.d(N),K&&K.d(N),X&&X.d(N),te&&te.d(),l[29](null),l[30](null),T=!1,ze(S)}}}function lr(l,e,t){let n,r,o,s,i,a,f,u,h,{$$slots:c={},$$scope:d}=e,{limX:g}=e,{limY:b}=e,{title:p=""}=e,{xLabel:k=""}=e,{yLabel:T=""}=e,{margins:S=[.034,.034,.034,.034]}=e;const w=al(),V={small:30,medium:40,large:50,xlarge:60},_={small:5,medium:8,large:12,xlarge:15},z={small:4,medium:6,large:8,xlarge:10},E={small:10,medium:12,large:14,xlarge:16},v={small:10,medium:15,large:20,xlarge:25},G={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},P=["\u25CF","\u25FC","\u25B2","\u25BC","\u2B25","\uFF0B","*","\xD7"],K="plottingArea"+Math.round(Math.random()*1e4);let se,X,te,N=100;function Q(C,Z){const be=Array.prototype.indexOf.call(Z.parentNode.children,Z);w(C,{seriesTitle:Z.parentNode.getAttribute("title"),elementID:be})}function Xr(C){if(C.target.tagName==="text"&&C.target.parentNode.classList.contains("series_points")){Q("markerclick",C.target);return}if(C.target.tagName==="rect"&&C.target.parentNode.classList.contains("series_bar")){Q("barclick",C.target);return}w("axesclick")}const yt=function(C,Z){if(!(!a||C===void 0||C===null)&&(Array.isArray(C)&&(C=ue(C)),!(!I(C)||C.length<1)))return C.apply(be=>Jl((be-Z[1])*Z[0]+Z[2])).v},Qr=function(C,Z){if(!(!a||C===void 0||C===null)&&(Array.isArray(C)&&(C=ue(C)),!(!I(C)||C.length<1)))return C.apply(be=>(be-Z[2])/Z[0]+Z[1]).v},xe=Oe("medium");O(l,xe,C=>t(4,h=C));const $e=Oe({coords:[1,0,0],objects:[1,0,0]});O(l,$e,C=>t(25,f=C));const et=Oe({coords:[1,0,0],objects:[1,0,0]});O(l,et,C=>t(23,s=C));const tt=Oe(!1);O(l,tt,C=>t(3,a=C));const nt=Oe(g);O(l,nt,C=>t(26,u=C));const lt=Oe(b);O(l,lt,C=>t(24,i=C)),fl("axes",{transform:yt,invTransform:Qr,scale:xe,isOk:tt,xLim:nt,yLim:lt,tX:$e,tY:et,LINE_STYLES:G,LABELS_MARGIN:v,TICK_NUM:_,TICK_SIZE:z,MARKER_SYMBOLS:P,LEGEND_FONT_SIZE:E});const el=new ResizeObserver(C=>{for(let Z of C){const be=se.getBoundingClientRect();xe.update(mo=>xl(be.width,be.height))}}),tl=new ResizeObserver(C=>{for(let Z of C){const be=X.getBoundingClientRect();t(20,te=be.width),t(21,N=be.height)}});sl(()=>{el.observe(se),tl.observe(X)}),il(()=>{el.unobserve(se),tl.unobserve(X)});function Ur(C){Te[C?"unshift":"push"](()=>{X=C,t(6,X)})}function Zr(C){Te[C?"unshift":"push"](()=>{se=C,t(5,se)})}return l.$$set=C=>{"limX"in C&&t(17,g=C.limX),"limY"in C&&t(18,b=C.limY),"title"in C&&t(0,p=C.title),"xLabel"in C&&t(1,k=C.xLabel),"yLabel"in C&&t(2,T=C.yLabel),"margins"in C&&t(19,S=C.margins),"$$scope"in C&&t(27,d=C.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&524304&&t(22,n=S.map(C=>C*V[h])),l.$$.dirty[0]&131072&&nt.update(C=>g),l.$$.dirty[0]&262144&&lt.update(C=>b),l.$$.dirty[0]&91226112&&tt.update(C=>Array.isArray(i)&&Array.isArray(u)&&u.length===2&&i.length===2&&!i.some(Z=>Z===void 0)&&!u.some(Z=>Z===void 0)&&!i.some(Z=>isNaN(Z))&&!u.some(Z=>isNaN(Z))&&u[1]!==u[0]&&i[1]!==i[0]&&te>n[1]+n[3]&&N>n[0]+n[2]),l.$$.dirty[0]&72351752&&a&&$e.update(C=>({coords:[(te-n[1]-n[3])/(u[1]-u[0]),u[0],n[1]],objects:[(te-n[1]-n[3])/(u[1]-u[0]),0,0]})),l.$$.dirty[0]&23068680&&a&&et.update(C=>({coords:[-(N-n[0]-n[2])/(i[1]-i[0]),i[1],n[2]],objects:[(N-n[0]-n[2])/(i[1]-i[0]),0,0]})),l.$$.dirty[0]&100663304&&t(8,r=a?yt(u,f.coords):[0,1]),l.$$.dirty[0]&25165832&&t(7,o=a?yt(i,s.coords):[1,0])},[p,k,T,a,h,se,X,o,r,K,Xr,xe,$e,et,tt,nt,lt,g,b,S,te,N,n,s,i,f,u,d,c,Ur,Zr]}class rr extends ee{constructor(e){super(),$(this,e,lr,nr,J,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const ce={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333"};function Nn(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function Sn(l){let e,t=l[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Tn(Nn(l,t,r));return{c(){e=ne("g");for(let r=0;r<n.length;r+=1)n[r].c();m(e,"class",l[0])},m(r,o){A(r,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(r,o){if(o&62){t=r[1];let s;for(s=0;s<t.length;s+=1){const i=Nn(r,t,s);n[s]?n[s].p(i,o):(n[s]=Tn(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&m(e,"class",r[0])},d(r){r&&M(e),he(n,r)}}}function Tn(l){let e,t,n,r,o;return{c(){e=ne("line"),m(e,"vector-effect","non-scaling-stroke"),m(e,"x1",t=l[1][l[19]]),m(e,"x2",n=l[2][l[19]]),m(e,"y1",r=l[3][l[19]]),m(e,"y2",o=l[4][l[19]]),m(e,"style",l[5])},m(s,i){A(s,e,i)},p(s,i){i&2&&t!==(t=s[1][s[19]])&&m(e,"x1",t),i&4&&n!==(n=s[2][s[19]])&&m(e,"x2",n),i&8&&r!==(r=s[3][s[19]])&&m(e,"y1",r),i&16&&o!==(o=s[4][s[19]])&&m(e,"y2",o),i&32&&m(e,"style",s[5])},d(s){s&&M(e)}}}function or(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&Sn(l);return{c(){t&&t.c(),e=le()},m(n,r){t&&t.m(n,r),A(n,e,r)},p(n,[r]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,r):(t=Sn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&M(e)}}}function sr(l,e,t){let n,r,o,s,{lineCoords:i=[]}=e,{lineColor:a=ce.DARKGRAY}=e,{lineType:f=1}=e,{lineWidth:u=1}=e,{className:h=""}=e;const c=Se("axes"),d=c.scale;O(l,d,w=>t(13,r=w));const g=c.tX;O(l,g,w=>t(15,s=w));const b=c.tY;O(l,b,w=>t(14,o=w));let p,k,T,S;return l.$$set=w=>{"lineCoords"in w&&t(9,i=w.lineCoords),"lineColor"in w&&t(10,a=w.lineColor),"lineType"in w&&t(11,f=w.lineType),"lineWidth"in w&&t(12,u=w.lineWidth),"className"in w&&t(0,h=w.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,p=c.transform(i[0][0],s.coords)),t(3,T=c.transform(i[0][1],o.coords)),t(2,k=c.transform(i[1][0],s.coords)),t(4,S=c.transform(i[1][1],o.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${a};stroke-width: ${u}px;stroke-dasharray:${c.LINE_STYLES[r][f-1]}`)},[h,p,k,T,S,n,d,g,b,i,a,f,u,r,o,s]}class _t extends ee{constructor(e){super(),$(this,e,sr,or,J,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const ao="";function Vn(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function In(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function Rn(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function Yn(l){let e;function t(o,s){return o[2]===2&&o[1]===4?fr:o[2]===2&&o[1]===1?ar:ir}let n=t(l),r=n(l);return{c(){e=ne("g"),r.c(),m(e,"class","tick_labels"),m(e,"style",l[8])},m(o,s){A(o,e,s),r.m(e,null)},p(o,s){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e,null))),s&256&&m(e,"style",o[8])},d(o){o&&M(e),r.d()}}}function ir(l){let e,t=l[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=qn(Vn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);A(r,e,o)},p(r,o){if(o&249){t=r[3];let s;for(s=0;s<t.length;s+=1){const i=Vn(r,t,s);n[s]?n[s].p(i,o):(n[s]=qn(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){he(n,r),r&&M(e)}}}function ar(l){let e,t=l[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Pn(In(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);A(r,e,o)},p(r,o){if(o&89){t=r[3];let s;for(s=0;s<t.length;s+=1){const i=In(r,t,s);n[s]?n[s].p(i,o):(n[s]=Pn(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){he(n,r),r&&M(e)}}}function fr(l){let e,t=l[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=jn(Rn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);A(r,e,o)},p(r,o){if(o&57){t=r[3];let s;for(s=0;s<t.length;s+=1){const i=Rn(r,t,s);n[s]?n[s].p(i,o):(n[s]=jn(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){he(n,r),r&&M(e)}}}function qn(l){let e,t=l[0][l[23]]+"",n,r;return{c(){e=ne("text"),m(e,"data-id",l[23]),m(e,"x",n=l[3][l[23]]),m(e,"y",r=l[4][l[23]]),m(e,"dx",l[5]),m(e,"dy",l[6]),m(e,"text-anchor",l[7]),m(e,"class","svelte-131ks7u")},m(o,s){A(o,e,s),e.innerHTML=t},p(o,s){s&1&&t!==(t=o[0][o[23]]+"")&&(e.innerHTML=t),s&8&&n!==(n=o[3][o[23]])&&m(e,"x",n),s&16&&r!==(r=o[4][o[23]])&&m(e,"y",r),s&32&&m(e,"dx",o[5]),s&64&&m(e,"dy",o[6]),s&128&&m(e,"text-anchor",o[7])},d(o){o&&M(e)}}}function Pn(l){let e,t=l[0][l[23]]+"",n,r,o,s;return{c(){e=ne("text"),m(e,"data-id",l[23]),m(e,"x",n=l[3][l[23]]),m(e,"y",r=l[4][l[23]]),m(e,"dx",o=-l[6]/2),m(e,"dy",0),m(e,"transform",s=`rotate(-90, ${l[3][l[23]]}, ${l[4][l[23]]})`),m(e,"text-anchor","end"),m(e,"class","svelte-131ks7u")},m(i,a){A(i,e,a),e.innerHTML=t},p(i,a){a&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),a&8&&n!==(n=i[3][i[23]])&&m(e,"x",n),a&16&&r!==(r=i[4][i[23]])&&m(e,"y",r),a&64&&o!==(o=-i[6]/2)&&m(e,"dx",o),a&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&m(e,"transform",s)},d(i){i&&M(e)}}}function jn(l){let e,t=l[0][l[23]]+"",n,r,o,s;return{c(){e=ne("text"),m(e,"data-id",l[23]),m(e,"x",n=l[3][l[23]]),m(e,"y",r=l[4][l[23]]),m(e,"dx",0),m(e,"dy",o=l[5]*1.25),m(e,"transform",s=`rotate(-90, ${l[3][l[23]]}, ${l[4][l[23]]})`),m(e,"text-anchor","middle"),m(e,"class","svelte-131ks7u")},m(i,a){A(i,e,a),e.innerHTML=t},p(i,a){a&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),a&8&&n!==(n=i[3][i[23]])&&m(e,"x",n),a&16&&r!==(r=i[4][i[23]])&&m(e,"y",r),a&32&&o!==(o=i[5]*1.25)&&m(e,"dy",o),a&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&m(e,"transform",s)},d(i){i&&M(e)}}}function ur(l){let e,t=l[3]!==void 0&&l[4]!==void 0&&Yn(l);return{c(){t&&t.c(),e=le()},m(n,r){t&&t.m(n,r),A(n,e,r)},p(n,[r]){n[3]!==void 0&&n[4]!==void 0?t?t.p(n,r):(t=Yn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&M(e)}}}function cr(l,e,t){let n,r,o,s,i,a,{tickCoords:f}=e,{textColor:u}=e,{tickLabels:h}=e,{pos:c=1}=e,{las:d=1}=e;const g=Se("axes"),b=g.scale;O(l,b,E=>t(16,o=E));const p=g.tX;O(l,p,E=>t(18,i=E));const k=g.tY;O(l,k,E=>t(17,s=E));const T=g.isOk;O(l,T,E=>t(19,a=E));let S,w,V=0,_=0,z;return l.$$set=E=>{"tickCoords"in E&&t(13,f=E.tickCoords),"textColor"in E&&t(14,u=E.textColor),"tickLabels"in E&&t(0,h=E.tickLabels),"pos"in E&&t(1,c=E.pos),"las"in E&&t(2,d=E.las)},l.$$.update=()=>{l.$$.dirty&925696&&a&&(t(3,S=g.transform(f[1][0],i.coords)),t(4,w=g.transform(f[1][1],s.coords))),l.$$.dirty&65536&&t(15,n=g.LABELS_MARGIN[o]),l.$$.dirty&32770&&(t(7,z=["middle","middle","start","middle","end"][c]),t(5,V=[0,0,n,0,-n][c]),t(6,_=[0,n,0,-n,0][c])),l.$$.dirty&16384&&t(8,r=`dominant-baseline:middle;fill:${u};font-size:1em; text-anchor:middle;`)},[h,c,d,S,w,V,_,z,r,b,p,k,T,f,u,n,o,s,i,a]}class hr extends ee{constructor(e){super(),$(this,e,cr,ur,J,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function On(l){let e,t;return e=new _t({props:{lineCoords:l[5],lineColor:l[9],lineType:3}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,r){const o={};r&32&&(o.lineCoords=n[5]),r&512&&(o.lineColor=n[9]),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Gn(l){let e,t;return e=new hr({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[10]}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,r){const o={};r&4&&(o.las=n[2]),r&8&&(o.pos=n[3]),r&128&&(o.tickCoords=n[7]),r&1&&(o.tickLabels=n[0]),r&1024&&(o.textColor=n[10]),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function dr(l){let e,t,n,r,o,s,i=l[1]&&On(l);n=new _t({props:{lineCoords:l[6],lineColor:l[8],lineType:1}}),r=new _t({props:{lineCoords:l[7],lineColor:l[8],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&Gn(l);return{c(){e=ne("g"),i&&i.c(),t=le(),B(n.$$.fragment),B(r.$$.fragment),a&&a.c(),m(e,"class",o="mdaplot__axis "+l[4])},m(f,u){A(f,e,u),i&&i.m(e,null),Y(e,t),D(n,e,null),D(r,e,null),a&&a.m(e,null),s=!0},p(f,[u]){f[1]?i?(i.p(f,u),u&2&&y(i,1)):(i=On(f),i.c(),y(i,1),i.m(e,t)):i&&(de(),L(i,1,1,()=>{i=null}),me());const h={};u&64&&(h.lineCoords=f[6]),u&256&&(h.lineColor=f[8]),n.$set(h);const c={};u&128&&(c.lineCoords=f[7]),u&256&&(c.lineColor=f[8]),r.$set(c),f[7].length===2&&f[0].length===f[7][1][0].length?a?(a.p(f,u),u&129&&y(a,1)):(a=Gn(f),a.c(),y(a,1),a.m(e,null)):a&&(de(),L(a,1,1,()=>{a=null}),me()),(!s||u&16&&o!==(o="mdaplot__axis "+f[4]))&&m(e,"class",o)},i(f){s||(y(i),y(n.$$.fragment,f),y(r.$$.fragment,f),y(a),s=!0)},o(f){L(i),L(n.$$.fragment,f),L(r.$$.fragment,f),L(a),s=!1},d(f){f&&M(e),i&&i.d(),F(n),F(r),a&&a.d()}}}function mr(l,e,t){let{tickLabels:n=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:a=[]}=e,{axisLine:f=[]}=e,{tickCoords:u=[]}=e,{lineColor:h=ce.DARKGRAY}=e,{gridColor:c=ce.MIDDLEGRAY}=e,{textColor:d=ce.DARKGRAY}=e;return l.$$set=g=>{"tickLabels"in g&&t(0,n=g.tickLabels),"showGrid"in g&&t(1,r=g.showGrid),"las"in g&&t(2,o=g.las),"pos"in g&&t(3,s=g.pos),"className"in g&&t(4,i=g.className),"grid"in g&&t(5,a=g.grid),"axisLine"in g&&t(6,f=g.axisLine),"tickCoords"in g&&t(7,u=g.tickCoords),"lineColor"in g&&t(8,h=g.lineColor),"gridColor"in g&&t(9,c=g.gridColor),"textColor"in g&&t(10,d=g.textColor)},[n,r,o,s,i,a,f,u,h,c,d]}class Dn extends ee{constructor(e){super(),$(this,e,mr,dr,J,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,lineColor:8,gridColor:9,textColor:10})}}function Fn(l){let e,t;return e=new Dn({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],las:l[2]}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.lineColor=n[3]),r&16&&(o.gridColor=n[4]),r&32&&(o.textColor=n[5]),r&2&&(o.showGrid=n[1]),r&128&&(o.grid=n[7]),r&256&&(o.axisLine=n[8]),r&512&&(o.tickCoords=n[9]),r&1&&(o.tickLabels=n[0]),r&4&&(o.las=n[2]),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function gr(l){let e,t,n=l[6]&&l[8].length>0&&Fn(l);return{c(){n&&n.c(),e=le()},m(r,o){n&&n.m(r,o),A(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?n?(n.p(r,o),o&320&&y(n,1)):(n=Fn(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(de(),L(n,1,1,()=>{n=null}),me())},i(r){t||(y(n),t=!0)},o(r){L(n),t=!1},d(r){n&&n.d(r),r&&M(e)}}}function _r(l,e,t){let n,r,o,s,i,{slot:a="xaxis"}=e,{ticks:f=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:h=!1}=e,{las:c=1}=e,{lineColor:d=ce.DARKGRAY}=e,{gridColor:g=ce.MIDDLEGRAY}=e,{textColor:b=ce.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const p=Se("axes"),k=p.xLim;O(l,k,v=>t(18,r=v));const T=p.yLim;O(l,T,v=>t(17,n=v));const S=p.scale;O(l,S,v=>t(20,s=v));const w=p.isOk;O(l,w,v=>t(6,i=v));const V=p.tY;O(l,V,v=>t(19,o=v));let _=[],z=[],E=[];return l.$$set=v=>{"slot"in v&&t(15,a=v.slot),"ticks"in v&&t(16,f=v.ticks),"tickLabels"in v&&t(0,u=v.tickLabels),"showGrid"in v&&t(1,h=v.showGrid),"las"in v&&t(2,c=v.las),"lineColor"in v&&t(3,d=v.lineColor),"gridColor"in v&&t(4,g=v.gridColor),"textColor"in v&&t(5,b=v.textColor)},l.$$.update=()=>{if(l.$$.dirty&2031681&&i){const v=vn(f,r,p.TICK_NUM[s],!0),G=v.length,P=p.invTransform([p.TICK_SIZE[s]],o.objects)[0],K=R.fill(n[0],G),se=K.add(P),X=R.fill(n[1],G);if(t(0,u=f===void 0||u===void 0?v.v:u),u.length!==v.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,_=[[v,K],[v,X]]),t(8,z=[[ue([r[0]]),ue([n[0]])],[ue([r[1]]),ue([n[0]])]]),t(9,E=[[v,se],[v,K]])}},[u,h,c,d,g,b,i,_,z,E,k,T,S,w,V,a,f,n,r,o,s]}class br extends ee{constructor(e){super(),$(this,e,_r,gr,J,{slot:15,ticks:16,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Hn(l){let e,t;return e=new Dn({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],las:l[2]}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.lineColor=n[3]),r&16&&(o.gridColor=n[4]),r&32&&(o.textColor=n[5]),r&2&&(o.showGrid=n[1]),r&128&&(o.grid=n[7]),r&256&&(o.axisLine=n[8]),r&512&&(o.tickCoords=n[9]),r&1&&(o.tickLabels=n[0]),r&4&&(o.las=n[2]),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function wr(l){let e,t,n=l[6]&&l[8].length>0&&Hn(l);return{c(){n&&n.c(),e=le()},m(r,o){n&&n.m(r,o),A(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?n?(n.p(r,o),o&320&&y(n,1)):(n=Hn(r),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(de(),L(n,1,1,()=>{n=null}),me())},i(r){t||(y(n),t=!0)},o(r){L(n),t=!1},d(r){n&&n.d(r),r&&M(e)}}}function pr(l,e,t){let n,r,o,s,i,{slot:a="yaxis"}=e,{ticks:f=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:h=!1}=e,{las:c=1}=e,{lineColor:d=ce.DARKGRAY}=e,{gridColor:g=ce.MIDDLEGRAY}=e,{textColor:b=ce.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const p=Se("axes"),k=p.xLim;O(l,k,v=>t(18,r=v));const T=p.yLim;O(l,T,v=>t(17,n=v));const S=p.scale;O(l,S,v=>t(20,s=v));const w=p.isOk;O(l,w,v=>t(6,i=v));const V=p.tX;O(l,V,v=>t(19,o=v));let _=[],z=[],E=[];return l.$$set=v=>{"slot"in v&&t(15,a=v.slot),"ticks"in v&&t(16,f=v.ticks),"tickLabels"in v&&t(0,u=v.tickLabels),"showGrid"in v&&t(1,h=v.showGrid),"las"in v&&t(2,c=v.las),"lineColor"in v&&t(3,d=v.lineColor),"gridColor"in v&&t(4,g=v.gridColor),"textColor"in v&&t(5,b=v.textColor)},l.$$.update=()=>{if(l.$$.dirty&2031681&&i){const v=vn(f,n,p.TICK_NUM[s],!0),G=v.length,P=p.invTransform([p.TICK_SIZE[s]],o.objects)[0],K=R.fill(r[0],G),se=K.add(P),X=R.fill(r[1],G);if(t(0,u=f===void 0||u===void 0?v.v:u),u.length!==v.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,_=[[K,v],[X,v]]),t(8,z=[[ue([r[0]]),ue([n[0]])],[ue([r[0]]),ue([n[1]])]]),t(9,E=[[K,v],[se,v]])}},[u,h,c,d,g,b,i,_,z,E,k,T,S,w,V,a,f,n,r,o,s]}class vr extends ee{constructor(e){super(),$(this,e,pr,wr,J,{slot:15,ticks:16,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}const fo="",uo="";function Bn(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Kn(l){let e,t=l[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wn(Bn(l,t,r));return{c(){e=ne("g");for(let r=0;r<n.length;r+=1)n[r].c();m(e,"class","series series_points"),m(e,"title",l[0]),m(e,"style",l[5])},m(r,o){A(r,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(r,o){if(o&22){t=r[1];let s;for(s=0;s<t.length;s+=1){const i=Bn(r,t,s);n[s]?n[s].p(i,o):(n[s]=Wn(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&m(e,"title",r[0]),o&32&&m(e,"style",r[5])},d(r){r&&M(e),he(n,r)}}}function Wn(l){let e,t,n,r;return{c(){e=ne("text"),t=Ce(l[4]),m(e,"x",n=l[1][l[21]]),m(e,"y",r=l[2][l[21]]),m(e,"class","svelte-12moot9")},m(o,s){A(o,e,s),Y(e,t)},p(o,s){s&16&&Ye(t,o[4]),s&2&&n!==(n=o[1][o[21]])&&m(e,"x",n),s&4&&r!==(r=o[2][o[21]])&&m(e,"y",r)},d(o){o&&M(e)}}}function yr(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&Kn(l);return{c(){t&&t.c(),e=le()},m(n,r){t&&t.m(n,r),A(n,e,r)},p(n,[r]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,r):(t=Kn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&M(e)}}}function kr(l,e,t){let n,r,o,s,{xValues:i}=e,{yValues:a}=e,{marker:f=1}=e,{faceColor:u="transparent"}=e,{borderColor:h=ce.PRIMARY}=e,{borderWidth:c=1}=e,{markerSize:d=1}=e,{title:g=""}=e;const b=Se("axes"),p=b.tX;O(l,p,_=>t(17,o=_));const k=b.tY;O(l,k,_=>t(16,r=_));const T=b.isOk;O(l,T,_=>t(3,s=_));let S,w,V;return l.$$set=_=>{"xValues"in _&&t(9,i=_.xValues),"yValues"in _&&t(10,a=_.yValues),"marker"in _&&t(11,f=_.marker),"faceColor"in _&&t(12,u=_.faceColor),"borderColor"in _&&t(13,h=_.borderColor),"borderWidth"in _&&t(14,c=_.borderWidth),"markerSize"in _&&t(15,d=_.markerSize),"title"in _&&t(0,g=_.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&s){if(typeof f!="number"||f<1||f>b.MARKER_SYMBOLS.length)throw Error(`ScatterSeries: parameter "marker" must be a number from 1 to ${b.MARKER_SYMBOLS.length}.`);if(t(4,V=b.MARKER_SYMBOLS[f-1]),t(1,S=b.transform(Je(i,"Points"),o.coords)),t(2,w=b.transform(Je(a,"Points"),r.coords)),S.length!==w.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${u};stroke-width:${c}px;stroke:${h};
      font-size:${d}em; text-anchor:middle;cursor:default;user-select:none;`)},[g,S,w,s,V,n,p,k,T,i,a,f,u,h,c,d,r,o]}class bt extends ee{constructor(e){super(),$(this,e,kr,yr,J,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Xn(l){let e,t;return{c(){e=ne("g"),t=ne("polyline"),m(t,"class","line"),m(t,"points",l[3]),m(e,"class","series series_line"),m(e,"style",l[2]),m(e,"title",l[0])},m(n,r){A(n,e,r),Y(e,t)},p(n,r){r&8&&m(t,"points",n[3]),r&4&&m(e,"style",n[2]),r&1&&m(e,"title",n[0])},d(n){n&&M(e)}}}function Cr(l){let e,t=l[1]&&l[3]!==void 0&&Xn(l);return{c(){t&&t.c(),e=le()},m(n,r){t&&t.m(n,r),A(n,e,r)},p(n,[r]){n[1]&&n[3]!==void 0?t?t.p(n,r):(t=Xn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&M(e)}}}function Mr(l,e,t){let n,r,o,s,i,a,{xValues:f}=e,{yValues:u}=e,{lineWidth:h=1}=e,{lineColor:c=ce.PRIMARY}=e,{lineType:d=1}=e,{title:g=""}=e;const b=Se("axes"),p=b.scale;O(l,p,w=>t(13,o=w));const k=b.isOk;O(l,k,w=>t(1,a=w));const T=b.tX;O(l,T,w=>t(15,i=w));const S=b.tY;return O(l,S,w=>t(14,s=w)),l.$$set=w=>{"xValues"in w&&t(8,f=w.xValues),"yValues"in w&&t(9,u=w.yValues),"lineWidth"in w&&t(10,h=w.lineWidth),"lineColor"in w&&t(11,c=w.lineColor),"lineType"in w&&t(12,d=w.lineType),"title"in w&&t(0,g=w.title)},l.$$.update=()=>{l.$$.dirty&49922&&t(3,n=a?Zl(f,u,i,s,b):void 0),l.$$.dirty&15360&&t(2,r=`fill:transparent;stroke:${c};stroke-width: ${h}px; stroke-dasharray:${b.LINE_STYLES[o][d-1]}`)},[g,a,r,n,p,k,T,S,f,u,h,c,d,o,s,i]}class wt extends ee{constructor(e){super(),$(this,e,Mr,Cr,J,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Qn(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Un(l){let e,t=l[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Zn(Qn(l,t,r));return{c(){e=ne("text");for(let r=0;r<n.length;r+=1)n[r].c();m(e,"style",l[6]),m(e,"x",l[4]),m(e,"y",l[5]),m(e,"dx",l[0]),m(e,"dy",l[1]),m(e,"dominant-baseline","middle"),m(e,"text-anchor","start")},m(r,o){A(r,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(r,o){if(o&23){t=r[2];let s;for(s=0;s<t.length;s+=1){const i=Qn(r,t,s);n[s]?n[s].p(i,o):(n[s]=Zn(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&64&&m(e,"style",r[6]),o&16&&m(e,"x",r[4]),o&32&&m(e,"y",r[5]),o&1&&m(e,"dx",r[0]),o&2&&m(e,"dy",r[1])},d(r){r&&M(e),he(n,r)}}}function Zn(l){let e,t=l[19]+"",n;return{c(){e=ne("tspan"),m(e,"x",l[4]),m(e,"dx",l[0]),m(e,"dy",n=l[21]===0?0:l[1])},m(r,o){A(r,e,o),e.innerHTML=t},p(r,o){o&4&&t!==(t=r[19]+"")&&(e.innerHTML=t),o&16&&m(e,"x",r[4]),o&1&&m(e,"dx",r[0]),o&2&&n!==(n=r[21]===0?0:r[1])&&m(e,"dy",n)},d(r){r&&M(e)}}}function Ar(l){let e,t=l[3]&&l[4]!==void 0&&l[5]!==void 0&&l[2].length>0&&Un(l);return{c(){t&&t.c(),e=le()},m(n,r){t&&t.m(n,r),A(n,e,r)},p(n,[r]){n[3]&&n[4]!==void 0&&n[5]!==void 0&&n[2].length>0?t?t.p(n,r):(t=Un(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&M(e)}}}function Er(l,e,t){let n,r,o,s,{left:i}=e,{top:a}=e,{dx:f="0"}=e,{dy:u="1.25em"}=e,{elements:h}=e,{faceColor:c=ce.PRIMARY_TEXT}=e,{borderColor:d="transparent"}=e,{borderWidth:g=0}=e,{textSize:b=1}=e;const p=Se("axes"),k=p.tX;O(l,k,_=>t(17,o=_));const T=p.tY;O(l,T,_=>t(16,r=_));const S=p.isOk;O(l,S,_=>t(3,s=_));let w,V;return l.$$set=_=>{"left"in _&&t(10,i=_.left),"top"in _&&t(11,a=_.top),"dx"in _&&t(0,f=_.dx),"dy"in _&&t(1,u=_.dy),"elements"in _&&t(2,h=_.elements),"faceColor"in _&&t(12,c=_.faceColor),"borderColor"in _&&t(13,d=_.borderColor),"borderWidth"in _&&t(14,g=_.borderWidth),"textSize"in _&&t(15,b=_.textSize)},l.$$.update=()=>{l.$$.dirty&199688&&s&&(t(4,w=p.transform([i],o.coords)),t(5,V=p.transform([a],r.coords))),l.$$.dirty&61440&&t(6,n=`fill:${c};stroke-width:${g}px;stroke:${d};font-size:${b}em;`)},[f,u,h,s,w,V,n,k,T,S,i,a,c,d,g,b,r,o]}class pt extends ee{constructor(e){super(),$(this,e,Er,Ar,J,{left:10,top:11,dx:0,dy:1,elements:2,faceColor:12,borderColor:13,borderWidth:14,textSize:15})}}let vt={plots:{POPULATIONS_PALE:["#33668820","#ff990020"],POPULATIONS:["#33668850","#ff990050"],SAMPLES:["#336688","#ff9900"],STAT_NAME:"#808080",STAT_VALUE:"#202020"}};function Jn(l,e,t){let n="<tspan>y = </tspan>";for(let r=0;r<l.coeffs.estimate.length;r++){const o=l.coeffs.estimate.v[r];n+=(r>0?o<0?"<tspan> \u2013 </tspan>":"<tspan> \uFF0B </tspan>":"")+`<tspan fill="${t}" font-weight=bold>${Math.abs(o).toFixed(2)}</tspan>`+(r>0?"<tspan font-weight=bold>x</tspan>":"")+(r>1?'<tspan font-size="70%" baseline-shift = "super">'+r+"</tspan>":"")}return[`<tspan font-weight=bold>${e}</tspan>`,n]}function xn(l){return[`s(e) =  <tspan font-weight=bold>${l.se.toFixed(2)}</tspan>`,`R2 =  <tspan font-weight=bold>${l.R2.toFixed(3)}</tspan>`]}function Lr(l){let e,t,n,r;return e=new bt({props:{xValues:l[4],yValues:l[3],borderWidth:1,faceColor:l[12],borderColor:l[12]}}),n=new wt({props:{xValues:l[5],yValues:l[10],lineColor:l[12]}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(o,s){D(e,o,s),A(o,t,s),D(n,o,s),r=!0},p(o,s){const i={};s&16&&(i.xValues=o[4]),s&8&&(i.yValues=o[3]),e.$set(i);const a={};s&32&&(a.xValues=o[5]),s&1024&&(a.yValues=o[10]),n.$set(a)},i(o){r||(y(e.$$.fragment,o),y(n.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),L(n.$$.fragment,o),r=!1},d(o){F(e,o),o&&M(t),F(n,o)}}}function zr(l){let e,t,n,r,o,s,i,a,f,u;return e=new wt({props:{xValues:l[5],yValues:l[10],lineColor:l[13]}}),n=new bt({props:{xValues:l[4],yValues:l[3],borderWidth:1,faceColor:l[13],borderColor:l[13]}}),o=new bt({props:{xValues:l[6],yValues:l[7],borderWidth:2,markerSize:1.2,borderColor:l[14]}}),i=new wt({props:{xValues:l[5],yValues:l[9],lineColor:l[14]}}),f=new pt({props:{textSize:1.05,left:ie(l[4])*.55+oe(l[4])*.45,top:ie(l[3])*.8+oe(l[3])*.2,dx:"1em",dy:"1.35em",elements:l[8]}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(o.$$.fragment),s=W(),B(i.$$.fragment),a=W(),B(f.$$.fragment)},m(h,c){D(e,h,c),A(h,t,c),D(n,h,c),A(h,r,c),D(o,h,c),A(h,s,c),D(i,h,c),A(h,a,c),D(f,h,c),u=!0},p(h,c){const d={};c&32&&(d.xValues=h[5]),c&1024&&(d.yValues=h[10]),e.$set(d);const g={};c&16&&(g.xValues=h[4]),c&8&&(g.yValues=h[3]),n.$set(g);const b={};c&64&&(b.xValues=h[6]),c&128&&(b.yValues=h[7]),o.$set(b);const p={};c&32&&(p.xValues=h[5]),c&512&&(p.yValues=h[9]),i.$set(p);const k={};c&16&&(k.left=ie(h[4])*.55+oe(h[4])*.45),c&8&&(k.top=ie(h[3])*.8+oe(h[3])*.2),c&256&&(k.elements=h[8]),f.$set(k)},i(h){u||(y(e.$$.fragment,h),y(n.$$.fragment,h),y(o.$$.fragment,h),y(i.$$.fragment,h),y(f.$$.fragment,h),u=!0)},o(h){L(e.$$.fragment,h),L(n.$$.fragment,h),L(o.$$.fragment,h),L(i.$$.fragment,h),L(f.$$.fragment,h),u=!1},d(h){F(e,h),h&&M(t),F(n,h),h&&M(r),F(o,h),h&&M(s),F(i,h),h&&M(a),F(f,h)}}}function $n(l){let e,t;return e=new pt({props:{textSize:1.05,left:ie(l[4])*.45+oe(l[4])*.55,top:ie(l[3])*.8+oe(l[3])*.2,dx:"1em",dy:"1.35em",elements:l[8]}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,r){const o={};r&16&&(o.left=ie(n[4])*.45+oe(n[4])*.55),r&8&&(o.top=ie(n[3])*.8+oe(n[3])*.2),r&256&&(o.elements=n[8]),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Nr(l){let e,t,n,r,o,s,i;e=new pt({props:{textSize:1.05,left:ie(l[4]),top:oe(l[3]),dx:"1em",dy:"1.35em",elements:l[11]}});const a=[zr,Lr],f=[];function u(c,d){return c[0]!==void 0&&c[1]>=0?0:1}n=u(l),r=f[n]=a[n](l);let h=l[2]!==void 0&&$n(l);return{c(){B(e.$$.fragment),t=W(),r.c(),o=W(),h&&h.c(),s=le()},m(c,d){D(e,c,d),A(c,t,d),f[n].m(c,d),A(c,o,d),h&&h.m(c,d),A(c,s,d),i=!0},p(c,d){const g={};d&16&&(g.left=ie(c[4])),d&8&&(g.top=oe(c[3])),d&2048&&(g.elements=c[11]),e.$set(g);let b=n;n=u(c),n===b?f[n].p(c,d):(de(),L(f[b],1,1,()=>{f[b]=null}),me(),r=f[n],r?r.p(c,d):(r=f[n]=a[n](c),r.c()),y(r,1),r.m(o.parentNode,o)),c[2]!==void 0?h?(h.p(c,d),d&4&&y(h,1)):(h=$n(c),h.c(),y(h,1),h.m(s.parentNode,s)):h&&(de(),L(h,1,1,()=>{h=null}),me())},i(c){i||(y(e.$$.fragment,c),y(r),y(h),i=!0)},o(c){L(e.$$.fragment,c),L(r),L(h),i=!1},d(c){F(e,c),c&&M(t),f[n].d(c),c&&M(o),h&&h.d(c),c&&M(s)}}}function Sr(l){let e,t;return e=new br({props:{slot:"xaxis"}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p:H,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Tr(l){let e,t;return e=new vr({props:{slot:"yaxis"}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p:H,i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Vr(l){let e,t;return e=new rr({props:{limX:He(l[4]),limY:He(l[3]),xLabel:"x",yLabel:"y",margins:[.5,.65,.15,.15],$$slots:{yaxis:[Tr],xaxis:[Sr],default:[Nr]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const o={};r&16&&(o.limX=He(n[4])),r&8&&(o.limY=He(n[3])),r&528383&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ir(l,e,t){let n,r,o,s,i,{globalModel:a}=e,{localModel:f}=e,{indSeg:u}=e,{splits:h}=e,{statCV:c}=e;const d=vt.plots.SAMPLES[0]+"70",g=vt.plots.SAMPLES[0]+"50",b=vt.plots.SAMPLES[0];let p=[],k=[],T=[],S=[];return l.$$set=w=>{"globalModel"in w&&t(15,a=w.globalModel),"localModel"in w&&t(0,f=w.localModel),"indSeg"in w&&t(1,u=w.indSeg),"splits"in w&&t(16,h=w.splits),"statCV"in w&&t(2,c=w.statCV)},l.$$.update=()=>{if(l.$$.dirty&32768&&t(4,n=a.data.X.getcolumn(1)),l.$$.dirty&32768&&t(3,r=a.data.y),l.$$.dirty&16&&t(5,o=R.seq(ie(n),oe(n),1/100)),l.$$.dirty&32768&&t(11,s=Jn(a,"Global model",b+"a0").concat(xn(a.stat))),l.$$.dirty&32800&&t(10,i=gt(a,o)),l.$$.dirty&65599&&f!==void 0){f.data.X[0],f.data.y,t(8,T=u>=0?Jn(f,"Local model",b):["<tspan font-weight=bold>CV performance:</tspan>"].concat(xn(c))),t(9,S=gt(f,o));const w=h.which(V=>V===u);t(6,p=n.subset(w)),t(7,k=r.subset(w))}},[f,u,c,r,n,o,p,k,T,S,i,s,d,g,b,a,h]}class Rr extends ee{constructor(e){super(),$(this,e,Ir,Vr,J,{globalModel:15,localModel:0,indSeg:1,splits:16,statCV:2})}}const co="";function Yr(l){let e,t,n,r,o,s,i,a;function f(d){l[13](d)}let u={disable:l[2]>-1,id:"cvType",label:"CV",options:["full","random","venetian"]};l[0]!==void 0&&(u.value=l[0]),e=new on({props:u}),Te.push(()=>St(e,"value",f));function h(d){l[14](d)}let c={disable:l[2]>-1,id:"pDegree",label:"Polynomial",options:Object.keys(l[8])};return l[1]!==void 0&&(c.value=l[1]),r=new on({props:c}),Te.push(()=>St(r,"value",h)),i=new Rl({props:{disable:l[2]>-1,id:"runCV",label:"",text:"Run"}}),i.$on("click",l[15]),{c(){B(e.$$.fragment),n=W(),B(r.$$.fragment),s=W(),B(i.$$.fragment)},m(d,g){D(e,d,g),A(d,n,g),D(r,d,g),A(d,s,g),D(i,d,g),a=!0},p(d,g){const b={};g&4&&(b.disable=d[2]>-1),!t&&g&1&&(t=!0,b.value=d[0],zt(()=>t=!1)),e.$set(b);const p={};g&4&&(p.disable=d[2]>-1),!o&&g&2&&(o=!0,p.value=d[1],zt(()=>o=!1)),r.$set(p);const k={};g&4&&(k.disable=d[2]>-1),i.$set(k)},i(d){a||(y(e.$$.fragment,d),y(r.$$.fragment,d),y(i.$$.fragment,d),a=!0)},o(d){L(e.$$.fragment,d),L(r.$$.fragment,d),L(i.$$.fragment,d),a=!1},d(d){F(e,d),d&&M(n),F(r,d),d&&M(s),F(i,d)}}}function qr(l){let e,t,n,r,o,s,i,a,f,u;return n=new Rr({props:{splits:l[6],indSeg:l[2],statCV:l[4],localModel:l[5],globalModel:l[7]}}),s=new Ul({props:{splits:l[6],indSeg:l[2],x:l[9],y:l[10],ycv:l[3]}}),f=new zl({props:{$$slots:{default:[Yr]},$$scope:{ctx:l}}}),{c(){e=j("div"),t=j("div"),B(n.$$.fragment),r=W(),o=j("div"),B(s.$$.fragment),i=W(),a=j("div"),B(f.$$.fragment),m(t,"class","app-plot-area svelte-u5opub"),m(o,"class","app-table-area svelte-u5opub"),m(a,"class","app-controls-area svelte-u5opub"),m(e,"class","app-layout svelte-u5opub")},m(h,c){A(h,e,c),Y(e,t),D(n,t,null),Y(e,r),Y(e,o),D(s,o,null),Y(e,i),Y(e,a),D(f,a,null),u=!0},p(h,c){const d={};c&64&&(d.splits=h[6]),c&4&&(d.indSeg=h[2]),c&16&&(d.statCV=h[4]),c&32&&(d.localModel=h[5]),c&128&&(d.globalModel=h[7]),n.$set(d);const g={};c&64&&(g.splits=h[6]),c&4&&(g.indSeg=h[2]),c&8&&(g.ycv=h[3]),s.$set(g);const b={};c&1048583&&(b.$$scope={dirty:c,ctx:h}),f.$set(b)},i(h){u||(y(n.$$.fragment,h),y(s.$$.fragment,h),y(f.$$.fragment,h),u=!0)},o(h){L(n.$$.fragment,h),L(s.$$.fragment,h),L(f.$$.fragment,h),u=!1},d(h){h&&M(e),F(n),F(s),F(f)}}}function Pr(l){let e;return{c(){e=j("div"),e.innerHTML=`<h2>Cross-validation</h2> 
      <p>Cross-validation is a way to estimate the sampling error without taking new samples from the population. The idea is to split your original observations to several segments and then, for each segment, make a local model by taking the segment observations out of the dataset, and use the rest for training the model. After that, the local model is used to predict
         the response values of the excluded observations. The procedure is repeated for each segment, so at the end every observation will have a predicted response value (<em>y</em><sub>cv</sub>).</p> 
      <p>Splitting the observations into segments can be done in several ways. The simplest is to consider
         every observation as individual segment. In this case the number of segments is equal to the number of observations and thus on every step one observation will be taking out, while the rest will be used for training the local model. This way is called <em>leave-one-out</em> or <em>full cross-validation</em>. Alternatively you can assign two or more observations to each segment. This can be done randomly (<em>random segmented cross-validation</em>) or systematically by taking every k-th observation (<em>venetian blinds</em>).</p> 
      <p>This app shows how all three methods work for a simple dataset with 12 observations. If random or systematic split is selected, number of segments will be equal to 4. Cross-validation can help to detect overfitting, you can also test this in the app \u2014\xA0try to use overfitted model, e.g. cubic polynomial and will see that despite the calibration error is getting smaller, the cross-validation error will be larger for overcomplicated models.</p>`,m(e,"slot","help")},m(t,n){A(t,e,n)},p:H,d(t){t&&M(e)}}}function jr(l){let e,t;return e=new Al({props:{$$slots:{help:[Pr],default:[qr]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,r){D(e,n,r),t=!0},p(n,[r]){const o={};r&1048831&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}const Or=1e3,Gr=4,Ee=12,Dr=0,Fr=1,Hr=.5;function Br(l,e){return[l.which(t=>t!==e),l.which(t=>t===e)]}function Kr(l,e,t){let n,r,o,s="random",i="line";const a={line:1,quadratic:2,cubic:3},f=R.randn(Ee),u=R.randn(Ee,Dr,Fr).sort(),h=u.apply((z,E)=>-2+2.5*z).add(f.mult(Hr)),c=z=>new Promise(E=>setTimeout(E,z));let d=-1,g=R.fill(NaN,Ee),b,p;function k(z,E,v){const G=Qe(z.subtract(E)),P=Qe(z.subtract(at(z))),K=z.length-(n+1);return{R2:1-G/P,se:Math.sqrt(G/K)}}function T(z,E){if(t(3,g=R.fill(NaN,Ee)),t(5,p=void 0),t(4,b=void 0),t(2,d=-1),z=="full")return fe.seq(1,Ee);const v=Math.ceil(Ee/E),G=fe.seq(1,E).rep(v).slice(1,Ee);return z=="venetian"?G:G.shuffle()}async function S(){t(3,g=R.fill(NaN,Ee)),t(4,b=void 0),t(2,d=-1);for(let z=1;z<=oe(o);z++){const[E,v]=Br(o,z);t(2,d=z),t(5,p=Jt(u.subset(E),h.subset(E),n)),t(3,g=g.replace(gt(p,u.subset(v)),v)),await c(Or)}t(2,d=-1),t(4,b=k(h,g))}function w(z){s=z,t(0,s)}function V(z){i=z,t(1,i)}const _=()=>S();return l.$$.update=()=>{l.$$.dirty&2&&t(12,n=a[i]),l.$$.dirty&4096&&t(7,r=Jt(u,h,n)),l.$$.dirty&1&&t(6,o=T(s,Gr))},[s,i,d,g,b,p,o,r,a,u,h,S,n,w,V,_]}class Wr extends ee{constructor(e){super(),$(this,e,Kr,jr,J,{})}}new Wr({target:document.getElementById("graasta-app-container")})})();
//# sourceMappingURL=asta-b306.js.map
