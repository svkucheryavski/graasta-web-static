(function(){"use strict";var yt=document.createElement("style");yt.textContent=`#graasta-app-container{height:100%!important;width:100%!important}.graasta-app.svelte-gs0uj5.svelte-gs0uj5{font-family:Helvetica,Areal,Verdana,sans-serif;display:block;position:relative;font-size:max(14px,1vw);min-width:800px;min-height:450px;height:auto;width:auto;aspect-ratio:16/9;box-sizing:border-box;padding:0;margin:0 auto}.graasta-app.svelte-gs0uj5 .svelte-gs0uj5{box-sizing:border-box;margin:0;padding:0}.graasta-app.svelte-gs0uj5 .svelte-gs0uj5:glbal(.plot){box-shadow:0 0 5px #30303020}.graasta-app.svelte-gs0uj5 .content.svelte-gs0uj5{width:100%;height:100%}.helptext.svelte-gs0uj5.svelte-gs0uj5{font-family:Open Sans,sans-serif;position:absolute;top:0;width:0;left:0;bottom:0;z-index:999;background:white;box-sizing:border-box;width:100%;height:100%;padding:1em;margin:0;line-height:1.35em;font-size:1em;color:#303030}.helptext.svelte-gs0uj5 h2{padding:1.25em 0 .5em;font-size:1.2em}.helptext.svelte-gs0uj5 p{padding:0 0 .5em;line-height:1.5em;font-size:1em}.app-control-error.svelte-ikfd2j{padding:.5em .5em .25em .65em;font-size:.75em;color:#dc143c}fieldset.svelte-ikfd2j{background:#f4f4f4;margin:0;box-shadow:0 0 2px #30303020;border:none;padding:.5em}legend.svelte-ikfd2j{color:#606060;float:left;width:100%;display:block;margin:0;padding:.25em 0;font-size:1.1em;font-weight:700}.app-control.svelte-1u720uv.svelte-1u720uv{font-size:1em;margin:.25em 0 0;padding:.15em .25em;display:flex;align-items:center;justify-content:flex-begin;position:relative}.app-control.svelte-1u720uv>label.svelte-1u720uv{height:1.5em;line-height:1.5em;flex:0 0 90px;max-width:90px;user-select:none;-webkit-user-select:none;cursor:default}.app-control.svelte-1u720uv>slot.svelte-1u720uv{width:100%}.shield.svelte-1u720uv.svelte-1u720uv{display:none}@media (min-width: 959px){.app-control.svelte-1u720uv>label.svelte-1u720uv{flex:0 0 120px;max-width:120px}}@media (min-width: 1279px){.app-control.svelte-1u720uv>label.svelte-1u720uv{flex:0 0 150px;max-width:150px}}.app-control.disable.svelte-1u720uv>label.svelte-1u720uv{color:#b0b0b0}.app-control.hidden.svelte-1u720uv.svelte-1u720uv{visibility:hidden}.app-control.disable.svelte-1u720uv>.shield.svelte-1u720uv{display:block;background:#ffffff50;position:absolute;top:0;left:0;width:100%;height:100%;z-index:999}button.svelte-176r7j6{height:1.5em;font-size:1em;padding:0 1em;margin:0;color:#606060;background:#e0e0e0;box-shadow:none;border:none;border-radius:3px;white-space:nowrap;user-select:none}button.svelte-176r7j6:hover{color:#fafafa;background:#606060}input.svelte-yqpg3s{display:none}.selector.svelte-yqpg3s{position:relative;box-sizing:border-box;display:inline-block;flex:0 0 auto;background:#e0e0e0;font-size:1em;height:1.5em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yqpg3s{cursor:default;padding:0 .5em;margin:0 1px;color:#606060;transition:background-color .5s ease}.option.selected.svelte-yqpg3s{border-radius:3px;background-color:#606060;color:#fefefe}.datatable__value.svelte-1m7xmmh{vertical-align:middle;padding:.25em .1em;margin:0;border-spacing:0;border-collapse:collapse}.datatable__value_number.svelte-1m7xmmh{text-align:right}.datatable.svelte-1r68t2h{margin:0;border-spacing:0;border-collapse:collapse}.datatable__label.svelte-1r68t2h{vertical-align:middle;padding:.25em .1em;margin:0;border-spacing:0;border-collapse:collapse}.datatable__label.svelte-1r68t2h{font-weight:700;vertical-align:middle}.table-container.svelte-sj44zy{padding:1em}.datatable{width:100%;font-size:.9em}.datatable tr td{width:18%}.datatable tr td:first-child{width:10%}.datatable .datatable__label{text-align:right;border-bottom:1px solid #909090}.datatable .datatable__row.selected .datatable__value{background:#33668820;color:#368}.datatable tr .datatable__value{border-bottom:1px solid #ffffff}.datatable tr:last-child .datatable__value:last-child{visibility:visible;font-weight:700}.plot.svelte-1ukmxl7{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;background:#fefefe;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small{font-size:11px}.plot_medium{font-size:13px}.plot_large{font-size:16px}.plot_error{display:flex}.plot_error>.axes-wrapper{display:none}.message_error{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1ukmxl7{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel>span{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;user-select:none;dominant-baseline:middle}.app-layout.svelte-s1hwyg{width:100%;height:100%;position:relative;display:grid;grid-template-areas:"plot table" "plot controls";grid-template-rows:1fr auto;grid-template-columns:minmax(65%,80%) minmax(350px,500px)}.app-plot-area.svelte-s1hwyg{grid-area:plot}.app-table-area.svelte-s1hwyg{grid-area:table}.app-controls-area.svelte-s1hwyg{padding-left:1em;grid-area:controls}
`,document.head.appendChild(yt);function Q(){}function Qn(e,t){for(const n in t)e[n]=t[n];return e}function vt(e){return e()}function wt(){return Object.create(null)}function Ne(e){e.forEach(vt)}function kt(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Zn(e){return Object.keys(e).length===0}function Jn(e,...t){if(e==null)return Q;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function H(e,t,n){e.$$.on_destroy.push(Jn(t,n))}function be(e,t,n,l){if(e){const r=At(e,t,n,l);return e[0](r)}}function At(e,t,n,l){return e[1]&&l?Qn(n.ctx.slice(),e[1](l(t))):n.ctx}function pe(e,t,n,l){if(e[2]&&l){const r=e[2](l(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],s=Math.max(t.dirty.length,r.length);for(let f=0;f<s;f+=1)i[f]=t.dirty[f]|r[f];return i}return t.dirty|r}return t.dirty}function ye(e,t,n,l,r,i){if(r){const s=At(t,n,l,i);e.p(s,r)}}function ve(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function R(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode&&e.parentNode.removeChild(e)}function ue(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function q(e){return document.createElement(e)}function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function de(e){return document.createTextNode(e)}function O(){return de(" ")}function se(){return de("")}function Ee(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Xn(e){return Array.from(e.childNodes)}function Ce(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Mt(e,t){e.value=t==null?"":t}function Lt(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function we(e,t,n){e.classList[n?"add":"remove"](t)}function $n(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,l,t),r}let xe;function Ye(e){xe=e}function We(){if(!xe)throw new Error("Function called outside component initialization");return xe}function el(e){We().$$.on_mount.push(e)}function tl(e){We().$$.on_destroy.push(e)}function nl(){const e=We();return(t,n,{cancelable:l=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=$n(t,n,{cancelable:l});return r.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}function ll(e,t){return We().$$.context.set(e,t),t}function je(e){return We().$$.context.get(e)}function rl(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const Ge=[],Ve=[],Ke=[],lt=[],il=Promise.resolve();let rt=!1;function sl(){rt||(rt=!0,il.then(Nt))}function it(e){Ke.push(e)}function St(e){lt.push(e)}const st=new Set;let Ue=0;function Nt(){const e=xe;do{for(;Ue<Ge.length;){const t=Ge[Ue];Ue++,Ye(t),ol(t.$$)}for(Ye(null),Ge.length=0,Ue=0;Ve.length;)Ve.pop()();for(let t=0;t<Ke.length;t+=1){const n=Ke[t];st.has(n)||(st.add(n),n())}Ke.length=0}while(Ge.length);for(;lt.length;)lt.pop()();rt=!1,st.clear(),Ye(e)}function ol(e){if(e.fragment!==null){e.update(),Ne(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(it)}}const Qe=new Set;let Te;function ze(){Te={r:0,c:[],p:Te}}function Ie(){Te.r||Ne(Te.c),Te=Te.p}function V(e,t){e&&e.i&&(Qe.delete(e),e.i(t))}function z(e,t,n,l){if(e&&e.o){if(Qe.has(e))return;Qe.add(e),Te.c.push(()=>{Qe.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function al(e,t){e.d(1),t.delete(e.key)}function fl(e,t,n,l,r,i,s,f,a,o,c,u){let m=e.length,h=i.length,_=m;const w={};for(;_--;)w[e[_].key]=_;const g=[],b=new Map,D=new Map;for(_=h;_--;){const p=u(r,i,_),A=n(p);let k=s.get(A);k?l&&k.p(p,t):(k=o(A,p),k.c()),b.set(A,g[_]=k),A in w&&D.set(A,Math.abs(_-w[A]))}const j=new Set,E=new Set;function P(p){V(p,1),p.m(f,c),s.set(p.key,p),c=p.first,h--}for(;m&&h;){const p=g[h-1],A=e[m-1],k=p.key,x=A.key;p===A?(c=p.first,m--,h--):b.has(x)?!s.has(k)||j.has(k)?P(p):E.has(x)?m--:D.get(k)>D.get(x)?(E.add(k),P(p)):(j.add(x),m--):(a(A,s),m--)}for(;m--;){const p=e[m];b.has(p.key)||a(p,s)}for(;h;)P(g[h-1]);return g}function Et(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function B(e){e&&e.c()}function Y(e,t,n,l){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),l||it(()=>{const s=e.$$.on_mount.map(vt).filter(kt);e.$$.on_destroy?e.$$.on_destroy.push(...s):Ne(s),e.$$.on_mount=[]}),i.forEach(it)}function W(e,t){const n=e.$$;n.fragment!==null&&(Ne(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ul(e,t){e.$$.dirty[0]===-1&&(Ge.push(e),sl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ee(e,t,n,l,r,i,s,f=[-1]){const a=xe;Ye(e);const o=e.$$={fragment:null,ctx:[],props:i,update:Q,not_equal:r,bound:wt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:wt(),dirty:f,skip_bound:!1,root:t.target||a.$$.root};s&&s(o.root);let c=!1;if(o.ctx=n?n(e,t.props||{},(u,m,...h)=>{const _=h.length?h[0]:m;return o.ctx&&r(o.ctx[u],o.ctx[u]=_)&&(!o.skip_bound&&o.bound[u]&&o.bound[u](_),c&&ul(e,u)),m}):[],o.update(),c=!0,Ne(o.before_update),o.fragment=l?l(o.ctx):!1,t.target){if(t.hydrate){const u=Xn(t.target);o.fragment&&o.fragment.l(u),u.forEach(L)}else o.fragment&&o.fragment.c();t.intro&&V(e.$$.fragment),Y(e,t.target,t.anchor,t.customElement),Nt()}Ye(a)}class te{$destroy(){W(this,1),this.$destroy=Q}$on(t,n){if(!kt(n))return Q;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!Zn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function le(e){let t=e.length,n=Number.POSITIVE_INFINITY;for(;t--;)n=e[t]<n?e[t]:n;return n}function ie(e){let t=e.length,n=Number.NEGATIVE_INFINITY;for(;t--;)n=e[t]>n?e[t]:n;return n}function Pe(e){let t=0;for(let n=0;n<e.length;n++)t=t+e[n];return t}function ot(e){return Pe(e)/e.length}function cl(e,t,n=!1,l=void 0,r=void 0){const i=e.length;if(t.length!==i)throw Error("Vectors 'x' and 'y' must have the same length.");if(i<2)throw Error("Vectors 'x' and 'y' must have at least two values.");l===void 0&&(l=ot(e)),r===void 0&&(r=ot(t));let s=0;for(let f=0;f<i;f++)s=s+(e[f]-l)*(t[f]-r);return s/(n?i:i-1)}function ml(e,t=!1,n=void 0){return cl(e,e,t,n,n)}function ae(e,t,n){if(n<2)throw new Error("Parameter 'n' should be \u2265 2.");if(n===void 0&&Number.isInteger(e)&&Number.isInteger(t)){if(t===e)return[t];n=t-e+1}const l=(t-e+0)/(n-1+0);let r=[...Array(n)].map((i,s)=>e+s*l);if(Math.abs(l)<1){const i=Math.pow(10,Math.round(-Math.log10(l))+1);r=r.map(s=>Math.round((s+Number.EPSILON)*i)/i)}return r}function ke(e,t=.05){const n=le(e),r=ie(e)-n;return[n-r*t,ie(e)+r*t]}function dl(e){return e.slice(1).map((t,n)=>t-e[n])}function Ct(e,t=0,n=1){let l=Array(e);for(let r=0;r<e;r++){const i=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();l[r]=i*Math.sin(s)*n+t}return l}function at(e,t=0,n=1){if(Array.isArray(e))return e.map(N=>at(N,t,n));if(t!==0||n!==1)return at(e)*n+t;if(e<0||e>1)throw Error("Parameter 'p' must be between 0 and 1.");if(e<1e-10)return-1/0;if(e>.9999999999)return 1/0;const l=.425,r=5,i=.180625,s=1.6,f=3.3871327179,a=5.0434271938*10,o=1.5929113202*100,c=5.910937472*10,u=1.7895169469*10,m=7.8757757664*10,h=6.71875636*10,_=1.4234372777,w=2.75681539,g=1.3067284816,b=1.7023821103*.1,D=7.370016425*.1,j=1.2021132975*.1,E=6.657905115,P=3.081226386,p=4.2868294337*.1,A=1.7337203997*.01,k=2.4197894225*.1,x=1.2258202635*.01,M=e-.5;let T;if(Math.abs(M)<=l)return T=i-M*M,M*(((c*T+o)*T+a)*T+f)/(((h*T+m)*T+u)*T+1);T=M<0?e:1-e,T=Math.sqrt(-Math.log(T));let C;return T<=r?(T=T-s,C=(((b*T+g)*T+w)*T+_)/((j*T+D)*T+1)):(T=T-r,C=((A*T+p)*T+P+E)/((x*T+k)*T+1)),M<0?-C:C}function Vt(e,t){if(t<0)throw new Error("Parameter 'dof' should be a positive number.");if(Array.isArray(e))return e.map(r=>Vt(r,t));const n=-.5*(t+1);return 1/(Math.sqrt(t)*It(.5,t/2))*Math.pow(1+e*e/t,n)}function Ze(e,t){if(t==null||t<1)throw Error("Parameter 'dof' (degrees of freedom) must be an integer number >= 1.");return Array.isArray(e)?e.map(n=>Ze(n,t)):e===0?.5:e===-1/0?0:e===1/0?1:e>0?1-Ze(-e,t):Ae(n=>Vt(n,t),-1/0,e)}function Tt(e,t){if(t==null||t<1)throw Error("Parameter 'dof' (degrees of freedom) must be an integer number >= 1.");if(e<0||e>1)throw Error("Parameter 'p' must be between 0 and 1.");if(Array.isArray(e))return e.map(o=>Tt(o,t));if(e<1e-10)return-1/0;if(e>.9999999999)return 1/0;if(t===1)return Math.tan(Math.PI*(e-.5));if(t===2)return 2*(e-.5)*Math.sqrt(2/(4*e*(1-e)));let n=-1;e>=.5?(n=1,e=2*(1-e)):(n=-1,e=2*e);const l=1/(t-.5),r=48/l**2;let i=((20700*l/r-98)*l-16)*l+96.36;const s=((94.5/(r+i)-3)/r+1)*Math.sqrt(l*Math.PI/2)*t;let f=s*e,a=f**(2/t);return a>.05+l?(f=at(e*.5),a=f**2,t<5&&(i=i+.3*(t-4.5)*(f+.6)),i=(((.05*s*f-5)*f-7)*f-2)*f+r+i,a=(((((.4*a+6.3)*a+36)*a+94.5)/i-a-3)/r+1)*f,a=l*a**2,a=a>.002?Math.exp(a)-1:.5*a**2+a):a=((1/(((t+6)/(t*a)-.089*s-.822)*(t+2)*3)+.5/(t+4))*a-1)*(t+1)/(t+2)+1/a,n*Math.sqrt(t*a)}function zt(e,t,n){if(e<0||t<0||n<0)throw new Error("All 3 parameters must be positive.");return Array.isArray(e)?e.map(l=>zt(l,t,n)):gl(t*e/(t*e+n),t/2,n/2)}function hl(e,t=!1){return t?[...e].sort((n,l)=>l-n):[...e].sort((n,l)=>n-l)}function fe(e,t){if(Array.isArray(t)){if(e.length!=t.length)throw new Error("Parameter 'n' should be a single value or a vector of the same length as x.");let l=[];for(let r=0;r<t.length;r++)l.push(...fe([e[r]],t[r]));return l}if(Array.isArray(e)||(e=[e]),t<=1)return e;const n=e.length;e.length=n*t;for(let l=0;l<t-1;l++)for(let r=0;r<n;r++)e[n*(l+1)+r]=e[r];return e}function oe(e,t,n){if(Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),t.length===0)return[...e];if(ie(t)>e.length||le(t)<1)throw new Error("Parameter 'indices' must have values between 1 and 'x.length'.");const l=t.length;if(!n||n==="select"){let r=Array(l);for(let i=0;i<l;i++)r[i]=e[t[i]-1];return r}if(n==="remove")return[...e].filter((i,s)=>!t.includes(s+1));throw Error("Wrong value for argument 'method'.")}function _l(e){let t=[...e],n=t.length,l,r;for(;n;)r=Math.floor(Math.random()*n--),l=t[n],t[n]=t[r],t[r]=l;return t}function Ae(e,t,n,l=1e-6,r=1e-5,i=void 0){if(typeof t!="number"||typeof n!="number")throw Error("Parameters 'a' and 'b' must be numbers.");if(n<t)throw Error("Parameter 'b' must be larger 'a'.");if(t===-1/0&&n!==1/0)return Ae(p=>e(n-(1-p)/p)/p**2,0,1);if(t!==-1/0&&n===1/0)return Ae(p=>e(t+(1-p)/p)/p**2,0,1);if(t===-1/0&&n===1/0)return Ae(p=>(e((1-p)/p)+e((p-1)/p))/p**2,0,1);const s=[1/6,2/6,4/6,5/6],f=[2/6,1/6,1/6,2/6],a=[1/4,1/4,1/4,1/4],o=[1,0,0,1];let c=s.length,u=n-t,m;if(i===void 0)m=s.map(p=>e(t+p*u));else{m=new Array(c);for(let p=0,A=0;A<c;A++)m[A]=o[A]===1?e(t+s[A]*u):i[p++]}let h=0,_=0;for(let p=0;p<c;p++)h+=f[p]*m[p]*u,_+=a[p]*m[p]*u;if(isNaN(_)||isNaN(h))throw Error("Numerical integration ended up with NaN number.");let w=l+r*Math.abs(h);if(Math.abs((h-_)/3)<w)return h;l=l/Math.sqrt(2);let b=(t+n)/2,D=m.filter((p,A)=>A<c/2),j=m.filter((p,A)=>A>=c/2),E=Ae(e,t,b,r,l,D),P=Ae(e,b,n,r,l,j);return E+P}function Oe(e){if(Array.isArray(e))return e.map(r=>Oe(r));if(e<=0)throw new Error("Gamma function only works with arguments > 0.");const t=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(e<.5)return Math.PI/(Math.sin(Math.PI*e)+Oe(1-e));e=e-1;let n=.9999999999998099;for(let r=0;r<t.length;r++)n=n+t[r]/(e+r+1);const l=e+t.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(l,e+.5)*Math.exp(-l)*n}function It(e,t){return t>100?Ae(n=>Math.pow(n,e-1)/Math.pow(1+n,e+t),0,1/0):Oe(e)*Oe(t)/Oe(e+t)}function gl(e,t,n){return e===0?0:e===1?1:n===1?e**t:t===1?1-(1-e)**n:Ae(l=>l**(t-1)*(1-l)**(n-1),0,e)/It(t,n)}const jt=(e,t)=>e+t,bl=(e,t)=>e-t,Pt=(e,t)=>e*t,pl=(e,t)=>e/t;function Rt(e){if(!X(e))throw Error("Argument 'x' must be a vector.");return Math.sqrt(Pe(e.map(t=>t**2)))}function Dt(e,t,n){if(!X(e))throw Error("Argument 'x' must be a vector.");if(!X(t))throw Error("Argument 'y' must be a vector.");if(n=Be(n,e.length,!0),n.length!==t.length)throw Error("Number of values in 'ind' should match the number of elements in 'y'.");let l=oe(e,[]);for(let r=0;r<n.length;r++)l[n[r]-1]=t[r];return l}function ft(e,t){if(!X(e))throw Error("Argument 'x' must be a vector.");return e.map(n=>t(n))}function yl(e,t){return Xe(e,t,pl)}function ut(e,t){return Xe(e,t,Pt)}function qt(e,t){return Xe(e,t,jt)}function Je(e,t){return Xe(e,t,bl)}function Xe(e,t,n){const l=e.length|t.length;if(l<1)throw Error("One of the arguments must be a vector.");if(X(t)||(t=fe(t,l)),X(e)||(e=fe(e,l)),e.length!==t.length)throw Error("Dimensions of 'x' and 'y' mismatch.");let r=Array(l).fill(0);for(let i=0;i<l;i++)r[i]=n(e[i],t[i]);return r}function X(e){return!(!Re(e)||Array.isArray(e[0]))}function Ht(e,t){if(!X(e))throw Error("Argument 'x' must be a vector of numbers.");if(!X(t))throw Error("Argument 'y' must be a vector of numbers.");if(e.length!=t.length)throw Error("Vectors 'x' and 'y' must have the same length.");let n=0;for(let l=0;l<e.length;l++)n=n+e[l]*t[l];return n}function Be(e,t,n){if(Array.isArray(e)||(e=[e]),e.length>0&&(le(e)<1||ie(e)>t))throw Error("Wrong values for indices.");return e.length===0&&n&&(e=ae(1,t)),e}function Me(e,t,n,l){if(!re(e))throw Error("Argument 'X' must be a matrix.");n=Be(n,$(e),l==="select"),t=Be(t,ne(e),!1),(l==="remove"||n.length===0)&&(n=oe(ae(1,$(e)),n,"remove"));let r=Array(n.length);for(let i=0;i<n.length;i++)r[i]=oe(e[n[i]-1],t,l);return r}function vl(e,t,n,l){if(!re(e))throw Error("Argument 'X' must be a matrix.");if(n=Be(n,ne(e),!0),l=Be(l,$(e),!0),n.length!==ne(t))throw Error("Number of values in 'rowInd' should match the number of rows in 'Y'.");if(l.length!==$(t))throw Error("Number of values in 'colInd' should match the number of columns in 'Y'.");let r=Me(e,[],[]);for(let i=0;i<l.length;i++)for(let s=0;s<n.length;s++)r[l[i]-1][n[s]-1]=t[i][s];return r}function wl(e,t){if(t||(t=Me(e,[],[])),!re(e)||!re(t))throw Error("Both arguments must be matrices (2D Arrays).");return me(e,ce(t))}function kl(e,t){if(t||(t=Me(e,[],[])),!re(e)||!re(t))throw Error("Both arguments must be matrices (2D Arrays).");return me(ce(e),t)}function xt(e,t,n){if(!re(e))throw Error("Argument 'X' must be a matrix (2D Array).");const l=ne(e),r=$(e);if(re(t)||(t=Ot(t,l,r)),ne(e)!==ne(t)||$(e)!==$(t))throw Error("Dimensions of 'X' and 'Y' mismatch.");let i=Fe(l,r);for(let s=0;s<l;s++)for(let f=0;f<r;f++)i[f][s]=n(e[f][s],t[f][s]);return i}function Al(e,t){return xt(e,t,jt)}function Yt(e,t){return xt(e,t,Pt)}function me(e,t){if(X(e)&&(e=[e]),!re(e))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");if(X(t)&&(t=[t]),!re(t))throw Error("Argument 'Y' must be a vector or a matrix (1D or 2D Array).");if($(e)!=ne(t))throw Error("Dimensions of 'X' and 'Y' mismatch.");const n=ne(e),l=$(t);let r=Fe(n,l);e=ce(e);for(let i=0;i<n;i++)for(let s=0;s<l;s++)r[s][i]=Ht(e[i],t[s]);return r}function ce(e){if(X(e)&&(e=[e]),!re(e))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");return e[0].map((t,n)=>e.map(l=>l[n]))}function $e(e){let t=Fe(e,e);for(let n=0;n<e;n++)t[n][n]=1;return t}function Wt(e){if(!et(e))throw Error("Argument 'x' must be a squared matrix.");const t=ne(e);let n=fe(0,t);for(let l=0;l<t;l++)n[l]=e[l][l];return n}function Ml(e){if(!X(e))throw Error("Argument 'x' must be a vector.");const t=e.length;let n=Fe(t,t);for(let l=0;l<t;l++)n[l][l]=e[l];return n}function Fe(e,t){return Gt(e,t,0)}function Gt(e,t,n){return[...Array(t)].map(l=>Array(e).fill(n))}function ne(e){if(X(e))return e.length;if(!re(e))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");return e[0].length}function $(e){if(X(e))return 1;if(!re(e))throw Error("Argument 'X' must be a vector or a matrix (1D or 2D Array).");return e.length}function Ot(e,t,n){if(!Re(e))return Gt(t,n,e);if(!X(e))throw Error("Argument 'x' must me a scalar or a vector.");if(e.length===t)return Array(n).fill(e);if(e.length===n)return ce(Array(t).fill(e));if(e.length===t*n)return Array(n).fill(null).map((l,r)=>oe(e,qt(ae(1,t),t*r)));throw Error("Number of elements in 'x' does not match neither 'nrows' nor 'ncols'.")}function Re(e){return Array.isArray(e)&&e.length>0}function re(e){return!(!Re(e)||!Re(e[0])||!e.every(t=>t.length==e[0].length))}function et(e){return re(e)&&ne(e)===$(e)}function Ll(e){return ct(ce(e))}function Sl(e){if(!et(e))throw Error("Argument 'X' must be a squared matrix.");const t=ne(e);if(ne(e)!=$(e))return!1;for(let n=0;n<t;n++)for(let l=0;l<t;l++)if(n!==l&&Math.abs(e[n][l])>Number.EPSILON)return!1;return!0}function ct(e){if(!et)return!1;const t=$(e);for(let n=0;n<t;n++)for(let l=n+1;l<t;l++)if(Math.abs(e[n][l])>10**-10)return!1;return!0}function Nl(e){const t=$(e),n=ne(e),l=le([n,t]);let r=Me(e,[],[]),i=$e(n);for(let s=0;s<l;s++){const f=oe(r[s],ae(s+1,n)),a=f.length;let o=fe(0,a);o[0]=Math.sign(f[0])*Rt(f);const c=qt(o,f),u=Al($e(a),Yt(wl([c]),-2/Rt(c)**2)),m=vl($e(n),u,ae(n-a+1,n),ae(n-a+1,n));i=me(i,m),r=me(m,r)}return{Q:i,R:r}}function mt(e){if(!et(e))throw Error("Only squared matrices can be inverted.");if(Sl(e))return $(e),Ml(Wt(e).map(n=>Math.abs(n)>Number.EPSILON?1/n:n));if(ct(e))return ce(mt(ce(e)));if(Ll(e)){const n=$(e),l=$e(n);let r=Fe(n,n);for(let i=1;i<=n;i++)for(let s=1;s<=n;s++)r[s-1][i-1]=(l[s-1][i-1]-me(Me(e,i,ae(1,i-1)),Me(r,ae(1,i-1),s)))/e[i-1][i-1];return r}const t=Nl(e);if(!ct(t.R))throw Error("QR decomposition of the matrix returned incorrect result.");return me(mt(t.R),ce(t.Q))}function Bt(e,t){if(!X(e))throw Error("Argument 'x' must be a vector.");return t>1?ae(1,t).map(n=>e.map(l=>l**n)):[e]}function Ft(e,t,n){if(n<1||n>=e.length)throw Error("Polynomial degree 'd' must a positive value smaller than number of measurements.");let l=El(Bt(e,n),t);return l.pdegree=n,l.class="pm",l}function dt(e,t){if(!X(t))throw Error("Argument 'x' must be a vector.");if(e.class!=="pm")throw Error("Argument 'm' must be object with polynomial model returned by method 'polyfit()'.");return Cl(e,Bt(t,e.pdegree))}function El(e,t){if(!Re(e))throw Error("Argument 'X' must be a matrix or a vector.");if(!X(t))throw Error("Argument 'y' must be a vector.");const n=ne(e);if(ne(t)!==n)throw Error("Arguments 'X' and 'y' must have the same number of measurements.");if(n<=$(e))throw Error("Number of measurements must be larger than number of predictors.");re(e)||(e=[e]);const l=Me(e,[],[]);l.unshift(fe(1,n));const r=mt(kl(l)),i=me(me(r,ce(l)),t)[0],s=me(l,i)[0],f=Vl(t,s,$(e)),a=ft(Wt(Yt(r,f.se**2)),Math.sqrt),o=yl(i,a),c=Tt(.975,f.DoF);return{class:"lm",data:{X:e,y:t},coeffs:{estimate:i,se:a,tstat:o,p:o.map(u=>u>0?2*Ze(-u,f.DoF):2*Ze(u,f.DoF)),lower:i.map((u,m)=>u-c*a[m]),upper:i.map((u,m)=>u+c*a[m])},fitted:s,stat:f}}function Cl(e,t){if(!Re(t))throw Error("Argument 'X' must be a matrix or a vector.");if(!(e.class==="lm"||e.class==="pm")||!e.coeffs.estimate||e.coeffs.estimate.length<1)throw Error("Argument 'm' must be object with MLR model returned by method 'lmfit()'.");if($(t)!==e.coeffs.estimate.length-1)throw Error("Number of columns in 'X' do not match number of coefficients in model 'm'.");re(t)||(t=[t]);const n=Me(t,[],[]);return n.unshift(fe(1,ne(t))),me(n,e.coeffs.estimate)[0]}function Vl(e,t,n){const l=ne(e);n||(n=1);const r=Je(e,t),i=Ht(r,r),s=ml(e)*(l-1),f=1-i/s,a=l-n-1,o=(s-i)/n/(i/a);return{R2:f,R2adj:1-(1-f)*(l-1)/a,Fstat:o,p:1-zt(o,n,a),DoF:a,se:Math.sqrt(i/a)}}const ni="",Tl=e=>({}),Kt=e=>({});function Ut(e){let t,n;const l=e[3].help,r=be(l,e,e[2],Kt);return{c(){t=q("div"),r&&r.c(),d(t,"class","helptext svelte-gs0uj5")},m(i,s){S(i,t,s),r&&r.m(t,null),n=!0},p(i,s){r&&r.p&&(!n||s&4)&&ye(r,l,i,i[2],n?pe(l,i[2],s,Tl):ve(i[2]),Kt)},i(i){n||(V(r,i),n=!0)},o(i){z(r,i),n=!1},d(i){i&&L(t),r&&r.d(i)}}}function zl(e){let t,n,l,r,i,s;const f=e[3].default,a=be(f,e,e[2],null);let o=e[0]&&Ut(e);return{c(){t=q("main"),n=q("div"),a&&a.c(),l=O(),o&&o.c(),d(n,"class","content svelte-gs0uj5"),d(t,"class","graasta-app svelte-gs0uj5")},m(c,u){S(c,t,u),R(t,n),a&&a.m(n,null),R(t,l),o&&o.m(t,null),r=!0,i||(s=Ee(window,"keypress",e[1]),i=!0)},p(c,[u]){a&&a.p&&(!r||u&4)&&ye(a,f,c,c[2],r?pe(f,c[2],u,null):ve(c[2]),null),c[0]?o?(o.p(c,u),u&1&&V(o,1)):(o=Ut(c),o.c(),V(o,1),o.m(t,null)):o&&(ze(),z(o,1,1,()=>{o=null}),Ie())},i(c){r||(V(a,c),V(o),r=!0)},o(c){z(a,c),z(o),r=!1},d(c){c&&L(t),a&&a.d(c),o&&o.d(),i=!1,s()}}}function Il(e,t,n){let{$$slots:l={},$$scope:r}=t,i=!1;const s=()=>n(0,i=!i),f=a=>{a.key==="h"&&s()};return e.$$set=a=>{"$$scope"in a&&n(2,r=a.$$scope)},[i,f,r,l]}class jl extends te{constructor(t){super(),ee(this,t,Il,zl,J,{})}}const li="";function Qt(e){let t,n;return{c(){t=q("legend"),n=de(e[1]),d(t,"class","svelte-ikfd2j")},m(l,r){S(l,t,r),R(t,n)},p(l,r){r&2&&Ce(n,l[1])},d(l){l&&L(t)}}}function Zt(e){let t,n;return{c(){t=q("div"),n=de(e[0]),d(t,"class","app-control-error svelte-ikfd2j")},m(l,r){S(l,t,r),R(t,n)},p(l,r){r&1&&Ce(n,l[0])},d(l){l&&L(t)}}}function Pl(e){let t,n,l,r,i=e[1]!==""&&Qt(e);const s=e[3].default,f=be(s,e,e[2],null);let a=e[0]&&Zt(e);return{c(){t=q("fieldset"),i&&i.c(),n=O(),f&&f.c(),l=O(),a&&a.c(),d(t,"class","app-control-area svelte-ikfd2j")},m(o,c){S(o,t,c),i&&i.m(t,null),R(t,n),f&&f.m(t,null),R(t,l),a&&a.m(t,null),r=!0},p(o,[c]){o[1]!==""?i?i.p(o,c):(i=Qt(o),i.c(),i.m(t,n)):i&&(i.d(1),i=null),f&&f.p&&(!r||c&4)&&ye(f,s,o,o[2],r?pe(s,o[2],c,null):ve(o[2]),null),o[0]?a?a.p(o,c):(a=Zt(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(o){r||(V(f,o),r=!0)},o(o){z(f,o),r=!1},d(o){o&&L(t),i&&i.d(),f&&f.d(o),a&&a.d()}}}function Rl(e,t,n){let{$$slots:l={},$$scope:r}=t,{errormsg:i=void 0}=t,{legend:s=""}=t;return e.$$set=f=>{"errormsg"in f&&n(0,i=f.errormsg),"legend"in f&&n(1,s=f.legend),"$$scope"in f&&n(2,r=f.$$scope)},[i,s,r,l]}class Dl extends te{constructor(t){super(),ee(this,t,Rl,Pl,J,{errormsg:0,legend:1})}}const ri="";function ql(e){let t,n,l,r,i,s;const f=e[5].default,a=be(f,e,e[4],null);return{c(){t=q("div"),n=q("div"),l=O(),r=q("label"),i=O(),a&&a.c(),d(n,"class","shield svelte-1u720uv"),d(r,"for",e[0]),d(r,"class","svelte-1u720uv"),d(t,"class","app-control svelte-1u720uv"),we(t,"hidden",e[3]),we(t,"disable",e[2])},m(o,c){S(o,t,c),R(t,n),R(t,l),R(t,r),r.innerHTML=e[1],R(t,i),a&&a.m(t,null),s=!0},p(o,[c]){(!s||c&2)&&(r.innerHTML=o[1]),(!s||c&1)&&d(r,"for",o[0]),a&&a.p&&(!s||c&16)&&ye(a,f,o,o[4],s?pe(f,o[4],c,null):ve(o[4]),null),(!s||c&8)&&we(t,"hidden",o[3]),(!s||c&4)&&we(t,"disable",o[2])},i(o){s||(V(a,o),s=!0)},o(o){z(a,o),s=!1},d(o){o&&L(t),a&&a.d(o)}}}function Hl(e,t,n){let{$$slots:l={},$$scope:r}=t,{id:i}=t,{label:s}=t,{disable:f=!1}=t,{hidden:a=!1}=t;return e.$$set=o=>{"id"in o&&n(0,i=o.id),"label"in o&&n(1,s=o.label),"disable"in o&&n(2,f=o.disable),"hidden"in o&&n(3,a=o.hidden),"$$scope"in o&&n(4,r=o.$$scope)},[i,s,f,a,r,l]}class Jt extends te{constructor(t){super(),ee(this,t,Hl,ql,J,{id:0,label:1,disable:2,hidden:3})}}const ii="";function xl(e){let t,n,l,r;return{c(){t=q("button"),n=de(e[2]),d(t,"class","svelte-176r7j6")},m(i,s){S(i,t,s),R(t,n),l||(r=Ee(t,"click",e[5]),l=!0)},p(i,s){s&4&&Ce(n,i[2])},d(i){i&&L(t),l=!1,r()}}}function Yl(e){let t,n;return t=new Jt({props:{id:e[0],label:e[1],disable:e[3],hidden:e[4],$$slots:{default:[xl]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p(l,[r]){const i={};r&1&&(i.id=l[0]),r&2&&(i.label=l[1]),r&8&&(i.disable=l[3]),r&16&&(i.hidden=l[4]),r&68&&(i.$$scope={dirty:r,ctx:l}),t.$set(i)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function Wl(e,t,n){let{id:l}=t,{label:r}=t,{text:i}=t,{disable:s=!1}=t,{hidden:f=!1}=t;function a(o){rl.call(this,e,o)}return e.$$set=o=>{"id"in o&&n(0,l=o.id),"label"in o&&n(1,r=o.label),"text"in o&&n(2,i=o.text),"disable"in o&&n(3,s=o.disable),"hidden"in o&&n(4,f=o.hidden)},[l,r,i,s,f,a]}class Gl extends te{constructor(t){super(),ee(this,t,Wl,Yl,J,{id:0,label:1,text:2,disable:3,hidden:4})}}const si="";function Xt(e,t,n){const l=e.slice();return l[9]=t[n],l}function $t(e,t){let n,l=t[9]+"",r,i,s;function f(){return t[6](t[9])}function a(){return t[7](t[9])}return{key:e,first:null,c(){n=q("div"),r=de(l),d(n,"class","option svelte-yqpg3s"),we(n,"selected",t[9]==t[0]),this.first=n},m(o,c){S(o,n,c),R(n,r),i||(s=[Ee(n,"click",f),Ee(n,"keydown",a)],i=!0)},p(o,c){t=o,c&8&&l!==(l=t[9]+"")&&Ce(r,l),c&9&&we(n,"selected",t[9]==t[0])},d(o){o&&L(n),i=!1,Ne(s)}}}function Ol(e){let t,n=[],l=new Map,r,i,s,f,a=e[3];const o=c=>c[9];for(let c=0;c<a.length;c+=1){let u=Xt(e,a,c),m=o(u);l.set(m,n[c]=$t(m,u))}return{c(){t=q("div");for(let c=0;c<n.length;c+=1)n[c].c();r=O(),i=q("input"),d(t,"class","selector svelte-yqpg3s"),d(i,"name",e[1]),d(i,"class","svelte-yqpg3s")},m(c,u){S(c,t,u);for(let m=0;m<n.length;m+=1)n[m].m(t,null);S(c,r,u),S(c,i,u),Mt(i,e[0]),s||(f=Ee(i,"input",e[8]),s=!0)},p(c,u){u&9&&(a=c[3],n=fl(n,u,o,1,c,a,l,t,al,$t,null,Xt)),u&2&&d(i,"name",c[1]),u&1&&i.value!==c[0]&&Mt(i,c[0])},d(c){c&&L(t);for(let u=0;u<n.length;u+=1)n[u].d();c&&L(r),c&&L(i),s=!1,f()}}}function Bl(e){let t,n;return t=new Jt({props:{id:e[1],label:e[2],disable:e[4],hidden:e[5],$$slots:{default:[Ol]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p(l,[r]){const i={};r&2&&(i.id=l[1]),r&4&&(i.label=l[2]),r&16&&(i.disable=l[4]),r&32&&(i.hidden=l[5]),r&4107&&(i.$$scope={dirty:r,ctx:l}),t.$set(i)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function Fl(e,t,n){let{id:l}=t,{label:r}=t,{options:i}=t,{value:s=i[0]}=t,{disable:f=!1}=t,{hidden:a=!1}=t;const o=m=>n(0,s=m),c=m=>n(0,s=m);function u(){s=this.value,n(0,s)}return e.$$set=m=>{"id"in m&&n(1,l=m.id),"label"in m&&n(2,r=m.label),"options"in m&&n(3,i=m.options),"value"in m&&n(0,s=m.value),"disable"in m&&n(4,f=m.disable),"hidden"in m&&n(5,a=m.hidden)},[s,l,r,i,f,a,o,c,u]}class en extends te{constructor(t){super(),ee(this,t,Fl,Bl,J,{id:1,label:2,options:3,value:0,disable:4,hidden:5})}}const oi="";function tn(e,t,n){const l=e.slice();return l[2]=t[n],l}function nn(e,t,n){const l=e.slice();return l[2]=t[n],l}function Kl(e){let t,n=e[0],l=[];for(let r=0;r<n.length;r+=1)l[r]=ln(tn(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=se()},m(r,i){for(let s=0;s<l.length;s+=1)l[s].m(r,i);S(r,t,i)},p(r,i){if(i&1){n=r[0];let s;for(s=0;s<n.length;s+=1){const f=tn(r,n,s);l[s]?l[s].p(f,i):(l[s]=ln(f),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(r){ue(l,r),r&&L(t)}}}function Ul(e){let t,n=e[0],l=[];for(let r=0;r<n.length;r+=1)l[r]=rn(nn(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=se()},m(r,i){for(let s=0;s<l.length;s+=1)l[s].m(r,i);S(r,t,i)},p(r,i){if(i&3){n=r[0];let s;for(s=0;s<n.length;s+=1){const f=nn(r,n,s);l[s]?l[s].p(f,i):(l[s]=rn(f),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(r){ue(l,r),r&&L(t)}}}function ln(e){let t,n=e[2]+"";return{c(){t=q("td"),d(t,"class","datatable__value datatable__value_text svelte-1m7xmmh")},m(l,r){S(l,t,r),t.innerHTML=n},p(l,r){r&1&&n!==(n=l[2]+"")&&(t.innerHTML=n)},d(l){l&&L(t)}}}function rn(e){let t,n=(isNaN(e[2])?"":e[2].toFixed(e[1]))+"",l;return{c(){t=q("td"),l=de(n),d(t,"class","datatable__value datatable__value_number svelte-1m7xmmh")},m(r,i){S(r,t,i),R(t,l)},p(r,i){i&3&&n!==(n=(isNaN(r[2])?"":r[2].toFixed(r[1]))+"")&&Ce(l,n)},d(r){r&&L(t)}}}function Ql(e){let t;function n(i,s){return i[1]>=0?Ul:Kl}let l=n(e),r=l(e);return{c(){r.c(),t=se()},m(i,s){r.m(i,s),S(i,t,s)},p(i,[s]){l===(l=n(i))&&r?r.p(i,s):(r.d(1),r=l(i),r&&(r.c(),r.m(t.parentNode,t)))},i:Q,o:Q,d(i){r.d(i),i&&L(t)}}}function Zl(e,t,n){let{values:l}=t,{decNum:r}=t;return e.$$set=i=>{"values"in i&&n(0,l=i.values),"decNum"in i&&n(1,r=i.decNum)},[l,r]}class sn extends te{constructor(t){super(),ee(this,t,Zl,Ql,J,{values:0,decNum:1})}}const ai="";function on(e,t,n){const l=e.slice();return l[8]=t[n],l[10]=n,l}function an(e,t,n){const l=e.slice();return l[4]=t[n].label,l[5]=t[n].values,l[7]=n,l}function fn(e,t,n){const l=e.slice();return l[4]=t[n].label,l[5]=t[n].values,l}function un(e,t,n){const l=e.slice();return l[4]=t[n].label,l[5]=t[n].values,l[7]=n,l}function Jl(e){let t,n,l,r,i=e[0],s=[];for(let c=0;c<i.length;c+=1)s[c]=cn(fn(e,i,c));let f=e[0][0].values,a=[];for(let c=0;c<f.length;c+=1)a[c]=dn(on(e,f,c));const o=c=>z(a[c],1,1,()=>{a[c]=null});return{c(){t=q("tr");for(let c=0;c<s.length;c+=1)s[c].c();n=O();for(let c=0;c<a.length;c+=1)a[c].c();l=se(),d(t,"class","datatable__row")},m(c,u){S(c,t,u);for(let m=0;m<s.length;m+=1)s[m].m(t,null);S(c,n,u);for(let m=0;m<a.length;m+=1)a[m].m(c,u);S(c,l,u),r=!0},p(c,u){if(u&1){i=c[0];let m;for(m=0;m<i.length;m+=1){const h=fn(c,i,m);s[m]?s[m].p(h,u):(s[m]=cn(h),s[m].c(),s[m].m(t,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=i.length}if(u&5){f=c[0][0].values;let m;for(m=0;m<f.length;m+=1){const h=on(c,f,m);a[m]?(a[m].p(h,u),V(a[m],1)):(a[m]=dn(h),a[m].c(),V(a[m],1),a[m].m(l.parentNode,l))}for(ze(),m=f.length;m<a.length;m+=1)o(m);Ie()}},i(c){if(!r){for(let u=0;u<f.length;u+=1)V(a[u]);r=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)z(a[u]);r=!1},d(c){c&&L(t),ue(s,c),c&&L(n),ue(a,c),c&&L(l)}}}function Xl(e){let t,n,l=e[0],r=[];for(let s=0;s<l.length;s+=1)r[s]=hn(un(e,l,s));const i=s=>z(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();t=se()},m(s,f){for(let a=0;a<r.length;a+=1)r[a].m(s,f);S(s,t,f),n=!0},p(s,f){if(f&5){l=s[0];let a;for(a=0;a<l.length;a+=1){const o=un(s,l,a);r[a]?(r[a].p(o,f),V(r[a],1)):(r[a]=hn(o),r[a].c(),V(r[a],1),r[a].m(t.parentNode,t))}for(ze(),a=l.length;a<r.length;a+=1)i(a);Ie()}},i(s){if(!n){for(let f=0;f<l.length;f+=1)V(r[f]);n=!0}},o(s){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)z(r[f]);n=!1},d(s){ue(r,s),s&&L(t)}}}function cn(e){let t,n=e[4]+"";return{c(){t=q("td"),d(t,"class","datatable__label svelte-1r68t2h")},m(l,r){S(l,t,r),t.innerHTML=n},p(l,r){r&1&&n!==(n=l[4]+"")&&(t.innerHTML=n)},d(l){l&&L(t)}}}function mn(e){let t,n;return t=new sn({props:{values:[e[5][e[10]]],decNum:e[2][e[7]]}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p(l,r){const i={};r&1&&(i.values=[l[5][l[10]]]),r&4&&(i.decNum=l[2][l[7]]),t.$set(i)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function dn(e){let t,n,l,r=e[0],i=[];for(let f=0;f<r.length;f+=1)i[f]=mn(an(e,r,f));const s=f=>z(i[f],1,1,()=>{i[f]=null});return{c(){t=q("tr");for(let f=0;f<i.length;f+=1)i[f].c();n=O(),d(t,"class","datatable__row")},m(f,a){S(f,t,a);for(let o=0;o<i.length;o+=1)i[o].m(t,null);R(t,n),l=!0},p(f,a){if(a&5){r=f[0];let o;for(o=0;o<r.length;o+=1){const c=an(f,r,o);i[o]?(i[o].p(c,a),V(i[o],1)):(i[o]=mn(c),i[o].c(),V(i[o],1),i[o].m(t,n))}for(ze(),o=r.length;o<i.length;o+=1)s(o);Ie()}},i(f){if(!l){for(let a=0;a<r.length;a+=1)V(i[a]);l=!0}},o(f){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)z(i[a]);l=!1},d(f){f&&L(t),ue(i,f)}}}function hn(e){let t,n,l=e[4]+"",r,i,s,f;return i=new sn({props:{values:e[5],decNum:e[2][e[7]]}}),{c(){t=q("tr"),n=q("td"),r=O(),B(i.$$.fragment),s=O(),d(n,"class","datatable__label svelte-1r68t2h"),d(t,"class","datatable__row")},m(a,o){S(a,t,o),R(t,n),n.innerHTML=l,R(t,r),Y(i,t,null),R(t,s),f=!0},p(a,o){(!f||o&1)&&l!==(l=a[4]+"")&&(n.innerHTML=l);const c={};o&1&&(c.values=a[5]),o&4&&(c.decNum=a[2][a[7]]),i.$set(c)},i(a){f||(V(i.$$.fragment,a),f=!0)},o(a){z(i.$$.fragment,a),f=!1},d(a){a&&L(t),W(i)}}}function $l(e){let t,n,l,r;const i=[Xl,Jl],s=[];function f(a,o){return a[1]?0:1}return n=f(e),l=s[n]=i[n](e),{c(){t=q("table"),l.c(),d(t,"class","datatable svelte-1r68t2h")},m(a,o){S(a,t,o),s[n].m(t,null),r=!0},p(a,[o]){let c=n;n=f(a),n===c?s[n].p(a,o):(ze(),z(s[c],1,1,()=>{s[c]=null}),Ie(),l=s[n],l?l.p(a,o):(l=s[n]=i[n](a),l.c()),V(l,1),l.m(t,null))},i(a){r||(V(l),r=!0)},o(a){z(l),r=!1},d(a){a&&L(t),s[n].d()}}}function er(e,t,n){let{variables:l=[]}=t,{horizontal:r=!1}=t,{decNum:i=void 0}=t;const s=f=>{const a=Math.log10(le(dl(f).map(o=>Math.abs(o))));return Math.abs(a<0?Math.floor(a):Math.ceil(a))};return e.$$set=f=>{"variables"in f&&n(0,l=f.variables),"horizontal"in f&&n(1,r=f.horizontal),"decNum"in f&&n(2,i=f.decNum)},e.$$.update=()=>{e.$$.dirty&5&&i===void 0&&l.map(f=>s(f.values))},[l,r,i]}class tr extends te{constructor(t){super(),ee(this,t,er,$l,J,{variables:0,horizontal:1,decNum:2})}}const fi="";function nr(e){let t,n,l;return n=new tr({props:{variables:[{label:"#",values:e[0].num.concat([NaN])},{label:"x",values:e[1].concat([NaN])},{label:"y",values:e[2].concat([NaN])},{label:"y<sub>cv</sub>",values:e[3].concat([NaN])},{label:"e",values:e[5].concat([NaN])},{label:"e<sup>2</sup>",values:e[6].concat(Pe(e[6]))}],decNum:[0,2,1,1,1,2],horizontal:!1}}),{c(){t=q("div"),B(n.$$.fragment),d(t,"class","table-container svelte-sj44zy")},m(r,i){S(r,t,i),Y(n,t,null),e[8](t),l=!0},p(r,[i]){const s={};i&111&&(s.variables=[{label:"#",values:r[0].num.concat([NaN])},{label:"x",values:r[1].concat([NaN])},{label:"y",values:r[2].concat([NaN])},{label:"y<sub>cv</sub>",values:r[3].concat([NaN])},{label:"e",values:r[5].concat([NaN])},{label:"e<sup>2</sup>",values:r[6].concat(Pe(r[6]))}]),n.$set(s)},i(r){l||(V(n.$$.fragment,r),l=!0)},o(r){z(n.$$.fragment,r),l=!1},d(r){r&&L(t),W(n),e[8](null)}}}function lr(e,t,n){let l,r,{segments:i}=t,{indSeg:s}=t,{x:f}=t,{y:a}=t,{ycv:o}=t,c;function u(m){Ve[m?"unshift":"push"](()=>{c=m,n(4,c)})}return e.$$set=m=>{"segments"in m&&n(0,i=m.segments),"indSeg"in m&&n(7,s=m.indSeg),"x"in m&&n(1,f=m.x),"y"in m&&n(2,a=m.y),"ycv"in m&&n(3,o=m.ycv)},e.$$.update=()=>{e.$$.dirty&12&&n(5,l=Je(a,o)),e.$$.dirty&32&&n(6,r=ut(l,l)),e.$$.dirty&144&&c&&c.querySelectorAll("table > tr").forEach(m=>{m.classList.remove("selected");const h=m.querySelector(".datatable__value");h&&h.innerHTML===(s+1).toString()&&m.classList.add("selected")})},[i,f,a,o,c,l,r,s,u]}class rr extends te{constructor(t){super(),ee(this,t,lr,nr,J,{segments:0,indSeg:7,x:1,y:2,ycv:3})}}const De=[];function qe(e,t=Q){let n;const l=new Set;function r(f){if(J(e,f)&&(e=f,n)){const a=!De.length;for(const o of l)o[1](),De.push(o,e);if(a){for(let o=0;o<De.length;o+=2)De[o][0](De[o+1]);De.length=0}}}function i(f){r(f(e))}function s(f,a=Q){const o=[f,a];return l.add(o),l.size===1&&(n=t(r)||Q),f(e),()=>{l.delete(o),l.size===0&&(n(),n=null)}}return{set:r,update:i,subscribe:s}}const ui="",ir=e=>({}),_n=e=>({}),sr=e=>({}),gn=e=>({}),or=e=>({}),bn=e=>({});function pn(e){let t;return{c(){t=q("div"),d(t,"class","axes__title")},m(n,l){S(n,t,l),t.innerHTML=e[0]},p(n,l){l[0]&1&&(t.innerHTML=n[0])},d(n){n&&L(t)}}}function yn(e){let t,n;return{c(){t=q("div"),n=q("span"),d(t,"class","axes__ylabel")},m(l,r){S(l,t,r),R(t,n),n.innerHTML=e[2]},p(l,r){r[0]&4&&(n.innerHTML=l[2])},d(l){l&&L(t)}}}function vn(e){let t,n;return{c(){t=q("div"),n=q("span"),d(t,"class","axes__xlabel")},m(l,r){S(l,t,r),R(t,n),n.innerHTML=e[1]},p(l,r){r[0]&2&&(n.innerHTML=l[1])},d(l){l&&L(t)}}}function wn(e){let t;return{c(){t=q("p"),t.innerHTML=`Axes component was not properly initialized. <br/>
      Add plot series (check that coordinates are numeric) or define axes limits manually.`,d(t,"class","message_error")},m(n,l){S(n,t,l)},d(n){n&&L(t)}}}function ar(e){let t,n,l,r,i,s,f,a,o,c,u,m,h,_,w,g,b,D,j,E=e[0]!==""&&pn(e),P=e[2]!==""&&yn(e),p=e[1]!==""&&vn(e);const A=e[27].xaxis,k=be(A,e,e[26],bn),x=e[27].yaxis,M=be(x,e,e[26],gn),T=e[27].default,C=be(T,e,e[26],null),N=e[27].box,G=be(N,e,e[26],_n);let K=!e[3]&&wn();return{c(){t=q("div"),E&&E.c(),n=O(),P&&P.c(),l=O(),p&&p.c(),r=O(),i=q("div"),s=Z("svg"),f=Z("defs"),a=Z("clipPath"),o=Z("rect"),k&&k.c(),M&&M.c(),_=Z("g"),C&&C.c(),G&&G.c(),w=O(),K&&K.c(),Lt(o,"pointer-events","none"),d(o,"x",c=e[8][0]),d(o,"y",u=e[7][1]),d(o,"width",m=e[8][1]-e[8][0]),d(o,"height",h=e[7][0]-e[7][1]),d(a,"id",e[9]),d(_,"class","axes-content"),d(_,"clip-path","url(#"+e[9]+")"),d(s,"preserveAspectRatio","none"),d(s,"class","axes"),d(i,"class","axes-wrapper svelte-1ukmxl7"),d(t,"class",g="plot "+("plot_"+e[4])+" svelte-1ukmxl7"),we(t,"plot_error",!e[3])},m(y,U){S(y,t,U),E&&E.m(t,null),R(t,n),P&&P.m(t,null),R(t,l),p&&p.m(t,null),R(t,r),R(t,i),R(i,s),R(s,f),R(f,a),R(a,o),k&&k.m(s,null),M&&M.m(s,null),R(s,_),C&&C.m(_,null),G&&G.m(s,null),R(i,w),K&&K.m(i,null),e[28](i),e[29](t),b=!0,D||(j=[Ee(s,"click",e[16]),Ee(s,"keydown",e[16])],D=!0)},p(y,U){y[0]!==""?E?E.p(y,U):(E=pn(y),E.c(),E.m(t,n)):E&&(E.d(1),E=null),y[2]!==""?P?P.p(y,U):(P=yn(y),P.c(),P.m(t,l)):P&&(P.d(1),P=null),y[1]!==""?p?p.p(y,U):(p=vn(y),p.c(),p.m(t,r)):p&&(p.d(1),p=null),(!b||U[0]&256&&c!==(c=y[8][0]))&&d(o,"x",c),(!b||U[0]&128&&u!==(u=y[7][1]))&&d(o,"y",u),(!b||U[0]&256&&m!==(m=y[8][1]-y[8][0]))&&d(o,"width",m),(!b||U[0]&128&&h!==(h=y[7][0]-y[7][1]))&&d(o,"height",h),k&&k.p&&(!b||U[0]&67108864)&&ye(k,A,y,y[26],b?pe(A,y[26],U,or):ve(y[26]),bn),M&&M.p&&(!b||U[0]&67108864)&&ye(M,x,y,y[26],b?pe(x,y[26],U,sr):ve(y[26]),gn),C&&C.p&&(!b||U[0]&67108864)&&ye(C,T,y,y[26],b?pe(T,y[26],U,null):ve(y[26]),null),G&&G.p&&(!b||U[0]&67108864)&&ye(G,N,y,y[26],b?pe(N,y[26],U,ir):ve(y[26]),_n),y[3]?K&&(K.d(1),K=null):K||(K=wn(),K.c(),K.m(i,null)),(!b||U[0]&16&&g!==(g="plot "+("plot_"+y[4])+" svelte-1ukmxl7"))&&d(t,"class",g),(!b||U[0]&24)&&we(t,"plot_error",!y[3])},i(y){b||(V(k,y),V(M,y),V(C,y),V(G,y),b=!0)},o(y){z(k,y),z(M,y),z(C,y),z(G,y),b=!1},d(y){y&&L(t),E&&E.d(),P&&P.d(),p&&p.d(),k&&k.d(y),M&&M.d(y),C&&C.d(y),G&&G.d(y),K&&K.d(),e[28](null),e[29](null),D=!1,Ne(j)}}}function kn(e,t){const n=Math.floor(Math.log10(e)),l=e/Math.pow(10,n);let r;return t?l<1.5?r=1:l<3?r=2:l<7?r=5:r=10:l<=1?r=1:l<=2?r=2:l<=5?r=5:r=10,r*Math.pow(10,n)}function fr(e,t){return t<300.2||e<300.2?"small":t<600.2||e<600.2?"medium":"large"}function ur(e,t,n){let l,r,i,s,f,a,o,c,u,{$$slots:m={},$$scope:h}=t,{limX:_=[void 0,void 0]}=t,{limY:w=[void 0,void 0]}=t,{title:g=""}=t,{xLabel:b=""}=t,{yLabel:D=""}=t,{multiSeries:j=!0}=t;const E=nl(),P={small:30,medium:40,large:50},p={small:5,medium:8,large:12},A={small:10,medium:15,large:20},k={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"]},x="plottingArea"+Math.round(Math.random()*1e4);let M,T,C=[.034,.034,.034,.034];const N=qe(100);H(e,N,v=>n(24,o=v));const G=qe(100);H(e,G,v=>n(22,s=v));const K=qe([void 0,void 0]);H(e,K,v=>n(25,c=v));const y=qe([void 0,void 0]);H(e,y,v=>n(23,f=v));const U=qe("medium");H(e,U,v=>n(4,u=v));const tt=qe(!1);H(e,tt,v=>n(3,a=v));const Ur=function(){n(20,C[0]=1,C),n(20,C[2]=.5,C),n(20,C[1]=C[1]>.5?C[1]:.5,C),n(20,C[3]=C[3]>.5?C[3]:.5,C)},Qr=function(){n(20,C[1]=1,C),n(20,C[3]=.5,C),n(20,C[0]=C[0]>.5?C[0]:.5,C),n(20,C[2]=C[2]>.5?C[2]:.5,C)},Zr=function(v){!_.some(I=>I===void 0)||K.update(I=>Wn(I,v))},Jr=function(v){!w.some(I=>I===void 0)||y.update(I=>Wn(I,v))},Wn=function(v,I){let F=[v[0]!==void 0&&j===!0&&v[0]<I[0]?v[0]:I[0],v[1]!==void 0&&j===!0&&v[1]>I[1]?v[1]:I[1]];return F[0]===0&&F[1]===0&&(F=[-.1,.1]),F[0]===F[1]&&(F=[F[0]*.95,F[0]*1.05]),F},nt=function(v){return Math.round(v*10)/10},Gn=function(v,I,F,_e=!1){if(!(!a||v===void 0||!Array.isArray(v)))return _e?v.map(ge=>nt(ge/(I[1]-I[0])*(F-l[1]-l[3]))):v.map(ge=>nt((ge-I[0])/(I[1]-I[0])*(F-l[1]-l[3])+l[1]))},On=function(v,I,F,_e=!1){if(!(!a||v===void 0||!Array.isArray(v)))return _e?v.map(ge=>nt(ge/(I[1]-I[0])*(F-l[0]-l[2]))):v.map(ge=>nt((I[1]-ge)/(I[1]-I[0])*(F-l[0]-l[2])+l[2]))};ll("axes",{addXAxisMargins:Ur,addYAxisMargins:Qr,adjustXAxisLimits:Zr,adjustYAxisLimits:Jr,getAxisTicks:function(v,I,F,_e=!0){if(v!==void 0)return v;if(!Array.isArray(I)||I[0]===void 0||I[1]===void 0)return;const ge=kn(I[1]-I[0],_e),Se=kn(ge/(F-1),_e),Un=Math.ceil(I[0]/Se)*Se,ti=Math.floor(I[1]/Se)*Se;if(F=Math.round((ti-Un+1)/Se)+1,v=[...Array(F)].map((He,pt)=>Un+pt*Se),Math.abs(Se)<1){const He=Math.pow(10,1+Math.round(-Math.log10(Se)));v=v.map(pt=>Math.round((pt+Number.EPSILON)*He)/He)}return v.filter(He=>He>=I[0]&He<=I[1])},scaleX:Gn,scaleY:On,isOk:tt,scale:U,width:N,height:G,xLim:K,yLim:y,LINE_STYLES:k,LABELS_MARGIN:A,TICK_NUM:p});function Bn(v,I){E(v,{seriesTitle:I.parentNode.getAttribute("title"),elementID:I.dataset.id})}function Xr(v){if(v.target.tagName==="text"&&v.target.parentNode.classList.contains("series_scatter")){Bn("markerclick",v.target);return}if(v.target.tagName==="rect"&&v.target.parentNode.classList.contains("series_bar")){Bn("barclick",v.target);return}E("axesclick")}const Fn=new ResizeObserver(v=>{for(let I of v){const F=T.getBoundingClientRect();N.update(_e=>F.width),G.update(_e=>F.height)}}),Kn=new ResizeObserver(v=>{for(let I of v){const F=M.getBoundingClientRect();U.update(_e=>fr(F.width,F.height))}});el(()=>{Kn.observe(M),Fn.observe(T)}),tl(()=>{Kn.unobserve(M),Fn.unobserve(T)});function $r(v){Ve[v?"unshift":"push"](()=>{T=v,n(6,T)})}function ei(v){Ve[v?"unshift":"push"](()=>{M=v,n(5,M)})}return e.$$set=v=>{"limX"in v&&n(17,_=v.limX),"limY"in v&&n(18,w=v.limY),"title"in v&&n(0,g=v.title),"xLabel"in v&&n(1,b=v.xLabel),"yLabel"in v&&n(2,D=v.yLabel),"multiSeries"in v&&n(19,j=v.multiSeries),"$$scope"in v&&n(26,h=v.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&131072&&(_.some(v=>v===void 0)||K.update(v=>_)),e.$$.dirty[0]&262144&&(w.some(v=>v===void 0)||y.update(v=>w)),e.$$.dirty[0]&1048592&&n(21,l=C.map(v=>v*P[u])),e.$$.dirty[0]&65011712&&tt.update(v=>Array.isArray(f)&&Array.isArray(c)&&c.length===2&&f.length===2&&!f.some(I=>I===void 0)&&!c.some(I=>I===void 0)&&!f.some(I=>isNaN(I))&&!c.some(I=>isNaN(I))&&c[1]!==c[0]&&f[1]!==f[0]&&o>l[1]+l[3]&&s>l[0]+l[2]),e.$$.dirty[0]&50331656&&n(8,r=a?Gn(c,c,o):[0,1]),e.$$.dirty[0]&12582920&&n(7,i=a?On(f,f,s):[1,0])},[g,b,D,a,u,M,T,i,r,x,N,G,K,y,U,tt,Xr,_,w,j,C,l,s,f,o,c,h,m,$r,ei]}class cr extends te{constructor(t){super(),ee(this,t,ur,ar,J,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,multiSeries:19},null,[-1,-1])}}const Le={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",PRIMARY:"#2266ff",PRIMARY_TEXT:"#333"};function An(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function Mn(e){let t,n,l,r,i,s,f=e[4],a=[];for(let o=0;o<f.length;o+=1)a[o]=Ln(An(e,f,o));return{c(){t=Z("g");for(let o=0;o<a.length;o+=1)a[o].c();n=Z("line"),d(n,"x1",l=e[5][0]),d(n,"x2",r=e[5][1]),d(n,"y1",i=e[2][0]),d(n,"y2",s=e[2][0]),d(n,"style",e[7]),d(t,"class","mdaplot__axis mdaplot__xaxis")},m(o,c){S(o,t,c);for(let u=0;u<a.length;u+=1)a[u].m(t,null);R(t,n)},p(o,c){if(c&415){f=o[4];let u;for(u=0;u<f.length;u+=1){const m=An(o,f,u);a[u]?a[u].p(m,c):(a[u]=Ln(m),a[u].c(),a[u].m(t,n))}for(;u<a.length;u+=1)a[u].d(1);a.length=f.length}c&32&&l!==(l=o[5][0])&&d(n,"x1",l),c&32&&r!==(r=o[5][1])&&d(n,"x2",r),c&4&&i!==(i=o[2][0])&&d(n,"y1",i),c&4&&s!==(s=o[2][0])&&d(n,"y2",s)},d(o){o&&L(t),ue(a,o)}}}function Ln(e){let t,n,l,r,i,s,f,a,o,c,u,m=e[0][e[28]]+"",h,_,w;return{c(){t=Z("line"),s=Z("line"),u=Z("text"),h=de(m),d(t,"x1",n=e[26]),d(t,"x2",l=e[26]),d(t,"y1",r=e[2][0]),d(t,"y2",i=e[2][1]),d(t,"style",e[8]),d(s,"x1",f=e[26]),d(s,"x2",a=e[26]),d(s,"y1",o=e[3][0]),d(s,"y2",c=e[3][1]),d(s,"style",e[7]),d(u,"x",_=e[26]),d(u,"y",w=e[3][1]),d(u,"dx","0"),d(u,"dy",e[1]),d(u,"class","mdaplot__axis-labels"),d(u,"dominant-baseline","middle"),d(u,"text-anchor","middle")},m(g,b){S(g,t,b),S(g,s,b),S(g,u,b),R(u,h)},p(g,b){b&16&&n!==(n=g[26])&&d(t,"x1",n),b&16&&l!==(l=g[26])&&d(t,"x2",l),b&4&&r!==(r=g[2][0])&&d(t,"y1",r),b&4&&i!==(i=g[2][1])&&d(t,"y2",i),b&16&&f!==(f=g[26])&&d(s,"x1",f),b&16&&a!==(a=g[26])&&d(s,"x2",a),b&8&&o!==(o=g[3][0])&&d(s,"y1",o),b&8&&c!==(c=g[3][1])&&d(s,"y2",c),b&1&&m!==(m=g[0][g[28]]+"")&&Ce(h,m),b&16&&_!==(_=g[26])&&d(u,"x",_),b&8&&w!==(w=g[3][1])&&d(u,"y",w),b&2&&d(u,"dy",g[1])},d(g){g&&L(t),g&&L(s),g&&L(u)}}}function mr(e){let t,n=e[6]&&e[5]!==void 0&&e[2]!==void 0&&Mn(e);return{c(){n&&n.c(),t=se()},m(l,r){n&&n.m(l,r),S(l,t,r)},p(l,[r]){l[6]&&l[5]!==void 0&&l[2]!==void 0?n?n.p(l,r):(n=Mn(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Q,o:Q,d(l){n&&n.d(l),l&&L(t)}}}function dr(e,t,n){let l,r,i,s,f,a,o,c,u,m,h,_,{slot:w="xaxis"}=t,{ticks:g=void 0}=t,{tickLabels:b=g}=t,{showGrid:D=!1}=t;const j=g===void 0?"auto":"manual";if(w!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;if(g!==void 0&&!Array.isArray(g))throw"XAxis: 'ticks' must be a vector of numbers.";if(g!==void 0&&!(Array.isArray(b)&&b.length==g.length))throw"XAxis: 'tickLabels' must be a vector of the same size as ticks.";const E=`stroke:${Le.DARKGRAY};line-width:1px;`,P=`stroke:${Le.MIDDLEGRAY};stroke-opacity:${D?1:0};stroke-dasharray:2px;`,p=je("axes");p.addXAxisMargins();const A=p.xLim;H(e,A,N=>n(20,c=N));const k=p.yLim;H(e,k,N=>n(23,h=N));const x=p.width;H(e,x,N=>n(19,o=N));const M=p.height;H(e,M,N=>n(22,m=N));const T=p.scale;H(e,T,N=>n(21,u=N));const C=p.isOk;return H(e,C,N=>n(6,_=N)),e.$$set=N=>{"slot"in N&&n(16,w=N.slot),"ticks"in N&&n(15,g=N.ticks),"tickLabels"in N&&n(0,b=N.tickLabels),"showGrid"in N&&n(17,D=N.showGrid)},e.$$.update=()=>{e.$$.dirty&1572864&&n(5,l=p.scaleX(c,c,o)),e.$$.dirty&12582912&&n(2,r=p.scaleY(h,h,m)),e.$$.dirty&2097152&&n(1,i=u==="small"?7:10),e.$$.dirty&2097152&&n(18,s=p.TICK_NUM[u]),e.$$.dirty&1343488&&n(15,g=j==="auto"?p.getAxisTicks(void 0,c,s,!0):g),e.$$.dirty&32769&&n(0,b=j==="auto"?g:b),e.$$.dirty&1605632&&n(4,f=p.scaleX(g,c,o)),e.$$.dirty&6&&n(3,a=r===void 0?void 0:[r[0],r[0]+i])},[b,i,r,a,f,l,_,E,P,A,k,x,M,T,C,g,w,D,s,o,c,u,m,h]}class hr extends te{constructor(t){super(),ee(this,t,dr,mr,J,{slot:16,ticks:15,tickLabels:0,showGrid:17})}}function Sn(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function Nn(e){let t,n,l,r,i,s,f=e[4],a=[];for(let o=0;o<f.length;o+=1)a[o]=En(Sn(e,f,o));return{c(){t=Z("g");for(let o=0;o<a.length;o+=1)a[o].c();n=Z("line"),d(n,"x1",l=e[1][0]),d(n,"x2",r=e[1][0]),d(n,"y1",i=e[5][0]),d(n,"y2",s=e[5][1]),d(n,"style",e[7]),d(t,"class","mdaplot__axis mdaplot__yaxis")},m(o,c){S(o,t,c);for(let u=0;u<a.length;u+=1)a[u].m(t,null);R(t,n)},p(o,c){if(c&479){f=o[4];let u;for(u=0;u<f.length;u+=1){const m=Sn(o,f,u);a[u]?a[u].p(m,c):(a[u]=En(m),a[u].c(),a[u].m(t,n))}for(;u<a.length;u+=1)a[u].d(1);a.length=f.length}c&2&&l!==(l=o[1][0])&&d(n,"x1",l),c&2&&r!==(r=o[1][0])&&d(n,"x2",r),c&32&&i!==(i=o[5][0])&&d(n,"y1",i),c&32&&s!==(s=o[5][1])&&d(n,"y2",s)},d(o){o&&L(t),ue(a,o)}}}function En(e){let t,n,l,r,i,s,f,a,o,c,u,m=e[0][e[28]]+"",h,_,w;return{c(){t=Z("line"),s=Z("line"),u=Z("text"),h=de(m),d(t,"x1",n=e[1][0]),d(t,"x2",l=e[1][1]),d(t,"y1",r=e[26]),d(t,"y2",i=e[26]),d(t,"style",e[8]),d(s,"x1",f=e[3][0]),d(s,"x2",a=e[3][1]),d(s,"y1",o=e[26]),d(s,"y2",c=e[26]),d(s,"style",e[7]),d(u,"x",_=e[3][0]),d(u,"y",w=e[26]),d(u,"dx",e[2]),d(u,"dy",0),d(u,"transform",e[6]),Lt(u,"background","red"),d(u,"class","mdaplot__axis-labels"),d(u,"dominant-baseline","middle"),d(u,"text-anchor","end")},m(g,b){S(g,t,b),S(g,s,b),S(g,u,b),R(u,h)},p(g,b){b&2&&n!==(n=g[1][0])&&d(t,"x1",n),b&2&&l!==(l=g[1][1])&&d(t,"x2",l),b&16&&r!==(r=g[26])&&d(t,"y1",r),b&16&&i!==(i=g[26])&&d(t,"y2",i),b&8&&f!==(f=g[3][0])&&d(s,"x1",f),b&8&&a!==(a=g[3][1])&&d(s,"x2",a),b&16&&o!==(o=g[26])&&d(s,"y1",o),b&16&&c!==(c=g[26])&&d(s,"y2",c),b&1&&m!==(m=g[0][g[28]]+"")&&Ce(h,m),b&8&&_!==(_=g[3][0])&&d(u,"x",_),b&16&&w!==(w=g[26])&&d(u,"y",w),b&4&&d(u,"dx",g[2])},d(g){g&&L(t),g&&L(s),g&&L(u)}}}function _r(e){let t,n=e[1]!==void 0&&e[5]!==void 0&&Nn(e);return{c(){n&&n.c(),t=se()},m(l,r){n&&n.m(l,r),S(l,t,r)},p(l,[r]){l[1]!==void 0&&l[5]!==void 0?n?n.p(l,r):(n=Nn(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Q,o:Q,d(l){n&&n.d(l),l&&L(t)}}}function gr(e,t,n){let l,r,i,s,f,a,o,c,u,m,h,{slot:_="yaxis"}=t,{ticks:w=void 0}=t,{tickLabels:g=w}=t,{showGrid:b=!1}=t,{las:D=1}=t;const j=w===void 0?"auto":"manual",E=(D>1,"");if(_!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;if(w!==void 0&&!Array.isArray(w))throw"YAxis: 'ticks' must be a vector of numbers.";if(w!==void 0&&!(Array.isArray(g)&&g.length==w.length))throw"YAxis: 'tickLabels' must be a vector of the same size as ticks.";const P=`stroke:${Le.DARKGRAY};line-width:1px;`,p=`stroke:${Le.MIDDLEGRAY};stroke-opacity:${b?1:0};stroke-dasharray:2px;`,A=je("axes");A.addYAxisMargins();const k=A.xLim;H(e,k,N=>n(23,h=N));const x=A.yLim;H(e,x,N=>n(20,c=N));const M=A.width;H(e,M,N=>n(22,m=N));const T=A.height;H(e,T,N=>n(19,o=N));const C=A.scale;return H(e,C,N=>n(21,u=N)),e.$$set=N=>{"slot"in N&&n(15,_=N.slot),"ticks"in N&&n(14,w=N.ticks),"tickLabels"in N&&n(0,g=N.tickLabels),"showGrid"in N&&n(16,b=N.showGrid),"las"in N&&n(17,D=N.las)},e.$$.update=()=>{e.$$.dirty&12582912&&n(1,l=A.scaleX(h,h,m)),e.$$.dirty&1572864&&n(5,r=A.scaleY(c,c,o)),e.$$.dirty&2097152&&n(2,i=u==="small"?-4:-6),e.$$.dirty&2097152&&n(18,s=A.TICK_NUM[u]),e.$$.dirty&1327104&&n(14,w=j==="auto"?A.getAxisTicks(void 0,c,s,!0):w),e.$$.dirty&16385&&n(0,g=j==="auto"?w:g),e.$$.dirty&1589248&&n(4,f=A.scaleY(w,c,o)),e.$$.dirty&6&&n(3,a=l===void 0?void 0:[l[0]+i,l[0]])},[g,l,i,a,f,r,E,P,p,k,x,M,T,C,w,_,b,D,s,o,c,u,m,h]}class br extends te{constructor(t){super(),ee(this,t,gr,_r,J,{slot:15,ticks:14,tickLabels:0,showGrid:16,las:17})}}const ci="";function Cn(e,t,n){const l=e.slice();return l[29]=t[n],l[31]=n,l}function Vn(e,t,n){const l=e.slice();return l[29]=t[n],l[31]=n,l}function Tn(e){let t,n;function l(s,f){return s[0]===0?yr:pr}let r=l(e),i=r(e);return{c(){t=Z("g"),i.c(),d(t,"class",n="series "+e[1]),d(t,"title",e[2]),d(t,"style",e[3])},m(s,f){S(s,t,f),i.m(t,null)},p(s,f){r===(r=l(s))&&i?i.p(s,f):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null))),f[0]&2&&n!==(n="series "+s[1])&&d(t,"class",n),f[0]&4&&d(t,"title",s[2]),f[0]&8&&d(t,"style",s[3])},d(s){s&&L(t),i.d()}}}function pr(e){let t,n=e[8],l=[];for(let r=0;r<n.length;r+=1)l[r]=zn(Cn(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=se()},m(r,i){for(let s=0;s<l.length;s+=1)l[s].m(r,i);S(r,t,i)},p(r,i){if(i[0]&1008){n=r[8];let s;for(s=0;s<n.length;s+=1){const f=Cn(r,n,s);l[s]?l[s].p(f,i):(l[s]=zn(f),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(r){ue(l,r),r&&L(t)}}}function yr(e){let t,n=e[8],l=[];for(let r=0;r<n.length;r+=1)l[r]=In(Vn(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=se()},m(r,i){for(let s=0;s<l.length;s+=1)l[s].m(r,i);S(r,t,i)},p(r,i){if(i[0]&896){n=r[8];let s;for(s=0;s<n.length;s+=1){const f=Vn(r,n,s);l[s]?l[s].p(f,i):(l[s]=In(f),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(r){ue(l,r),r&&L(t)}}}function zn(e){let t,n=e[9][e[31]]+"",l,r,i,s,f;return{c(){t=Z("text"),d(t,"data-id",e[31]),d(t,"x",l=e[8][e[31]]),d(t,"y",r=e[7][e[31]]),d(t,"dx",i=e[6][e[31]]),d(t,"dy",s=e[5][e[31]]),d(t,"text-anchor",f=e[4][e[31]]),d(t,"class","svelte-131ks7u")},m(a,o){S(a,t,o),t.innerHTML=n},p(a,o){o[0]&512&&n!==(n=a[9][a[31]]+"")&&(t.innerHTML=n),o[0]&256&&l!==(l=a[8][a[31]])&&d(t,"x",l),o[0]&128&&r!==(r=a[7][a[31]])&&d(t,"y",r),o[0]&64&&i!==(i=a[6][a[31]])&&d(t,"dx",i),o[0]&32&&s!==(s=a[5][a[31]])&&d(t,"dy",s),o[0]&16&&f!==(f=a[4][a[31]])&&d(t,"text-anchor",f)},d(a){a&&L(t)}}}function In(e){let t,n=e[9][e[31]]+"",l,r;return{c(){t=Z("text"),d(t,"data-id",e[31]),d(t,"x",l=e[8][e[31]]),d(t,"y",r=e[7][e[31]]),d(t,"class","svelte-131ks7u")},m(i,s){S(i,t,s),t.innerHTML=n},p(i,s){s[0]&512&&n!==(n=i[9][i[31]]+"")&&(t.innerHTML=n),s[0]&256&&l!==(l=i[8][i[31]])&&d(t,"x",l),s[0]&128&&r!==(r=i[7][i[31]])&&d(t,"y",r)},d(i){i&&L(t)}}}function vr(e){let t,n=e[8]!==void 0&&e[7]!==void 0&&Tn(e);return{c(){n&&n.c(),t=se()},m(l,r){n&&n.m(l,r),S(l,t,r)},p(l,r){l[8]!==void 0&&l[7]!==void 0?n?n.p(l,r):(n=Tn(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Q,o:Q,d(l){n&&n.d(l),l&&L(t)}}}function jn(e,t,n){if(!Array.isArray(e))return Array(t).fill(e);if(e.length!==t)throw`TextLabels: parameter ${n} must be a single number or a vector of the same size as 'x' and 'y'.`;return e}function wr(e,t,n){let l,r,i,s,f,a,o,c,u,m,h,_,w,{xValues:g}=t,{yValues:b}=t,{labels:D}=t,{pos:j=0}=t,{faceColor:E=Le.PRIMARY_TEXT}=t,{borderColor:P="transparent"}=t,{borderWidth:p=0}=t,{textSize:A=1}=t,{style:k=""}=t,{title:x="series_text"}=t;if(!Array.isArray(g)||!Array.isArray(b)||g.length!==b.length)throw"TextLabels: parameters 'xValues' and 'yValues' must be vectors of the same length.";const M=je("axes"),T=M.xLim;H(e,T,y=>n(27,w=y));const C=M.yLim;H(e,C,y=>n(25,h=y));const N=M.width;H(e,N,y=>n(26,_=y));const G=M.height;H(e,G,y=>n(24,m=y));const K=M.scale;return H(e,K,y=>n(23,u=y)),e.$$set=y=>{"xValues"in y&&n(15,g=y.xValues),"yValues"in y&&n(16,b=y.yValues),"labels"in y&&n(17,D=y.labels),"pos"in y&&n(0,j=y.pos),"faceColor"in y&&n(18,E=y.faceColor),"borderColor"in y&&n(19,P=y.borderColor),"borderWidth"in y&&n(20,p=y.borderWidth),"textSize"in y&&n(21,A=y.textSize),"style"in y&&n(1,k=y.style),"title"in y&&n(2,x=y.title)},e.$$.update=()=>{e.$$.dirty[0]&163840&&n(9,l=jn(D,g.length)),e.$$.dirty[0]&32769&&n(22,r=j===0?j:jn(j,g.length)),e.$$.dirty[0]&201359360&&n(8,i=M.scaleX(g,w,_)),e.$$.dirty[0]&50397184&&n(7,s=M.scaleY(b,h,m)),e.$$.dirty[0]&12582913&&n(6,f=j===0?0:oe(ut([0,1,0,-1],M.LABELS_MARGIN[u]),r)),e.$$.dirty[0]&12582913&&n(5,a=j===0?0:oe(ut([1,0,-1,0],M.LABELS_MARGIN[u]),r)),e.$$.dirty[0]&4194305&&n(4,o=j===0?"middle":oe(["middle","start","middle","end"],r)),e.$$.dirty[0]&3932160&&n(3,c=`dominant-baseline:middle;fill:${E};stroke-width:${p}px;stroke:${P};
      font-size:${A}em; text-anchor:middle;`)},[j,k,x,c,o,a,f,s,i,l,T,C,N,G,K,g,b,D,E,P,p,A,r,u,m,h,_,w]}class kr extends te{constructor(t){super(),ee(this,t,wr,vr,J,{xValues:15,yValues:16,labels:17,pos:0,faceColor:18,borderColor:19,borderWidth:20,textSize:21,style:1,title:2},null,[-1,-1])}}function Pn(e,t,n){const l=e.slice();return l[22]=t[n],l[24]=n,l}function Rn(e){let t,n=e[2],l=[];for(let r=0;r<n.length;r+=1)l[r]=Dn(Pn(e,n,r));return{c(){t=Z("text");for(let r=0;r<l.length;r+=1)l[r].c();d(t,"style",e[3]),d(t,"x",e[5]),d(t,"y",e[4]),d(t,"dx",e[0]),d(t,"dy",e[1]),d(t,"dominant-baseline","middle"),d(t,"text-anchor","start")},m(r,i){S(r,t,i);for(let s=0;s<l.length;s+=1)l[s].m(t,null)},p(r,i){if(i&39){n=r[2];let s;for(s=0;s<n.length;s+=1){const f=Pn(r,n,s);l[s]?l[s].p(f,i):(l[s]=Dn(f),l[s].c(),l[s].m(t,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}i&8&&d(t,"style",r[3]),i&32&&d(t,"x",r[5]),i&16&&d(t,"y",r[4]),i&1&&d(t,"dx",r[0]),i&2&&d(t,"dy",r[1])},d(r){r&&L(t),ue(l,r)}}}function Dn(e){let t,n=e[22]+"",l;return{c(){t=Z("tspan"),d(t,"x",e[5]),d(t,"dx",e[0]),d(t,"dy",l=e[24]===0?0:e[1])},m(r,i){S(r,t,i),t.innerHTML=n},p(r,i){i&4&&n!==(n=r[22]+"")&&(t.innerHTML=n),i&32&&d(t,"x",r[5]),i&1&&d(t,"dx",r[0]),i&2&&l!==(l=r[24]===0?0:r[1])&&d(t,"dy",l)},d(r){r&&L(t)}}}function Ar(e){let t,n=e[5]!==void 0&&e[4]!==void 0&&e[2].length>0&&Rn(e);return{c(){n&&n.c(),t=se()},m(l,r){n&&n.m(l,r),S(l,t,r)},p(l,[r]){l[5]!==void 0&&l[4]!==void 0&&l[2].length>0?n?n.p(l,r):(n=Rn(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Q,o:Q,d(l){n&&n.d(l),l&&L(t)}}}function Mr(e,t,n){let l,r,i,s,f,a,o,{left:c}=t,{top:u}=t,{dx:m="0"}=t,{dy:h="1.25em"}=t,{elements:_}=t,{faceColor:w=Le.PRIMARY_TEXT}=t,{borderColor:g="transparent"}=t,{borderWidth:b=0}=t,{textSize:D=1}=t;const j=je("axes"),E=j.xLim;H(e,E,k=>n(19,o=k));const P=j.yLim;H(e,P,k=>n(17,f=k));const p=j.width;H(e,p,k=>n(18,a=k));const A=j.height;return H(e,A,k=>n(16,s=k)),j.scale,e.$$set=k=>{"left"in k&&n(10,c=k.left),"top"in k&&n(11,u=k.top),"dx"in k&&n(0,m=k.dx),"dy"in k&&n(1,h=k.dy),"elements"in k&&n(2,_=k.elements),"faceColor"in k&&n(12,w=k.faceColor),"borderColor"in k&&n(13,g=k.borderColor),"borderWidth"in k&&n(14,b=k.borderWidth),"textSize"in k&&n(15,D=k.textSize)},e.$$.update=()=>{e.$$.dirty&787456&&n(5,l=j.scaleX([c],o,a)),e.$$.dirty&198656&&n(4,r=j.scaleY([u],f,s)),e.$$.dirty&61440&&n(3,i=`fill:${w};stroke-width:${b}px;stroke:${g};font-size:${D}em;`)},[m,h,_,i,r,l,E,P,p,A,c,u,w,g,b,D,s,f,a,o]}class ht extends te{constructor(t){super(),ee(this,t,Mr,Ar,J,{left:10,top:11,dx:0,dy:1,elements:2,faceColor:12,borderColor:13,borderWidth:14,textSize:15})}}function Lr(e){let t,n;return t=new kr({props:{xValues:e[0],yValues:e[1],faceColor:e[3],borderColor:e[4],borderWidth:e[5],title:e[2],style:"series_scatter",labels:e[7],textSize:e[6]}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p(l,[r]){const i={};r&1&&(i.xValues=l[0]),r&2&&(i.yValues=l[1]),r&8&&(i.faceColor=l[3]),r&16&&(i.borderColor=l[4]),r&32&&(i.borderWidth=l[5]),r&4&&(i.title=l[2]),r&128&&(i.labels=l[7]),r&64&&(i.textSize=l[6]),t.$set(i)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function Sr(e,t,n){let{xValues:l}=t,{yValues:r}=t,{marker:i=1}=t,{title:s=""}=t,{faceColor:f="transparent"}=t,{borderColor:a=Le.PRIMARY}=t,{borderWidth:o=1}=t,{markerSize:c=1}=t;const u=["\u25CF","\u25FC","\u25B2","\u25BC","\u2B25","+","*","\u2A2F"];let m;if(typeof i!="number"||i<1||i>u.length)throw`ScatterSeries: parameter 'marker' must be a number from 1 to ${u.length}."`;const h=je("axes");return e.$$set=_=>{"xValues"in _&&n(0,l=_.xValues),"yValues"in _&&n(1,r=_.yValues),"marker"in _&&n(8,i=_.marker),"title"in _&&n(2,s=_.title),"faceColor"in _&&n(3,f=_.faceColor),"borderColor"in _&&n(4,a=_.borderColor),"borderWidth"in _&&n(5,o=_.borderWidth),"markerSize"in _&&n(6,c=_.markerSize)},e.$$.update=()=>{if(e.$$.dirty&257){if(!Array.isArray(l))throw"ScatterSeries: parameter 'xValues' must be a numeric vector.";const _=ke(l,.05);h.adjustXAxisLimits(_),n(7,m=""),n(7,m=u[i-1])}if(e.$$.dirty&3){if(!Array.isArray(r)||l.length!=r.length)throw"BarSeries: parameter 'yValues' must be a numeric vector of the same length as 'xValues'.";const _=ke(r,.05);h.adjustYAxisLimits(_)}},[l,r,s,f,a,o,c,m,i]}class _t extends te{constructor(t){super(),ee(this,t,Sr,Lr,J,{xValues:0,yValues:1,marker:8,title:2,faceColor:3,borderColor:4,borderWidth:5,markerSize:6})}}function qn(e){let t,n;return{c(){t=Z("g"),n=Z("polyline"),d(n,"class","line"),d(n,"points",e[2]),d(t,"class","series series_line"),d(t,"style",e[1]),d(t,"title",e[0])},m(l,r){S(l,t,r),R(t,n)},p(l,r){r&4&&d(n,"points",l[2]),r&2&&d(t,"style",l[1]),r&1&&d(t,"title",l[0])},d(l){l&&L(t)}}}function Nr(e){let t,n=e[2]!==void 0&&qn(e);return{c(){n&&n.c(),t=se()},m(l,r){n&&n.m(l,r),S(l,t,r)},p(l,[r]){l[2]!==void 0?n?n.p(l,r):(n=qn(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Q,o:Q,d(l){n&&n.d(l),l&&L(t)}}}function Er(e,t,n){let l,r,i,s,f,a,o,c,u,{xValues:m}=t,{yValues:h}=t,{title:_=""}=t,{lineWidth:w=1}=t,{lineColor:g=Le.PRIMARY}=t,{lineType:b=1}=t;if(!Array.isArray(m)||!Array.isArray(h)||m.length!=h.length)throw"LineSeries: parameters 'xValues' and 'yValues' must be numeric vectors of the same length.";const D=ke(m,.05),j=ke(h,.05),E=je("axes");E.adjustXAxisLimits(D),E.adjustYAxisLimits(j);const P=E.xLim;H(e,P,M=>n(19,u=M));const p=E.yLim;H(e,p,M=>n(17,o=M));const A=E.width;H(e,A,M=>n(18,c=M));const k=E.height;H(e,k,M=>n(16,a=M));const x=E.scale;return H(e,x,M=>n(15,f=M)),e.$$set=M=>{"xValues"in M&&n(8,m=M.xValues),"yValues"in M&&n(9,h=M.yValues),"title"in M&&n(0,_=M.title),"lineWidth"in M&&n(10,w=M.lineWidth),"lineColor"in M&&n(11,g=M.lineColor),"lineType"in M&&n(12,b=M.lineType)},e.$$.update=()=>{e.$$.dirty&786688&&n(14,l=E.scaleX(m,u,c)),e.$$.dirty&197120&&n(13,r=E.scaleY(h,o,a)),e.$$.dirty&24576&&n(2,i=l!==void 0&&r!==void 0?l.map((M,T)=>`${M},${r[T]}`).join(" "):void 0),e.$$.dirty&39936&&n(1,s=`fill:transparent;stroke:${g};stroke-width: ${w}px;
      stroke-dasharray:${E.LINE_STYLES[f][b-1]}`)},[_,s,i,P,p,A,k,x,m,h,w,g,b,r,l,f,a,o,c,u]}class gt extends te{constructor(t){super(),ee(this,t,Er,Nr,J,{xValues:8,yValues:9,title:0,lineWidth:10,lineColor:11,lineType:12})}}let bt={plots:{POPULATIONS_PALE:["#33668820","#ff990020"],POPULATIONS:["#33668850","#ff990050"],SAMPLES:["#336688","#ff9900"],STAT_NAME:"#808080",STAT_VALUE:"#202020"}};function Cr(e){let t,n,l,r;return t=new _t({props:{xValues:e[4],yValues:e[3],borderWidth:1,faceColor:e[12],borderColor:e[12]}}),l=new gt({props:{xValues:e[5],yValues:e[10],lineColor:e[12]}}),{c(){B(t.$$.fragment),n=O(),B(l.$$.fragment)},m(i,s){Y(t,i,s),S(i,n,s),Y(l,i,s),r=!0},p(i,s){const f={};s&16&&(f.xValues=i[4]),s&8&&(f.yValues=i[3]),t.$set(f);const a={};s&32&&(a.xValues=i[5]),s&1024&&(a.yValues=i[10]),l.$set(a)},i(i){r||(V(t.$$.fragment,i),V(l.$$.fragment,i),r=!0)},o(i){z(t.$$.fragment,i),z(l.$$.fragment,i),r=!1},d(i){W(t,i),i&&L(n),W(l,i)}}}function Vr(e){let t,n,l,r,i,s,f,a,o,c;return t=new gt({props:{xValues:e[5],yValues:e[10],lineColor:e[13]}}),l=new _t({props:{xValues:e[4],yValues:e[3],borderWidth:1,faceColor:e[13],borderColor:e[13]}}),i=new _t({props:{xValues:e[6],yValues:e[7],borderWidth:2,markerSize:1.2,borderColor:e[14]}}),f=new gt({props:{xValues:e[5],yValues:e[9],lineColor:e[14]}}),o=new ht({props:{textSize:1.05,left:le(e[4])*.55+ie(e[4])*.45,top:le(e[3])*.8+ie(e[3])*.2,dx:"1em",dy:"1.35em",elements:e[8]}}),{c(){B(t.$$.fragment),n=O(),B(l.$$.fragment),r=O(),B(i.$$.fragment),s=O(),B(f.$$.fragment),a=O(),B(o.$$.fragment)},m(u,m){Y(t,u,m),S(u,n,m),Y(l,u,m),S(u,r,m),Y(i,u,m),S(u,s,m),Y(f,u,m),S(u,a,m),Y(o,u,m),c=!0},p(u,m){const h={};m&32&&(h.xValues=u[5]),m&1024&&(h.yValues=u[10]),t.$set(h);const _={};m&16&&(_.xValues=u[4]),m&8&&(_.yValues=u[3]),l.$set(_);const w={};m&64&&(w.xValues=u[6]),m&128&&(w.yValues=u[7]),i.$set(w);const g={};m&32&&(g.xValues=u[5]),m&512&&(g.yValues=u[9]),f.$set(g);const b={};m&16&&(b.left=le(u[4])*.55+ie(u[4])*.45),m&8&&(b.top=le(u[3])*.8+ie(u[3])*.2),m&256&&(b.elements=u[8]),o.$set(b)},i(u){c||(V(t.$$.fragment,u),V(l.$$.fragment,u),V(i.$$.fragment,u),V(f.$$.fragment,u),V(o.$$.fragment,u),c=!0)},o(u){z(t.$$.fragment,u),z(l.$$.fragment,u),z(i.$$.fragment,u),z(f.$$.fragment,u),z(o.$$.fragment,u),c=!1},d(u){W(t,u),u&&L(n),W(l,u),u&&L(r),W(i,u),u&&L(s),W(f,u),u&&L(a),W(o,u)}}}function Hn(e){let t,n;return t=new ht({props:{textSize:1.05,left:le(e[4])*.45+ie(e[4])*.55,top:le(e[3])*.8+ie(e[3])*.2,dx:"1em",dy:"1.35em",elements:e[8]}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p(l,r){const i={};r&16&&(i.left=le(l[4])*.45+ie(l[4])*.55),r&8&&(i.top=le(l[3])*.8+ie(l[3])*.2),r&256&&(i.elements=l[8]),t.$set(i)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function Tr(e){let t,n,l,r,i,s,f;t=new ht({props:{textSize:1.05,left:le(e[4]),top:ie(e[3]),dx:"1em",dy:"1.35em",elements:e[11]}});const a=[Vr,Cr],o=[];function c(m,h){return m[0]!==void 0&&m[1]>=0?0:1}l=c(e),r=o[l]=a[l](e);let u=e[2]!==void 0&&Hn(e);return{c(){B(t.$$.fragment),n=O(),r.c(),i=O(),u&&u.c(),s=se()},m(m,h){Y(t,m,h),S(m,n,h),o[l].m(m,h),S(m,i,h),u&&u.m(m,h),S(m,s,h),f=!0},p(m,h){const _={};h&16&&(_.left=le(m[4])),h&8&&(_.top=ie(m[3])),h&2048&&(_.elements=m[11]),t.$set(_);let w=l;l=c(m),l===w?o[l].p(m,h):(ze(),z(o[w],1,1,()=>{o[w]=null}),Ie(),r=o[l],r?r.p(m,h):(r=o[l]=a[l](m),r.c()),V(r,1),r.m(i.parentNode,i)),m[2]!==void 0?u?(u.p(m,h),h&4&&V(u,1)):(u=Hn(m),u.c(),V(u,1),u.m(s.parentNode,s)):u&&(ze(),z(u,1,1,()=>{u=null}),Ie())},i(m){f||(V(t.$$.fragment,m),V(r),V(u),f=!0)},o(m){z(t.$$.fragment,m),z(r),z(u),f=!1},d(m){W(t,m),m&&L(n),o[l].d(m),m&&L(i),u&&u.d(m),m&&L(s)}}}function zr(e){let t,n;return t=new hr({props:{slot:"xaxis"}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p:Q,i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function Ir(e){let t,n;return t=new br({props:{slot:"yaxis"}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p:Q,i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function jr(e){let t,n;return t=new cr({props:{limX:ke(e[4]),limY:ke(e[3]),xLabel:"x",yLabel:"y",$$slots:{yaxis:[Ir],xaxis:[zr],default:[Tr]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p(l,[r]){const i={};r&16&&(i.limX=ke(l[4])),r&8&&(i.limY=ke(l[3])),r&528383&&(i.$$scope={dirty:r,ctx:l}),t.$set(i)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}function xn(e,t,n){return[`<tspan font-weight=bold>${t}:</tspan>`,"y =  "+e.coeffs.estimate.map((l,r)=>(r>0?"+":"")+' <tspan fill="'+n+'" font-weight=bold>'+l.toFixed(2)+"</tspan>"+(r>0?"<tspan font-weight=bold>x</tspan>":"")+(r>1?'<tspan font-size="70%" baseline-shift = "super">'+r+"</tspan>":"")).join(" ")]}function Yn(e){return[`s(e) =  <tspan font-weight=bold>${e.se.toFixed(2)}</tspan>`,`R2 =  <tspan font-weight=bold>${e.R2.toFixed(3)}</tspan>`]}function Pr(e,t,n){let l,r,i,s,f,{globalModel:a}=t,{localModel:o}=t,{indSeg:c}=t,{segments:u}=t,{statCV:m}=t;const h=bt.plots.SAMPLES[0]+"70",_=bt.plots.SAMPLES[0]+"50",w=bt.plots.SAMPLES[0];let g=[],b=[],D=[],j=[];return e.$$set=E=>{"globalModel"in E&&n(15,a=E.globalModel),"localModel"in E&&n(0,o=E.localModel),"indSeg"in E&&n(1,c=E.indSeg),"segments"in E&&n(16,u=E.segments),"statCV"in E&&n(2,m=E.statCV)},e.$$.update=()=>{e.$$.dirty&32768&&n(4,l=a.data.X[0]),e.$$.dirty&32768&&n(3,r=a.data.y),e.$$.dirty&16&&n(5,i=ae(le(l),ie(l),100)),e.$$.dirty&32768&&n(11,s=xn(a,"Global model",w+"a0").concat(Yn(a.stat))),e.$$.dirty&32800&&n(10,f=dt(a,i)),e.$$.dirty&65599&&o!==void 0&&(o.data.X[0],o.data.y,n(8,D=c>=0?xn(o,"Local model",w):["<tspan font-weight=bold>CV performance:</tspan>"].concat(Yn(m))),n(9,j=dt(o,i)),n(6,g=oe(l,u.val[c])),n(7,b=oe(r,u.val[c])))},[o,c,m,r,l,i,g,b,D,j,f,s,h,_,w,a,u]}class Rr extends te{constructor(t){super(),ee(this,t,Pr,jr,J,{globalModel:15,localModel:0,indSeg:1,segments:16,statCV:2})}}const mi="";function Dr(e){let t,n,l,r,i,s,f,a;function o(h){e[13](h)}let c={disable:e[3]>-1,id:"cvType",label:"CV",options:["full","random","venetian"]};e[0]!==void 0&&(c.value=e[0]),t=new en({props:c}),Ve.push(()=>Et(t,"value",o));function u(h){e[14](h)}let m={disable:e[3]>-1,id:"pDegree",label:"Polynomial",options:Object.keys(e[8])};return e[1]!==void 0&&(m.value=e[1]),r=new en({props:m}),Ve.push(()=>Et(r,"value",u)),f=new Gl({props:{disable:e[3]>-1,id:"runCV",label:"",text:"Run"}}),f.$on("click",e[15]),{c(){B(t.$$.fragment),l=O(),B(r.$$.fragment),s=O(),B(f.$$.fragment)},m(h,_){Y(t,h,_),S(h,l,_),Y(r,h,_),S(h,s,_),Y(f,h,_),a=!0},p(h,_){const w={};_&8&&(w.disable=h[3]>-1),!n&&_&1&&(n=!0,w.value=h[0],St(()=>n=!1)),t.$set(w);const g={};_&8&&(g.disable=h[3]>-1),!i&&_&2&&(i=!0,g.value=h[1],St(()=>i=!1)),r.$set(g);const b={};_&8&&(b.disable=h[3]>-1),f.$set(b)},i(h){a||(V(t.$$.fragment,h),V(r.$$.fragment,h),V(f.$$.fragment,h),a=!0)},o(h){z(t.$$.fragment,h),z(r.$$.fragment,h),z(f.$$.fragment,h),a=!1},d(h){W(t,h),h&&L(l),W(r,h),h&&L(s),W(f,h)}}}function qr(e){let t,n,l,r,i,s,f,a,o,c;return l=new Rr({props:{segments:e[2],indSeg:e[3],statCV:e[5],localModel:e[6],globalModel:e[7]}}),s=new rr({props:{segments:e[2],indSeg:e[3],x:e[9],y:e[10],ycv:e[4]}}),o=new Dl({props:{$$slots:{default:[Dr]},$$scope:{ctx:e}}}),{c(){t=q("div"),n=q("div"),B(l.$$.fragment),r=O(),i=q("div"),B(s.$$.fragment),f=O(),a=q("div"),B(o.$$.fragment),d(n,"class","app-plot-area svelte-s1hwyg"),d(i,"class","app-table-area svelte-s1hwyg"),d(a,"class","app-controls-area svelte-s1hwyg"),d(t,"class","app-layout svelte-s1hwyg")},m(u,m){S(u,t,m),R(t,n),Y(l,n,null),R(t,r),R(t,i),Y(s,i,null),R(t,f),R(t,a),Y(o,a,null),c=!0},p(u,m){const h={};m&4&&(h.segments=u[2]),m&8&&(h.indSeg=u[3]),m&32&&(h.statCV=u[5]),m&64&&(h.localModel=u[6]),m&128&&(h.globalModel=u[7]),l.$set(h);const _={};m&4&&(_.segments=u[2]),m&8&&(_.indSeg=u[3]),m&16&&(_.ycv=u[4]),s.$set(_);const w={};m&1048587&&(w.$$scope={dirty:m,ctx:u}),o.$set(w)},i(u){c||(V(l.$$.fragment,u),V(s.$$.fragment,u),V(o.$$.fragment,u),c=!0)},o(u){z(l.$$.fragment,u),z(s.$$.fragment,u),z(o.$$.fragment,u),c=!1},d(u){u&&L(t),W(l),W(s),W(o)}}}function Hr(e){let t;return{c(){t=q("div"),t.innerHTML=`<h2>Cross-validation</h2> 
      <p>Cross-validation is a way to estimate the sampling error without taking new samples from the population. The idea is to split your original observations to several segments and then, for each segment, make a local model by taking the segment observations out of the dataset, and use the rest for training the model. After that, the local model is used to predict
         the response values of the excluded observations. The procedure is repeated for each segment, so at the end every observation will have a predicted response value (<em>y</em><sub>cv</sub>).</p> 
      <p>Splitting the observations into segments can be done in several ways. The simplest is to consider
         every observation as individual segment. In this case the number of segments is equal to the number of observations and thus on every step one observation will be taking out, while the rest will be used for training the local model. This way is called <em>leave-one-out</em> or <em>full cross-validation</em>. Alternatively you can assign two or more observations to each segment. This can be done randomly (<em>random segmented cross-validation</em>) or systematically by taking every k-th observation (<em>venetian blinds</em>).</p> 
      <p>This app shows how all three methods work for a simple dataset with 12 observations. If random or systematic split is selected, number of segments will be equal to 4. Cross-validation can help to detect overfitting, you can also test this in the app \u2014\xA0try to use overfitted model, e.g. cubic polynomial and will see that despite the calibration error is getting smaller, the cross-validation error will be larger for overcomplicated models.</p>`,d(t,"slot","help")},m(n,l){S(n,t,l)},p:Q,d(n){n&&L(t)}}}function xr(e){let t,n;return t=new jl({props:{$$slots:{help:[Hr],default:[qr]},$$scope:{ctx:e}}}),{c(){B(t.$$.fragment)},m(l,r){Y(t,l,r),n=!0},p(l,[r]){const i={};r&1048831&&(i.$$scope={dirty:r,ctx:l}),t.$set(i)},i(l){n||(V(t.$$.fragment,l),n=!0)},o(l){z(t.$$.fragment,l),n=!1},d(l){W(t,l)}}}const Yr=1e3,Wr=4,he=12,Gr=0,Or=1,Br=.5;function Fr(e,t,n){let l,r,i="random",s="line";const f={line:1,quadratic:2,cubic:3},a=Ct(he),o=hl(Ct(he,Gr,Or)),c=o.map((A,k)=>-2+2.5*A+Br*a[k]),u=A=>new Promise(k=>setTimeout(k,A));let m={},h=-1,_=fe(NaN,he),w,g;function b(A,k,x){const M=Pe(ft(Je(A,k),N=>N**2)),T=Pe(ft(Je(A,ot(A)),N=>N**2)),C=A.length-(l+1);return{R2:1-M/T,se:Math.sqrt(M/C)}}function D(A,k){n(4,_=fe(NaN,he)),n(6,g=void 0),n(5,w=void 0),n(3,h=-1);let x=ae(1,he);A==="random"&&(x=_l(x));let M=1,T=ce(ae(1,he));A!=="full"&&(M=he/k,T=ce(Ot(x,k,M)));const C=T.map(G=>x.filter(K=>!G.includes(K)));let N=fe(0,he);for(let G=0;G<T.length;G++)N=Dt(N,fe(G+1,M),T[G]);return{cal:C,val:T,num:N}}async function j(){n(4,_=fe(NaN,he)),n(5,w=void 0),n(3,h=-1);for(let A=0;A<m.val.length;A++)n(3,h=A),n(6,g=Ft(oe(o,m.cal[h]),oe(c,m.cal[h]),l)),n(4,_=Dt(_,dt(g,oe(o,m.val[h])),m.val[h])),await u(Yr);n(3,h=-1),n(5,w=b(c,_))}function E(A){i=A,n(0,i)}function P(A){s=A,n(1,s)}const p=()=>j();return e.$$.update=()=>{e.$$.dirty&2&&n(12,l=f[s]),e.$$.dirty&4096&&n(7,r=Ft(o,c,l)),e.$$.dirty&1&&n(2,m=D(i,Wr))},[i,s,m,h,_,w,g,r,f,o,c,j,l,E,P,p]}class Kr extends te{constructor(t){super(),ee(this,t,Fr,xr,J,{})}}new Kr({target:document.getElementById("graasta-app-container")})})();
//# sourceMappingURL=asta-b306.js.map
