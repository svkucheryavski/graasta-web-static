var Ql=Object.defineProperty;var Ul=(ke,F,ze)=>F in ke?Ql(ke,F,{enumerable:!0,configurable:!0,writable:!0,value:ze}):ke[F]=ze;var Qe=(ke,F,ze)=>(Ul(ke,typeof F!="symbol"?F+"":F,ze),ze);(function(){"use strict";var ke=document.createElement("style");ke.textContent=`#graasta-app-container{height:100%!important;width:100%!important}.graasta-app.svelte-zbdjkl.svelte-zbdjkl{font-family:Helvetica,Areal,Verdana,sans-serif;display:block;position:relative;font-size:1em;min-width:800px;min-height:450px;max-height:100%;max-width:100%;aspect-ratio:16/9;width:auto;height:auto;object-fit:contain;box-sizing:border-box;padding:0;margin:0 auto}.graasta-app.svelte-zbdjkl .svelte-zbdjkl{box-sizing:border-box;margin:0;padding:0}.graasta-app.svelte-zbdjkl .svelte-zbdjkl:glbal(.plot){box-shadow:0 0 5px #30303020}.graasta-app.svelte-zbdjkl .content.svelte-zbdjkl{width:100%;height:100%}.helptext.svelte-zbdjkl.svelte-zbdjkl{font-family:Open Sans,sans-serif;position:absolute;top:0;width:0;left:0;bottom:0;z-index:999;background:white;box-sizing:border-box;width:100%;height:100%;padding:1em;margin:0;line-height:1.35em;font-size:1em;color:#303030}.helptext.svelte-zbdjkl h2{padding:1.25em 0 .5em;font-size:1.2em}.helptext.svelte-zbdjkl p{padding:0 0 .5em;line-height:1.5em;font-size:1em}.app-control-block.svelte-1pi0zcj{box-sizing:border-box;width:100%;min-width:200px}.app-control-error.svelte-1pi0zcj{padding:.5em .5em .25em .65em;font-size:.75em;color:#dc143c}fieldset.svelte-1pi0zcj{background:#f4f4f4;margin:0;box-shadow:0 0 2px #30303020;border:none;padding:.5em}legend.svelte-1pi0zcj{color:#606060;float:left;width:100%;display:block;margin:0;padding:.25em 0;font-size:1em;font-weight:700}.app-control.svelte-m62yuw.svelte-m62yuw{font-size:1em;margin:.25em 0 0;padding:.15em .25em;display:flex;align-items:center;justify-content:flex-begin;position:relative}.app-control.svelte-m62yuw>label.svelte-m62yuw{height:1.5em;line-height:1.5em;flex:0 0 16ch;max-width:16ch;user-select:none;-webkit-user-select:none;cursor:default}.app-control.svelte-m62yuw>slot.svelte-m62yuw{width:100%;flex:1 1 auto}.shield.svelte-m62yuw.svelte-m62yuw{display:none}.app-control.disable.svelte-m62yuw>label.svelte-m62yuw{color:#b0b0b0}.app-control.hidden.svelte-m62yuw.svelte-m62yuw{visibility:hidden}.app-control.disable.svelte-m62yuw>.shield.svelte-m62yuw{display:block;background:#ffffff50;position:absolute;top:0;left:0;width:100%;height:100%;z-index:999}button.svelte-176r7j6{height:1.5em;font-size:1em;padding:0 1em;margin:0;color:#606060;background:#e0e0e0;box-shadow:none;border:none;border-radius:3px;white-space:nowrap;user-select:none}button.svelte-176r7j6:hover{color:#fafafa;background:#606060}input.svelte-yqpg3s{display:none}.selector.svelte-yqpg3s{position:relative;box-sizing:border-box;display:inline-block;flex:0 0 auto;background:#e0e0e0;font-size:1em;height:1.5em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yqpg3s{cursor:default;padding:0 .5em;margin:0 1px;color:#606060;transition:background-color .5s ease}.option.selected.svelte-yqpg3s{border-radius:3px;background-color:#606060;color:#fefefe}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;user-select:none}.app-layout.svelte-gedthj{width:100%;height:100%;position:relative;display:grid;grid-template-areas:"plot table" "plot controls" "plot .";grid-template-rows:60% min-content auto;grid-template-columns:auto min(400px,35%)}.app-plot-area.svelte-gedthj{grid-area:plot}.app-table-area.svelte-gedthj{grid-area:table}.app-controls-area.svelte-gedthj{padding-top:1em;padding-left:1em;grid-area:controls}
`,document.head.appendChild(ke);function F(){}function ze(n,e){for(const t in e)n[t]=e[t];return n}function At(n){return n()}function Lt(){return Object.create(null)}function Se(n){n.forEach(At)}function zt(n){return typeof n=="function"}function J(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function tr(n){return Object.keys(n).length===0}function nr(n,...e){if(n==null)return F;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function T(n,e,t){n.$$.on_destroy.push(nr(e,t))}function ve(n,e,t,r){if(n){const l=St(n,e,t,r);return n[0](l)}}function St(n,e,t,r){return n[1]&&r?ze(t.ctx.slice(),n[1](r(e))):t.ctx}function Ce(n,e,t,r){if(n[2]&&r){const l=n[2](r(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function Me(n,e,t,r,l,o){if(l){const s=St(e,t,r,o);n.p(s,l)}}function Ee(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function D(n,e){n.appendChild(e)}function A(n,e,t){n.insertBefore(e,t||null)}function E(n){n.parentNode&&n.parentNode.removeChild(n)}function be(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function H(n){return document.createElement(n)}function Q(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ne(n){return document.createTextNode(n)}function B(){return Ne(" ")}function ie(){return Ne("")}function Ve(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function d(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function rr(n){return Array.from(n.childNodes)}function Ge(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function Nt(n,e){n.value=e==null?"":e}function Vt(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function Ae(n,e,t){n.classList[t?"add":"remove"](e)}function lr(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,t,r,e),l}let We;function Fe(n){We=n}function Xe(){if(!We)throw new Error("Function called outside component initialization");return We}function or(n){Xe().$$.on_mount.push(n)}function sr(n){Xe().$$.on_destroy.push(n)}function ir(){const n=Xe();return(e,t,{cancelable:r=!1}={})=>{const l=n.$$.callbacks[e];if(l){const o=lr(e,t,{cancelable:r});return l.slice().forEach(s=>{s.call(n,o)}),!o.defaultPrevented}return!0}}function fr(n,e){return Xe().$$.context.set(n,e),e}function _e(n){return Xe().$$.context.get(n)}function ur(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const Re=[],De=[],Ue=[],st=[],ar=Promise.resolve();let it=!1;function cr(){it||(it=!0,ar.then(Yt))}function ft(n){Ue.push(n)}function hr(n){st.push(n)}const ut=new Set;let Pe=0;function Yt(){if(Pe!==0)return;const n=We;do{try{for(;Pe<Re.length;){const e=Re[Pe];Pe++,Fe(e),mr(e.$$)}}catch(e){throw Re.length=0,Pe=0,e}for(Fe(null),Re.length=0,Pe=0;De.length;)De.pop()();for(let e=0;e<Ue.length;e+=1){const t=Ue[e];ut.has(t)||(ut.add(t),t())}Ue.length=0}while(Re.length);for(;st.length;)st.pop()();it=!1,ut.clear(),Fe(n)}function mr(n){if(n.fragment!==null){n.update(),Se(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(ft)}}const Ze=new Set;let Ye;function we(){Ye={r:0,c:[],p:Ye}}function ye(){Ye.r||Se(Ye.c),Ye=Ye.p}function C(n,e){n&&n.i&&(Ze.delete(n),n.i(e))}function L(n,e,t,r){if(n&&n.o){if(Ze.has(n))return;Ze.add(n),Ye.c.push(()=>{Ze.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function dr(n,e){n.d(1),e.delete(n.key)}function gr(n,e,t,r,l,o,s,i,u,f,a,c){let h=n.length,g=o.length,_=h;const w={};for(;_--;)w[n[_].key]=_;const m=[],y=new Map,z=new Map;for(_=g;_--;){const b=c(l,o,_),I=t(b);let k=s.get(I);k?r&&k.p(b,e):(k=f(I,b),k.c()),y.set(I,m[_]=k),I in w&&z.set(I,Math.abs(_-w[I]))}const S=new Set,p=new Set;function N(b){C(b,1),b.m(i,a),s.set(b.key,b),a=b.first,g--}for(;h&&g;){const b=m[g-1],I=n[h-1],k=b.key,v=I.key;b===I?(a=b.first,h--,g--):y.has(v)?!s.has(k)||S.has(k)?N(b):p.has(v)?h--:z.get(k)>z.get(v)?(p.add(k),N(b)):(S.add(v),h--):(u(I,s),h--)}for(;h--;){const b=n[h];y.has(b.key)||u(b,s)}for(;g;)N(m[g-1]);return m}function br(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function q(n){n&&n.c()}function R(n,e,t,r){const{fragment:l,after_update:o}=n.$$;l&&l.m(e,t),r||ft(()=>{const s=n.$$.on_mount.map(At).filter(zt);n.$$.on_destroy?n.$$.on_destroy.push(...s):Se(s),n.$$.on_mount=[]}),o.forEach(ft)}function P(n,e){const t=n.$$;t.fragment!==null&&(Se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _r(n,e){n.$$.dirty[0]===-1&&(Re.push(n),cr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function te(n,e,t,r,l,o,s,i=[-1]){const u=We;Fe(n);const f=n.$$={fragment:null,ctx:[],props:o,update:F,not_equal:l,bound:Lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Lt(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};s&&s(f.root);let a=!1;if(f.ctx=t?t(n,e.props||{},(c,h,...g)=>{const _=g.length?g[0]:h;return f.ctx&&l(f.ctx[c],f.ctx[c]=_)&&(!f.skip_bound&&f.bound[c]&&f.bound[c](_),a&&_r(n,c)),h}):[],f.update(),a=!0,Se(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const c=rr(e.target);f.fragment&&f.fragment.l(c),c.forEach(E)}else f.fragment&&f.fragment.c();e.intro&&C(n.$$.fragment),R(n,e.target,e.anchor,e.customElement),Yt()}Fe(u)}class ne{$destroy(){P(this,1),this.$destroy=F}$on(e,t){if(!zt(t))return F;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const l=r.indexOf(t);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!tr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function It(n){if(W(n))return It(n.v);const e=new X.valuesConstructor(n.length-1);for(let t=0;t<n.length-1;t++)e[t]=n[t+1]-n[t];return new X(e)}function Ie(n,e){if(W(n))return Ie(n.v,e);e===void 0&&(e=.1);const t=Tt(n),r=(t[1]-t[0])*e;return[t[0]-r,t[1]+r]}function Tt(n){if(W(n))return Tt(n.v);let e=n[0],t=n[0];for(let r=1;r<n.length;r++)n[r]<e&&(e=n[r]),n[r]>t&&(t=n[r]);return[e,t]}function at(n){if(W(n))return at(n.v);let e=0;const t=n.length;for(let r=0;r<t;r++){const l=n[r];e+=l*l}return e}function Rt(n,e){if(e===void 0&&(e=!1),W(n))return Rt(n.v);const t=ct(n);let r=0;for(let l=0;l<n.length;l++){const o=n[l]-t;r=r+o*o}return r/(e?n.length:n.length-1)}function ct(n){return W(n)?ct(n.v):Pt(n)/n.length}function Pt(n){if(W(n))return Pt(n.v);let e=0;for(let t=0;t<n.length;t++)e=e+n[t];return e}function jt(n){if(W(n))return jt(n.v);let e=1;for(let t=0;t<n.length;t++)e=e*n[t];return e}function ae(n){return W(n)||me(n)?n.v[ht(n.v)-1]:n[ht(n)-1]}function ht(n){if(W(n)||me(n))return ht(n.v);let e=1,t=n[0];for(let r=2;r<=n.length;r++)n[r-1]<t&&(e=r,t=n[r-1]);return e}function fe(n){return W(n)||me(n)?n.v[mt(n.v)-1]:n[mt(n)-1]}function mt(n){if(W(n)||me(n))return mt(n.v);let e=1,t=n[0];for(let r=2;r<=n.length;r++)n[r-1]>t&&(e=r,t=n[r-1]);return e}function Le(n,e,t,r,l,o){if(r===void 0&&(r=1e-6),l===void 0&&(l=1e-5),typeof e!="number"||typeof t!="number")throw Error("Parameters 'a' and 'b' must be numbers.");if(t<e)throw Error("Parameter 'b' must be larger 'a'.");if(e===-1/0&&t!==1/0)return Le(b=>n(t-(1-b)/b)/b**2,0,1);if(e!==-1/0&&t===1/0)return Le(b=>n(e+(1-b)/b)/b**2,0,1);if(e===-1/0&&t===1/0)return Le(b=>(n((1-b)/b)+n((b-1)/b))/b**2,0,1);const s=[1/6,2/6,4/6,5/6],i=[2/6,1/6,1/6,2/6],u=[1/4,1/4,1/4,1/4],f=[1,0,0,1];let a=s.length,c=t-e,h;if(o===void 0)h=s.map(b=>n(e+b*c));else{h=new Array(a);for(let b=0,I=0;I<a;I++)h[I]=f[I]===1?n(e+s[I]*c):o[b++]}let g=0,_=0;for(let b=0;b<a;b++)g+=i[b]*h[b]*c,_+=u[b]*h[b]*c;if(isNaN(_)||isNaN(g))throw Error("Numerical integration ended up with NaN number.");let w=r+l*Math.abs(g);if(Math.abs((g-_)/3)<w)return g;r=r/Math.sqrt(2);const y=(e+t)/2,z=h.filter((b,I)=>I<a/2),S=h.filter((b,I)=>I>=a/2),p=Le(n,e,y,l,r,z),N=Le(n,y,t,l,r,S);return p+N}function qt(n,e=0,t=1){let r=X.zeros(n);for(let l=0;l<n;l++)r.v[l]=e+Math.random()*(t-e);return r}function Ot(n,e=0,t=1){let r=X.zeros(n);for(let l=0;l<n;l++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();r.v[l]=o*Math.sin(s)*t+e}return r}function dt(n,e=0,t=1){if(W(n))return n.apply(U=>dt(U,e,t));if(e!==0||t!==1)return dt(n)*t+e;if(n<0||n>1)throw Error('Parameter "p" must be between 0 and 1.');if(n<1e-10)return-1/0;if(n>.9999999999)return 1/0;const r=.425,l=5,o=.180625,s=1.6,i=3.3871327179,u=5.0434271938*10,f=1.5929113202*100,a=5.910937472*10,c=1.7895169469*10,h=7.8757757664*10,g=6.71875636*10,_=1.4234372777,w=2.75681539,m=1.3067284816,y=1.7023821103*.1,z=7.370016425*.1,S=1.2021132975*.1,p=6.657905115,N=3.081226386,b=4.2868294337*.1,I=1.7337203997*.01,k=2.4197894225*.1,v=1.2258202635*.01,V=n-.5;let O;if(Math.abs(V)<=r)return O=o-V*V,V*(((a*O+f)*O+u)*O+i)/(((g*O+h)*O+c)*O+1);O=V<0?n:1-n,O=Math.sqrt(-Math.log(O));let G;return O<=l?(O=O-s,G=(((y*O+m)*O+w)*O+_)/((S*O+z)*O+1)):(O=O-l,G=((I*O+b)*O+N+p)/((v*O+k)*O+1)),V<0?-G:G}function Gt(n,e){if(e<0)throw new Error('Parameter "dof" should be a positive number.');if(W(n))return n.apply(l=>Gt(l,e));const t=-.5*(e+1);return 1/(Math.sqrt(e)*Ft(.5,e/2))*Math.pow(1+n*n/e,t)}function Je(n,e){if(e==null||e<1)throw Error('Parameter "dof" (degrees of freedom) must be an integer number >= 1.');return W(n)?n.apply(t=>Je(t,e)):n===0?.5:n===-1/0?0:n===1/0?1:n>0?1-Je(-n,e):Le(t=>Gt(t,e),-1/0,n)}function gt(n,e){if(e==null||e<1)throw Error('Parameter "dof" (degrees of freedom) must be an integer number >= 1.');if(n<0||n>1)throw Error('Parameter "p" must be between 0 and 1.');if(W(n))return n.apply(f=>gt(f,e));if(n<1e-10)return-1/0;if(n>.9999999999)return 1/0;if(e===1)return Math.tan(Math.PI*(n-.5));if(e===2)return 2*(n-.5)*Math.sqrt(2/(4*n*(1-n)));let t=-1;n>=.5?(t=1,n=2*(1-n)):(t=-1,n=2*n);const r=1/(e-.5),l=48/r**2;let o=((20700*r/l-98)*r-16)*r+96.36;const s=((94.5/(l+o)-3)/l+1)*Math.sqrt(r*Math.PI/2)*e;let i=s*n,u=i**(2/e);return u>.05+r?(i=dt(n*.5),u=i*i,e<5&&(o=o+.3*(e-4.5)*(i+.6)),o=(((.05*s*i-5)*i-7)*i-2)*i+l+o,u=(((((.4*u+6.3)*u+36)*u+94.5)/o-u-3)/l+1)*i,u=r*u**2,u=u>.002?Math.exp(u)-1:.5*u**2+u):u=((1/(((e+6)/(e*u)-.089*s-.822)*(e+2)*3)+.5/(e+4))*u-1)*(e+1)/(e+2)+1/u,t*Math.sqrt(e*u)}function Wt(n,e,t){if(n<0||e<0||t<0)throw new Error("All 3 parameters must be positive.");return W(n)?n.apply(r=>Wt(r,e,t)):wr(e*n/(e*n+t),e/2,t/2)}function wr(n,e,t){return n===0?0:n===1?1:t===1?n**e:e===1?1-(1-n)**t:Le(r=>r**(e-1)*(1-r)**(t-1),0,n)/Ft(e,t)}function Be(n){if(W(n))return n.apply(Be);if(n<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(n<.5)return Math.PI/(Math.sin(Math.PI*n)+Be(1-n));n=n-1;let t=.9999999999998099;for(let l=0;l<e.length;l++)t=t+e[l]/(n+l+1);const r=n+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(r,n+.5)*Math.exp(-r)*t}function Ft(n,e){return e>100?Le(t=>Math.pow(t,n-1)/Math.pow(1+t,n+e),0,1/0):Be(n)*Be(e)/Be(n+e)}function Xt(n){const e=n.nrows,t=n.ncols;if(e<t){const s=Xt(n.subset([],le.seq(1,e)));return{Q:s.Q,R:Bt(s.Q,n)}}let r=he.eye(e),l=n.t();for(let s=1;s<=t;s++)for(let i=e;i>=s+1;i--){const u=l.v.subarray((i-2)*t,i*t),f=r.v.subarray((i-2)*e,i*e),a=u.slice(),c=f.slice(),[h,g,_]=yr(a[s-1],a[s-1+t]);for(let w=0;w<t;w++)u[w]=a[w]*h+a[w+t]*g,u[w+t]=a[w]*-g+a[w+t]*h,f[w]=c[w]*h+c[w+e]*g,f[w+e]=c[w]*-g+c[w+e]*h;for(let w=t;w<e;w++)f[w]=c[w]*h+c[w+e]*g,f[w+e]=c[w]*-g+c[w+e]*h}const o=le.seq(1,t);return{Q:e===t?r:r.subset([],o),R:e===t?l.t():l.subset([],o).t()}}function yr(n,e){if(n==0)return[0,1,e];if(Math.abs(n)>Math.abs(e)){const o=e/n,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,n*s]}const t=n/e,r=Math.sqrt(1+t*t),l=1/r;return[t*l,l,e*r]}function Dt(n){return typeof n=="number"}function Bt(n,e){e===void 0&&(e=n);const t=n.nrows,r=n.ncols,l=e.nrows,o=e.ncols,s=r,i=o,u=t,f=new Float64Array(s*i);for(let a=0;a<i;a++){const c=e.v.subarray(a*l,(a+1)*l),h=f.subarray(a*s,(a+1)*s);for(let g=0;g<s;g++){const _=n.v.subarray(g*t,(g+1)*t);let w=0;for(let m=0;m<u;m++)w+=_[m]*c[m];h[g]=w}}return new he(f,s,i)}function xe(...n){if(n.length===1)return n[0];const e=pe(n[0])?n[0].nrows:n[0].length;if(!n.reduce((i,u)=>i&(pe(u)?u.nrows===e:u.length===e),!0))throw Error("cbind: all matrices must the same number of rows.");const r=n.reduce((i,u)=>i+(pe(u)?u.ncols:1),0),l=e*r,o=new he.valuesConstructor(l);let s=0;for(const i of n)o.set(i.v,s),s+=i.v.length;return new he(o,e,r)}function Te(n,e,t){if(t===void 0){if(e!==n.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new X(n.v)}if(n.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new he(n.v,e,t)}function pe(n){return n.constructor===he}const j=class{constructor(e,t,r){if(!ArrayBuffer.isView(e)||e.constructor!==j.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(e.length!=t*r)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=r}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return j.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const r=j.eye(e),l=j.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let u=0;u<e;u++)l.v[i*e+u]=r.v[i*e+u]/s;for(let u=e-2;u>=0;u--){let f=r.getcolumn(u+1);const a=o.getcolref(u+1);for(let c=u+1;c<e;c++){const h=l.getcolumn(c+1);f=f.subtract(h.mult(a[c]))}l.v.set(f.divide(a[u]).v,u*e)}return l.t()}if(this.islowertriangular()){const r=this.diag();if(jt(r)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=j.eye(e),o=j.eye(e),s=this.t(),i=0,u=s.v[0];for(let f=0;f<e;f++)o.v[i*e+f]=l.v[i*e+f]/u;for(let f=1;f<e;f++){let a=l.getcolumn(f+1);const c=s.getcolref(f+1);for(let h=0;h<f;h++){const g=o.getcolumn(h+1);a=a.subtract(g.mult(c[h]))}o.v.set(a.divide(c[f]).v,f*e)}return o.t()}const t=Xt(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>j.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>j.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let r=0;r<e;r++)t[r]=this.getcolref(r+1)[r];return new X(t)}t(){const e=this.nrows,t=this.ncols,r=new j.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const o=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let s=0;s<this.nrows;s++)r[s*t+l]=o[s]}return new j(r,t,e)}for(let l=0;l<this.nrows;l++){const o=r.subarray(l*t,(l+1)*t);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+l]}return new j(r,t,e)}dot(e){if(W(e))return new j(wt(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(pe(e))return new j(wt(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,r){if(pe(e))return new j(bt(this.v,e.v,t),this.nrows,this.ncols);if(Dt(e))return new j(_t(this.v,e,t),this.nrows,this.ncols);if(!W(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(r===void 0&&(r=e.length===this.ncols?2:1),r===2&&e.length===this.ncols){const l=new j.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(_t(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new j(l,this.nrows,this.ncols)}if(r===1&&e.length===this.nrows){const l=new j.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)l.set(bt(this.getcolref(o+1),e.v,t),o*this.nrows);return new j(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,r)=>t+r)}subtract(e){return this.op(e,(t,r)=>t-r)}mult(e){return this.op(e,(t,r)=>t*r)}divide(e){return this.op(e,(t,r)=>t/r)}apply(e,t){if(t===void 0&&(t=2),t==2){const r=this.ncols,l=new j.valuesConstructor(r);for(let o=0;o<r;o++)l[o]=e(this.getcolref(o+1));return new X(l)}if(t==1)return this.t().apply(e,2);if(t==0){const r=this.v.length,l=new j.valuesConstructor(r);for(let o=0;o<r;o++)l[o]=e(this.v[o]);return new j(l,this.nrows,this.ncols)}}replace(e,t,r){typeof t=="number"&&(t=[t]),t.length===0&&(t=le.seq(1,this.nrows)),me(t)||(t=de(t)),typeof r=="number"&&(r=[r]),r.length===0&&(r=le.seq(1,this.ncols)),me(r)||(r=de(r));const l=t.length,o=r.length;if(ae(t)<1||fe(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(ae(r)<1||fe(r)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<r.length;s++){const i=e.getcolref(s+1),u=(r.v[s]-1)*this.nrows;for(let f=0;f<t.length;f++){const a=t.v[f];this.v[u+a-1]=i[f]}}return this}copy(){return new j(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new X.valuesConstructor(this.ncols);for(let r=0;r<this.ncols;r++)t[r]=this.getcolref(r+1)[e-1];return new X(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new X(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=de([e])),typeof t=="number"&&(t=de([t])),Array.isArray(e)&&(e=e.length===0?null:de(e)),Array.isArray(t)&&(t=t.length===0?null:de(t)),e!==null&&!me(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!me(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e===null){const i=t.length,u=this.nrows,f=new j.valuesConstructor(u*i);for(let a=0;a<t.length;a++)f.set(this.v.slice((t.v[a]-1)*this.nrows,t.v[a]*this.nrows),a*this.nrows);return new j(f,u,i)}if(t==null)return this.t().subset(t,e).t();const r=e.length,l=t.length,o=new j.valuesConstructor(r*l);let s=new j.valuesConstructor(r);for(let i=0;i<l;i++){const u=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let f=0;f<r;f++)s[f]=u[e.v[f]-1];o.set(s,i*r)}return new j(o,r,l)}toString(e){function t(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const r=Math.round(Math.abs(Math.log10(fe(this.v))))+e+3;let l="";const o=this.t();for(let s=1;s<=o.ncols;s++)l+=Array.from(o.getcolref(s)).map(i=>t(i.toFixed(e),r)).join(" ")+`
`;return l}toCSV(e,t,r,l){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=l!=null&&l.length>0,s=r!=null&&r.length>0;if(o&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&r.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let u=s?r.join(e)+`
`:"";for(let f=1;f<=i.ncols;f++)u=u+(o?l[f-1]+e:"")+i.getcolref(f).join(e)+`
`;return u=u.replace(/\./g,t),u}static randn(e,t,r,l){return Te(Ot(e*t,r,l),e,t)}static rand(e,t,r,l){return Te(qt(e*t,r,l),e,t)}static eye(e,t){t===void 0&&(t=e);const r=new Float64Array(e*t);for(let l=0;l<Math.min(e,t);l++)r[l*e+l]=1;return new j(r,e,t)}static diagm(e){if(!W(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,r=new Float64Array(t*t);for(let l=0;l<t;l++)r[l*t+l]=e.v[l];return new j(r,t,t)}static zeros(e,t){return t===void 0&&(t=e),new j(new Float64Array(e*t),e,t)}static ones(e,t){return j.fill(1,e,t)}static fill(e,t,r){r===void 0&&(r=t);const l=new Float64Array(t*r);for(let o=0;o<l.length;o++)l[o]=e;return new j(l,t,r)}static outer(e,t,r){if(Array.isArray(e)&&(e=ue(e)),Array.isArray(t)&&(t=ue(t)),!W(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!W(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=j.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const s=t.v[o],i=l.getcolref(o+1);for(let u=0;u<e.length;u++)i[u]=r(e.v[u],s)}return l}static parseCSV(e,t,r,l){function o(m){return m.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}t===void 0&&(t=",");const s=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),u=[],f=0;const a=i[0].split(t);(r||r===void 0&&o(a))&&(u=a,f=1),i=i.filter(m=>m.trim().length>1);let c=[],h=0;l&&(h=1);const g=i.length-f,_=a.length-h;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(_<1)throw Error("Data file should contain at least 1 column with values.");const w=j.zeros(_,g);for(let m=f;m<g+f;m++){const y=i[m].split(t);let z;if(l?(c[m-f]=y[0],z=y.slice(1).map(S=>Number.parseFloat(S.trim().replace(s,".")))):z=y.map(S=>Number.parseFloat(S.trim().replace(s,"."))),z.some(S=>Number.isNaN(S)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(z.length!=_)throw Error("Wrong number of values in row #"+m);w.v.set(new Float64Array(z),(m-f)*_)}return{values:w.t(),header:u,labels:c,sep:t,dec:s}}};let he=j;Qe(he,"valuesConstructor",Float64Array),Qe(he,"TOLERANCE",Math.pow(10,-9));function W(n){return n.constructor===X}function ue(n){return new X(new Float64Array(n))}const $=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new le.valuesConstructor(this.length);let r=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[r]=l+1,r=r+1);return new le(t.subarray(0,r))}filter(e){const t=new $.valuesConstructor(this.length);let r=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[r]=this.v[l],r=r+1);return new $(t.subarray(0,r))}shuffle(){return new $(Ut(this.v))}sort(e){return new $(Zt(this.v,e))}rep(e){return Kt(this,e)}repeach(e){return Qt(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=le.seq(1,this.length)),me(t)||(t=de(t));const r=t.length;if(ae(t)<1||fe(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==r)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<t.length;l++){const o=t.v[l];this.v[o-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=de([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?le.bool2ind(e):de(e)),!me(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,r=$.zeros(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");r.v[l]=this.v[e.v[l]-1]}return r}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new $(this.v.slice(e-1,t))}copy(){return new $(this.v.slice())}dot(e){return e===void 0&&(e=this),wt(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(W(e))return new $(bt(this.v,e.v,t));if(Dt(e))return new $(_t(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,r)=>t+r)}subtract(e){return this.op(e,(t,r)=>t-r)}mult(e){return this.op(e,(t,r)=>t*r)}divide(e){return this.op(e,(t,r)=>t/r)}apply(e){const t=this.v.length,r=$.zeros(t);for(let l=0;l<t;l++)r.v[l]=e(this.v[l]);return r}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),r=new $.valuesConstructor(t);let l=0;for(const o of e)typeof o=="number"?(r[l]=o,l+=1):(r.set(W(o)?o.v:new $.valuesConstructor(o),l),l+=typeof o=="number"?1:o.length);return new $(r)}static seq(e,t,r){return Ht(e,t,r,$)}static randn(e,t,r){return Ot(e,t,r)}static rand(e,t,r){return qt(e,t,r)}static zeros(e){return new $(new $.valuesConstructor(e))}static ones(e){return $.fill(1,e)}static fill(e,t){const r=new $.valuesConstructor(t);for(let l=0;l<r.length;l++)r[l]=e;return new $(r)}};let X=$;Qe(X,"valuesConstructor",Float64Array);function me(n){return n.constructor===le}function de(n){return new le(new Int32Array(n))}const se=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new se.valuesConstructor(this.length);let r=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[r]=l+1,r=r+1);return new se(t.subarray(0,r))}filter(e){const t=new se.valuesConstructor(this.length);let r=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(t[r]=this.v[l],r=r+1);return new se(t.subarray(0,r))}shuffle(){return new se(Ut(this.v))}sort(e){return new se(Zt(this.v,e))}rep(e){return Kt(this,e)}repeach(e){return Qt(this,e)}subset(e){if(typeof e=="number"&&(e=de([e])),Array.isArray(e)&&(e=de(e)),!me(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,r=new se.valuesConstructor(t);for(let l=0;l<t;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");r[l]=this.v[e.v[l]-1]}return new se(r)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new se(this.v.slice(e-1,t))}static seq(e,t,r){return Ht(e,t,r,se)}static ones(e){return se.fill(1,e)}static fill(e,t){const r=new se.valuesConstructor(t);for(let l=0;l<r.length;l++)r[l]=e;return new se(r)}static bool2ind(e){let t=0;const r=new se.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(r[t]=l+1,t=t+1);return new se(r.subarray(0,t))}};let le=se;Qe(le,"valuesConstructor",Int32Array);function Ht(n,e,t,r){t===void 0&&(t=n<=e?1:-1);const l=Math.floor((e-n)/t)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const o=new r.valuesConstructor(l);for(let s=0;s<l;s++)o[s]=n+s*t;return new r(o)}function Kt(n,e){const t=n.length*e,r=new n.constructor.valuesConstructor(t);for(let l=1;l<=e;l++)for(let o=0;o<n.length;o++)r[(l-1)*n.length+o]=n.v[o];return new n.constructor(r)}function Qt(n,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=n.length*e,r=new n.constructor.valuesConstructor(t);for(let l=0;l<n.length;l++)for(let o=0;o<e;o++)r[l*e+o]=n.v[l];return new n.constructor(r)}function bt(n,e,t){if(n.length!==e.length)throw error("_opvv: arrays sizes do not match.");if(n.constructor!==e.constructor)throw error("_opvv: array types do not match.");const r=new n.constructor(n.length);for(let l=0;l<n.length;l++)r[l]=t(n[l],e[l]);return r}function _t(n,e,t){const r=new n.constructor(n.length);for(let l=0;l<n.length;l++)r[l]=t(n[l],e);return r}function wt(n,e,t,r,l,o){if(r!==l)throw Error("_dot: matrix dimensions do not much.");const s=t,i=o,u=r,f=new n.constructor(s*i);for(let a=0;a<i;a++){const c=e.subarray(a*l,(a+1)*l),h=f.subarray(a*s,(a+1)*s);for(let g=0;g<u;g++){const _=c[g],w=n.subarray(g*t,(g+1)*t);for(let m=0;m<s;m++)h[m]+=w[m]*_}}return f}function Ut(n){let e=n.slice(),t=e.length,r,l;for(;t;)l=Math.floor(Math.random()*t--),r=e[t],e[t]=e[l],e[l]=r;return e}function Zt(n,e=!1){return e?n.slice().sort((t,r)=>r-t):n.slice().sort((t,r)=>t-r)}function Jt(n,e){if(!W(n))throw Error('polymat: argument "x" must be a vector.');const t=he.zeros(n.length,e);for(let r=1;r<=e;r++)t.v.set(n.apply(l=>l**r).v,n.length*(r-1));return t}function yt(n,e,t){if(t<1||t>=n.length)throw Error('polyfit: polynomial degree "d" must a positive value smaller than number of measurements.');let r=pr(Jt(n,t),e);return r.pdegree=t,r.class="pm",r}function $e(n,e){if(!W(e))throw Error('polypredict: Argument "x" must be a vector.');if(n.class!=="pm")throw Error('polypredict: argument "m" must be object with "pm" model.');return kr(n,Jt(e,n.pdegree))}function pr(n,e){if(W(n)&&(n=Te(n,n.length,1)),!pe(n))throw Error('lmfit: argument "X" must be a matrix or a vector.');if(!W(e))throw Error('lmfit: argument "y" must be a vector.');const t=n.nrows;if(e.length!==t)throw Error('lmfit: arguments "X" and "y" must have the same number of objects.');if(t<=n.ncols)throw Error("lmfit: number of objects must be larger than number of predictors.");const r=xe(X.ones(t),n),l=Bt(r).inv(),o=Te(l.dot(r.t()).dot(e),n.ncols+1),s=Te(r.dot(o),t),i=vr(e,s,n.ncols),u=l.mult(i.se*i.se).diag().apply(Math.sqrt),f=o.divide(u),a=gt(.975,i.DoF),c=u.mult(a);return{class:"lm",data:{X:n,y:e},coeffs:{estimate:o,se:u,tstat:f,p:f.apply(h=>h>0?2*Je(-h,i.DoF):2*Je(h,i.DoF)),lower:o.subtract(c),upper:o.add(c)},fitted:s,stat:i}}function kr(n,e){if(W(e)&&(e=Te(e,e.length,1)),!pe(e))throw Error('lmpredict: argument "X" must be a matrix or a vector.');if(!(n.class==="lm"||n.class==="pm")||!n.coeffs.estimate||n.coeffs.estimate.length<1)throw Error('lmpredict: argument "m" must be object with "lm" model.');if(e.ncols!==n.coeffs.estimate.length-1)throw Error('lmpredict: number of columns in "X" does not match number of coefficients in model.');const t=e.nrows,r=xe(X.ones(t),e);return Te(r.dot(n.coeffs.estimate),t)}function vr(n,e,t){const r=n.length;t||(t=1);const l=n.subtract(e),o=at(l),s=Rt(n)*(r-1),i=1-o/s,u=r-t-1,f=(s-o)/t/(o/u);return{R2:i,R2adj:1-(1-i)*(r-1)/u,Fstat:f,p:1-Wt(f,t,u),DoF:u,se:Math.sqrt(o/u)}}const Zl="",Cr=n=>({}),xt=n=>({});function $t(n){let e,t;const r=n[3].help,l=ve(r,n,n[2],xt);return{c(){e=H("div"),l&&l.c(),d(e,"class","helptext svelte-zbdjkl")},m(o,s){A(o,e,s),l&&l.m(e,null),t=!0},p(o,s){l&&l.p&&(!t||s&4)&&Me(l,r,o,o[2],t?Ce(r,o[2],s,Cr):Ee(o[2]),xt)},i(o){t||(C(l,o),t=!0)},o(o){L(l,o),t=!1},d(o){o&&E(e),l&&l.d(o)}}}function Mr(n){let e,t,r,l,o,s;const i=n[3].default,u=ve(i,n,n[2],null);let f=n[0]&&$t(n);return{c(){e=H("main"),t=H("div"),u&&u.c(),r=B(),f&&f.c(),d(t,"class","content svelte-zbdjkl"),d(e,"class","graasta-app svelte-zbdjkl")},m(a,c){A(a,e,c),D(e,t),u&&u.m(t,null),D(e,r),f&&f.m(e,null),l=!0,o||(s=Ve(window,"keypress",n[1]),o=!0)},p(a,[c]){u&&u.p&&(!l||c&4)&&Me(u,i,a,a[2],l?Ce(i,a[2],c,null):Ee(a[2]),null),a[0]?f?(f.p(a,c),c&1&&C(f,1)):(f=$t(a),f.c(),C(f,1),f.m(e,null)):f&&(we(),L(f,1,1,()=>{f=null}),ye())},i(a){l||(C(u,a),C(f),l=!0)},o(a){L(u,a),L(f),l=!1},d(a){a&&E(e),u&&u.d(a),f&&f.d(),o=!1,s()}}}function Er(n,e,t){let{$$slots:r={},$$scope:l}=e,o=!1;const s=()=>t(0,o=!o),i=u=>{u.key==="h"&&s()};return n.$$set=u=>{"$$scope"in u&&t(2,l=u.$$scope)},[o,i,l,r]}class Ar extends ne{constructor(e){super(),te(this,e,Er,Mr,J,{})}}const Jl="";function en(n){let e,t;return{c(){e=H("legend"),t=Ne(n[1]),d(e,"class","svelte-1pi0zcj")},m(r,l){A(r,e,l),D(e,t)},p(r,l){l&2&&Ge(t,r[1])},d(r){r&&E(e)}}}function tn(n){let e,t;return{c(){e=H("div"),t=Ne(n[0]),d(e,"class","app-control-error svelte-1pi0zcj")},m(r,l){A(r,e,l),D(e,t)},p(r,l){l&1&&Ge(t,r[0])},d(r){r&&E(e)}}}function Lr(n){let e,t,r,l,o=n[1]!==""&&en(n);const s=n[3].default,i=ve(s,n,n[2],null);let u=n[0]&&tn(n);return{c(){e=H("fieldset"),o&&o.c(),t=B(),i&&i.c(),r=B(),u&&u.c(),d(e,"class","app-control-block svelte-1pi0zcj")},m(f,a){A(f,e,a),o&&o.m(e,null),D(e,t),i&&i.m(e,null),D(e,r),u&&u.m(e,null),l=!0},p(f,[a]){f[1]!==""?o?o.p(f,a):(o=en(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),i&&i.p&&(!l||a&4)&&Me(i,s,f,f[2],l?Ce(s,f[2],a,null):Ee(f[2]),null),f[0]?u?u.p(f,a):(u=tn(f),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(f){l||(C(i,f),l=!0)},o(f){L(i,f),l=!1},d(f){f&&E(e),o&&o.d(),i&&i.d(f),u&&u.d()}}}function zr(n,e,t){let{$$slots:r={},$$scope:l}=e,{errormsg:o=void 0}=e,{legend:s=""}=e;return n.$$set=i=>{"errormsg"in i&&t(0,o=i.errormsg),"legend"in i&&t(1,s=i.legend),"$$scope"in i&&t(2,l=i.$$scope)},[o,s,l,r]}class Sr extends ne{constructor(e){super(),te(this,e,zr,Lr,J,{errormsg:0,legend:1})}}const xl="";function Nr(n){let e,t,r,l,o,s;const i=n[5].default,u=ve(i,n,n[4],null);return{c(){e=H("div"),t=H("div"),r=B(),l=H("label"),o=B(),u&&u.c(),d(t,"class","shield svelte-m62yuw"),d(l,"for",n[0]),d(l,"class","svelte-m62yuw"),d(e,"class","app-control svelte-m62yuw"),Ae(e,"hidden",n[3]),Ae(e,"disable",n[2])},m(f,a){A(f,e,a),D(e,t),D(e,r),D(e,l),l.innerHTML=n[1],D(e,o),u&&u.m(e,null),s=!0},p(f,[a]){(!s||a&2)&&(l.innerHTML=f[1]),(!s||a&1)&&d(l,"for",f[0]),u&&u.p&&(!s||a&16)&&Me(u,i,f,f[4],s?Ce(i,f[4],a,null):Ee(f[4]),null),(!s||a&8)&&Ae(e,"hidden",f[3]),(!s||a&4)&&Ae(e,"disable",f[2])},i(f){s||(C(u,f),s=!0)},o(f){L(u,f),s=!1},d(f){f&&E(e),u&&u.d(f)}}}function Vr(n,e,t){let{$$slots:r={},$$scope:l}=e,{id:o}=e,{label:s}=e,{disable:i=!1}=e,{hidden:u=!1}=e;return n.$$set=f=>{"id"in f&&t(0,o=f.id),"label"in f&&t(1,s=f.label),"disable"in f&&t(2,i=f.disable),"hidden"in f&&t(3,u=f.hidden),"$$scope"in f&&t(4,l=f.$$scope)},[o,s,i,u,l,r]}class nn extends ne{constructor(e){super(),te(this,e,Vr,Nr,J,{id:0,label:1,disable:2,hidden:3})}}const $l="";function Yr(n){let e,t,r,l;return{c(){e=H("button"),t=Ne(n[2]),d(e,"class","svelte-176r7j6")},m(o,s){A(o,e,s),D(e,t),r||(l=Ve(e,"click",n[5]),r=!0)},p(o,s){s&4&&Ge(t,o[2])},d(o){o&&E(e),r=!1,l()}}}function Ir(n){let e,t;return e=new nn({props:{id:n[0],label:n[1],disable:n[3],hidden:n[4],$$slots:{default:[Yr]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,[l]){const o={};l&1&&(o.id=r[0]),l&2&&(o.label=r[1]),l&8&&(o.disable=r[3]),l&16&&(o.hidden=r[4]),l&68&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Tr(n,e,t){let{id:r}=e,{label:l}=e,{text:o}=e,{disable:s=!1}=e,{hidden:i=!1}=e;function u(f){ur.call(this,n,f)}return n.$$set=f=>{"id"in f&&t(0,r=f.id),"label"in f&&t(1,l=f.label),"text"in f&&t(2,o=f.text),"disable"in f&&t(3,s=f.disable),"hidden"in f&&t(4,i=f.hidden)},[r,l,o,s,i,u]}class rn extends ne{constructor(e){super(),te(this,e,Tr,Ir,J,{id:0,label:1,text:2,disable:3,hidden:4})}}const eo="";function ln(n,e,t){const r=n.slice();return r[9]=e[t],r}function on(n,e){let t,r=e[9]+"",l,o,s;function i(){return e[6](e[9])}function u(){return e[7](e[9])}return{key:n,first:null,c(){t=H("div"),l=Ne(r),d(t,"class","option svelte-yqpg3s"),Ae(t,"selected",e[9]==e[0]),this.first=t},m(f,a){A(f,t,a),D(t,l),o||(s=[Ve(t,"click",i),Ve(t,"keydown",u)],o=!0)},p(f,a){e=f,a&8&&r!==(r=e[9]+"")&&Ge(l,r),a&9&&Ae(t,"selected",e[9]==e[0])},d(f){f&&E(t),o=!1,Se(s)}}}function Rr(n){let e,t=[],r=new Map,l,o,s,i,u=n[3];const f=a=>a[9];for(let a=0;a<u.length;a+=1){let c=ln(n,u,a),h=f(c);r.set(h,t[a]=on(h,c))}return{c(){e=H("div");for(let a=0;a<t.length;a+=1)t[a].c();l=B(),o=H("input"),d(e,"class","selector svelte-yqpg3s"),d(o,"name",n[1]),d(o,"class","svelte-yqpg3s")},m(a,c){A(a,e,c);for(let h=0;h<t.length;h+=1)t[h].m(e,null);A(a,l,c),A(a,o,c),Nt(o,n[0]),s||(i=Ve(o,"input",n[8]),s=!0)},p(a,c){c&9&&(u=a[3],t=gr(t,c,f,1,a,u,r,e,dr,on,null,ln)),c&2&&d(o,"name",a[1]),c&1&&o.value!==a[0]&&Nt(o,a[0])},d(a){a&&E(e);for(let c=0;c<t.length;c+=1)t[c].d();a&&E(l),a&&E(o),s=!1,i()}}}function Pr(n){let e,t;return e=new nn({props:{id:n[1],label:n[2],disable:n[4],hidden:n[5],$$slots:{default:[Rr]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,[l]){const o={};l&2&&(o.id=r[1]),l&4&&(o.label=r[2]),l&16&&(o.disable=r[4]),l&32&&(o.hidden=r[5]),l&4107&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function jr(n,e,t){let{id:r}=e,{label:l}=e,{options:o}=e,{value:s=o[0]}=e,{disable:i=!1}=e,{hidden:u=!1}=e;const f=h=>t(0,s=h),a=h=>t(0,s=h);function c(){s=this.value,t(0,s)}return n.$$set=h=>{"id"in h&&t(1,r=h.id),"label"in h&&t(2,l=h.label),"options"in h&&t(3,o=h.options),"value"in h&&t(0,s=h.value),"disable"in h&&t(4,i=h.disable),"hidden"in h&&t(5,u=h.hidden)},[s,r,l,o,i,u,f,a,c]}class qr extends ne{constructor(e){super(),te(this,e,jr,Pr,J,{id:1,label:2,options:3,value:0,disable:4,hidden:5})}}const je=[];function qe(n,e=F){let t;const r=new Set;function l(i){if(J(n,i)&&(n=i,t)){const u=!je.length;for(const f of r)f[1](),je.push(f,n);if(u){for(let f=0;f<je.length;f+=2)je[f][0](je[f+1]);je.length=0}}}function o(i){l(i(n))}function s(i,u=F){const f=[i,u];return r.add(f),r.size===1&&(t=e(l)||F),i(n),()=>{r.delete(f),r.size===0&&(t(),t=null)}}return{set:l,update:o,subscribe:s}}function ce(n,e){if(Array.isArray(n)&&(n=ue(n)),!W(n))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(n.length<1)throw Error(e+": vector with coordinates is empty.");return n}function Or(n,e,t,r,l){if(n===void 0||e===void 0)return;const o=l.transform(ce(n),t.coords),s=l.transform(ce(e),r.coords);if(o.length!=s.length)throw Error('PlotSeries: parameters "xValues" and "yValues" must be numeric vectors of the same length.');let i="";for(let u=0;u<o.length;u++)i+=o[u]+","+s[u]+" ";return i}function sn(n,e,t,r=!0){if(n!==void 0){if(Array.isArray(n)&&(n=ue(n)),!W(n))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return n.filter(f=>f>=e[0]&f<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const l=(e[1]-e[0])/50,o=fn(e[1]-e[0]-1*l,r),s=fn(o/(t-1),r),i=Math.ceil((e[0]+l)/s)*s,u=Math.floor((e[1]-l)/s)*s;if(t=Math.round((u-i+1)/s)+1,n=X.seq(i,u,s),Math.abs(s)<1){const f=Math.pow(10,1+Math.round(-Math.log10(s)));n=n.apply(a=>Math.round((a+Number.EPSILON)*f)/f)}return n.filter(f=>f>=e[0]&f<=e[1])}function fn(n,e){const t=Math.floor(Math.log10(n)),r=n/Math.pow(10,t);let l;return e?r<1.5?l=1:r<3?l=2:r<7?l=5:l=10:r<=1?l=1:r<=2?l=2:r<=5?l=5:l=10,l*Math.pow(10,t)}function Gr(n){return Math.round(n*10)/10}function Wr(n,e){return e<300.2||n<300.2?"small":e<600.2||n<600.2?"medium":e<850.2||n<850.2?"large":"xlarge"}const to="",Fr=n=>({}),un=n=>({}),Xr=n=>({}),an=n=>({}),Dr=n=>({}),cn=n=>({});function hn(n){let e;return{c(){e=H("div"),d(e,"class","axes__title svelte-1oyr9z6")},m(t,r){A(t,e,r),e.innerHTML=n[0]},p(t,r){r[0]&1&&(e.innerHTML=t[0])},d(t){t&&E(e)}}}function mn(n){let e,t;return{c(){e=H("div"),t=H("span"),d(t,"class","svelte-1oyr9z6"),d(e,"class","axes__ylabel svelte-1oyr9z6")},m(r,l){A(r,e,l),D(e,t),t.innerHTML=n[2]},p(r,l){l[0]&4&&(t.innerHTML=r[2])},d(r){r&&E(e)}}}function dn(n){let e,t;return{c(){e=H("div"),t=H("span"),d(e,"class","axes__xlabel svelte-1oyr9z6")},m(r,l){A(r,e,l),D(e,t),t.innerHTML=n[1]},p(r,l){l[0]&2&&(t.innerHTML=r[1])},d(r){r&&E(e)}}}function gn(n){let e;return{c(){e=H("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-1oyr9z6")},m(t,r){A(t,e,r)},d(t){t&&E(e)}}}function Br(n){let e,t,r,l,o,s,i,u,f,a,c,h,g,_,w,m,y,z,S,p=n[0]!==""&&hn(n),N=n[2]!==""&&mn(n),b=n[1]!==""&&dn(n);const I=n[28].xaxis,k=ve(I,n,n[27],cn),v=n[28].yaxis,V=ve(v,n,n[27],an),O=n[28].default,G=ve(O,n,n[27],null),U=n[28].box,K=ve(U,n,n[27],un);let re=!n[3]&&gn();return{c(){e=H("div"),p&&p.c(),t=B(),N&&N.c(),r=B(),b&&b.c(),l=B(),o=H("div"),s=Q("svg"),i=Q("defs"),u=Q("clipPath"),f=Q("rect"),k&&k.c(),V&&V.c(),_=Q("g"),G&&G.c(),K&&K.c(),w=B(),re&&re.c(),Vt(f,"pointer-events","none"),Vt(f,"fill","red"),d(f,"fill","red"),d(f,"x",a=n[8][0]),d(f,"y",c=n[7][1]),d(f,"width",h=n[8][1]-n[8][0]),d(f,"height",g=n[7][0]-n[7][1]),d(u,"id",n[9]),d(_,"class","axes-content svelte-1oyr9z6"),d(_,"clip-path","url(#"+n[9]+")"),d(s,"preserveAspectRatio","none"),d(s,"class","axes svelte-1oyr9z6"),d(o,"class","axes-wrapper svelte-1oyr9z6"),d(e,"class",m="plot "+("plot_"+n[4])+" svelte-1oyr9z6"),Ae(e,"plot_error",!n[3])},m(Y,Z){A(Y,e,Z),p&&p.m(e,null),D(e,t),N&&N.m(e,null),D(e,r),b&&b.m(e,null),D(e,l),D(e,o),D(o,s),D(s,i),D(i,u),D(u,f),k&&k.m(s,null),V&&V.m(s,null),D(s,_),G&&G.m(_,null),K&&K.m(s,null),D(o,w),re&&re.m(o,null),n[29](o),n[30](e),y=!0,z||(S=[Ve(s,"click",n[10]),Ve(s,"keydown",n[10])],z=!0)},p(Y,Z){Y[0]!==""?p?p.p(Y,Z):(p=hn(Y),p.c(),p.m(e,t)):p&&(p.d(1),p=null),Y[2]!==""?N?N.p(Y,Z):(N=mn(Y),N.c(),N.m(e,r)):N&&(N.d(1),N=null),Y[1]!==""?b?b.p(Y,Z):(b=dn(Y),b.c(),b.m(e,l)):b&&(b.d(1),b=null),(!y||Z[0]&256&&a!==(a=Y[8][0]))&&d(f,"x",a),(!y||Z[0]&128&&c!==(c=Y[7][1]))&&d(f,"y",c),(!y||Z[0]&256&&h!==(h=Y[8][1]-Y[8][0]))&&d(f,"width",h),(!y||Z[0]&128&&g!==(g=Y[7][0]-Y[7][1]))&&d(f,"height",g),k&&k.p&&(!y||Z[0]&134217728)&&Me(k,I,Y,Y[27],y?Ce(I,Y[27],Z,Dr):Ee(Y[27]),cn),V&&V.p&&(!y||Z[0]&134217728)&&Me(V,v,Y,Y[27],y?Ce(v,Y[27],Z,Xr):Ee(Y[27]),an),G&&G.p&&(!y||Z[0]&134217728)&&Me(G,O,Y,Y[27],y?Ce(O,Y[27],Z,null):Ee(Y[27]),null),K&&K.p&&(!y||Z[0]&134217728)&&Me(K,U,Y,Y[27],y?Ce(U,Y[27],Z,Fr):Ee(Y[27]),un),Y[3]?re&&(re.d(1),re=null):re||(re=gn(),re.c(),re.m(o,null)),(!y||Z[0]&16&&m!==(m="plot "+("plot_"+Y[4])+" svelte-1oyr9z6"))&&d(e,"class",m),(!y||Z[0]&24)&&Ae(e,"plot_error",!Y[3])},i(Y){y||(C(k,Y),C(V,Y),C(G,Y),C(K,Y),y=!0)},o(Y){L(k,Y),L(V,Y),L(G,Y),L(K,Y),y=!1},d(Y){Y&&E(e),p&&p.d(),N&&N.d(),b&&b.d(),k&&k.d(Y),V&&V.d(Y),G&&G.d(Y),K&&K.d(Y),re&&re.d(),n[29](null),n[30](null),z=!1,Se(S)}}}function Hr(n,e,t){let r,l,o,s,i,u,f,a,c,{$$slots:h={},$$scope:g}=e,{limX:_}=e,{limY:w}=e,{title:m=""}=e,{xLabel:y=""}=e,{yLabel:z=""}=e,{margins:S=[.034,.034,.034,.034]}=e;const p=ir(),N={small:30,medium:40,large:50,xlarge:60},b={small:5,medium:8,large:12,xlarge:15},I={small:4,medium:6,large:8,xlarge:10},k={small:10,medium:12,large:14,xlarge:16},v={small:10,medium:15,large:20,xlarge:25},V={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},O=["\u25CF","\u25FC","\u25B2","\u25BC","\u2B25","\uFF0B","*","\xD7"],G="plottingArea"+Math.round(Math.random()*1e4);let U,K,re,Y=100;function Z(M,ee){const ge=Array.prototype.indexOf.call(ee.parentNode.children,ee);p(M,{seriesTitle:ee.parentNode.getAttribute("title"),elementID:ge})}function Dl(M){if(M.target.tagName==="text"&&M.target.parentNode.classList.contains("series_points")){Z("markerclick",M.target);return}if(M.target.tagName==="rect"&&M.target.parentNode.classList.contains("series_bar")){Z("barclick",M.target);return}p("axesclick")}const Et=function(M,ee){if(!(!u||M===void 0||M===null)&&(Array.isArray(M)&&(M=ue(M)),!(!W(M)||M.length<1)))return M.apply(ge=>Gr((ge-ee[1])*ee[0]+ee[2])).v},Bl=function(M,ee){if(!(!u||M===void 0||M===null)&&(Array.isArray(M)&&(M=ue(M)),!(!W(M)||M.length<1)))return M.apply(ge=>(ge-ee[2])/ee[0]+ee[1]).v},et=qe("medium");T(n,et,M=>t(4,c=M));const tt=qe({coords:[1,0,0],objects:[1,0,0]});T(n,tt,M=>t(25,f=M));const nt=qe({coords:[1,0,0],objects:[1,0,0]});T(n,nt,M=>t(23,s=M));const rt=qe(!1);T(n,rt,M=>t(3,u=M));const lt=qe(_);T(n,lt,M=>t(26,a=M));const ot=qe(w);T(n,ot,M=>t(24,i=M)),fr("axes",{transform:Et,invTransform:Bl,scale:et,isOk:rt,xLim:lt,yLim:ot,tX:tt,tY:nt,LINE_STYLES:V,LABELS_MARGIN:v,TICK_NUM:b,TICK_SIZE:I,MARKER_SYMBOLS:O,LEGEND_FONT_SIZE:k});const $n=new ResizeObserver(M=>{for(let ee of M){const ge=U.getBoundingClientRect();et.update(io=>Wr(ge.width,ge.height))}}),er=new ResizeObserver(M=>{for(let ee of M){const ge=K.getBoundingClientRect();t(20,re=ge.width),t(21,Y=ge.height)}});or(()=>{$n.observe(U),er.observe(K)}),sr(()=>{$n.unobserve(U),er.unobserve(K)});function Hl(M){De[M?"unshift":"push"](()=>{K=M,t(6,K)})}function Kl(M){De[M?"unshift":"push"](()=>{U=M,t(5,U)})}return n.$$set=M=>{"limX"in M&&t(17,_=M.limX),"limY"in M&&t(18,w=M.limY),"title"in M&&t(0,m=M.title),"xLabel"in M&&t(1,y=M.xLabel),"yLabel"in M&&t(2,z=M.yLabel),"margins"in M&&t(19,S=M.margins),"$$scope"in M&&t(27,g=M.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&524304&&t(22,r=S.map(M=>M*N[c])),n.$$.dirty[0]&131072&&lt.update(M=>_),n.$$.dirty[0]&262144&&ot.update(M=>w),n.$$.dirty[0]&91226112&&rt.update(M=>Array.isArray(i)&&Array.isArray(a)&&a.length===2&&i.length===2&&!i.some(ee=>ee===void 0)&&!a.some(ee=>ee===void 0)&&!i.some(ee=>isNaN(ee))&&!a.some(ee=>isNaN(ee))&&a[1]!==a[0]&&i[1]!==i[0]&&re>r[1]+r[3]&&Y>r[0]+r[2]),n.$$.dirty[0]&72351752&&u&&tt.update(M=>({coords:[(re-r[1]-r[3])/(a[1]-a[0]),a[0],r[1]],objects:[(re-r[1]-r[3])/(a[1]-a[0]),0,0]})),n.$$.dirty[0]&23068680&&u&&nt.update(M=>({coords:[-(Y-r[0]-r[2])/(i[1]-i[0]),i[1],r[2]],objects:[(Y-r[0]-r[2])/(i[1]-i[0]),0,0]})),n.$$.dirty[0]&100663304&&t(8,l=u?Et(a,f.coords):[0,1]),n.$$.dirty[0]&25165832&&t(7,o=u?Et(i,s.coords):[1,0])},[m,y,z,u,c,U,K,o,l,G,Dl,et,tt,nt,rt,lt,ot,_,w,S,re,Y,r,s,i,f,a,g,h,Hl,Kl]}class bn extends ne{constructor(e){super(),te(this,e,Hr,Br,J,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const oe={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333"};function _n(n,e,t){const r=n.slice();return r[17]=e[t],r[19]=t,r}function wn(n){let e,t=n[1],r=[];for(let l=0;l<t.length;l+=1)r[l]=yn(_n(n,t,l));return{c(){e=Q("g");for(let l=0;l<r.length;l+=1)r[l].c();d(e,"class",n[0])},m(l,o){A(l,e,o);for(let s=0;s<r.length;s+=1)r[s].m(e,null)},p(l,o){if(o&62){t=l[1];let s;for(s=0;s<t.length;s+=1){const i=_n(l,t,s);r[s]?r[s].p(i,o):(r[s]=yn(i),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}o&1&&d(e,"class",l[0])},d(l){l&&E(e),be(r,l)}}}function yn(n){let e,t,r,l,o;return{c(){e=Q("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=n[1][n[19]]),d(e,"x2",r=n[2][n[19]]),d(e,"y1",l=n[3][n[19]]),d(e,"y2",o=n[4][n[19]]),d(e,"style",n[5])},m(s,i){A(s,e,i)},p(s,i){i&2&&t!==(t=s[1][s[19]])&&d(e,"x1",t),i&4&&r!==(r=s[2][s[19]])&&d(e,"x2",r),i&8&&l!==(l=s[3][s[19]])&&d(e,"y1",l),i&16&&o!==(o=s[4][s[19]])&&d(e,"y2",o),i&32&&d(e,"style",s[5])},d(s){s&&E(e)}}}function Kr(n){let e,t=n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0&&wn(n);return{c(){t&&t.c(),e=ie()},m(r,l){t&&t.m(r,l),A(r,e,l)},p(r,[l]){r[1]!==void 0&&r[3]!==void 0&&r[2]!==void 0&&r[4]!==void 0?t?t.p(r,l):(t=wn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(r){t&&t.d(r),r&&E(e)}}}function Qr(n,e,t){let r,l,o,s,{lineCoords:i=[]}=e,{lineColor:u=oe.DARKGRAY}=e,{lineType:f=1}=e,{lineWidth:a=1}=e,{className:c=""}=e;const h=_e("axes"),g=h.scale;T(n,g,p=>t(13,l=p));const _=h.tX;T(n,_,p=>t(15,s=p));const w=h.tY;T(n,w,p=>t(14,o=p));let m,y,z,S;return n.$$set=p=>{"lineCoords"in p&&t(9,i=p.lineCoords),"lineColor"in p&&t(10,u=p.lineColor),"lineType"in p&&t(11,f=p.lineType),"lineWidth"in p&&t(12,a=p.lineWidth),"className"in p&&t(0,c=p.className)},n.$$.update=()=>{n.$$.dirty&49664&&i.length==2&&(t(1,m=h.transform(i[0][0],s.coords)),t(3,z=h.transform(i[0][1],o.coords)),t(2,y=h.transform(i[1][0],s.coords)),t(4,S=h.transform(i[1][1],o.coords))),n.$$.dirty&15360&&t(5,r=`stroke:${u};stroke-width: ${a}px;stroke-dasharray:${h.LINE_STYLES[l][f-1]}`)},[c,m,y,z,S,r,g,_,w,i,u,f,a,l,o,s]}class pt extends ne{constructor(e){super(),te(this,e,Qr,Kr,J,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const no="";function pn(n,e,t){const r=n.slice();return r[21]=e[t],r[23]=t,r}function kn(n,e,t){const r=n.slice();return r[21]=e[t],r[23]=t,r}function vn(n,e,t){const r=n.slice();return r[21]=e[t],r[23]=t,r}function Cn(n){let e;function t(o,s){return o[2]===2&&o[1]===4?Jr:o[2]===2&&o[1]===1?Zr:Ur}let r=t(n),l=r(n);return{c(){e=Q("g"),l.c(),d(e,"class","tick_labels"),d(e,"style",n[8])},m(o,s){A(o,e,s),l.m(e,null)},p(o,s){r===(r=t(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e,null))),s&256&&d(e,"style",o[8])},d(o){o&&E(e),l.d()}}}function Ur(n){let e,t=n[3],r=[];for(let l=0;l<t.length;l+=1)r[l]=Mn(pn(n,t,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ie()},m(l,o){for(let s=0;s<r.length;s+=1)r[s].m(l,o);A(l,e,o)},p(l,o){if(o&249){t=l[3];let s;for(s=0;s<t.length;s+=1){const i=pn(l,t,s);r[s]?r[s].p(i,o):(r[s]=Mn(i),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){be(r,l),l&&E(e)}}}function Zr(n){let e,t=n[3],r=[];for(let l=0;l<t.length;l+=1)r[l]=En(kn(n,t,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ie()},m(l,o){for(let s=0;s<r.length;s+=1)r[s].m(l,o);A(l,e,o)},p(l,o){if(o&89){t=l[3];let s;for(s=0;s<t.length;s+=1){const i=kn(l,t,s);r[s]?r[s].p(i,o):(r[s]=En(i),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){be(r,l),l&&E(e)}}}function Jr(n){let e,t=n[3],r=[];for(let l=0;l<t.length;l+=1)r[l]=An(vn(n,t,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=ie()},m(l,o){for(let s=0;s<r.length;s+=1)r[s].m(l,o);A(l,e,o)},p(l,o){if(o&57){t=l[3];let s;for(s=0;s<t.length;s+=1){const i=vn(l,t,s);r[s]?r[s].p(i,o):(r[s]=An(i),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){be(r,l),l&&E(e)}}}function Mn(n){let e,t=n[0][n[23]]+"",r,l;return{c(){e=Q("text"),d(e,"data-id",n[23]),d(e,"x",r=n[3][n[23]]),d(e,"y",l=n[4][n[23]]),d(e,"dx",n[5]),d(e,"dy",n[6]),d(e,"text-anchor",n[7]),d(e,"class","svelte-131ks7u")},m(o,s){A(o,e,s),e.innerHTML=t},p(o,s){s&1&&t!==(t=o[0][o[23]]+"")&&(e.innerHTML=t),s&8&&r!==(r=o[3][o[23]])&&d(e,"x",r),s&16&&l!==(l=o[4][o[23]])&&d(e,"y",l),s&32&&d(e,"dx",o[5]),s&64&&d(e,"dy",o[6]),s&128&&d(e,"text-anchor",o[7])},d(o){o&&E(e)}}}function En(n){let e,t=n[0][n[23]]+"",r,l,o,s;return{c(){e=Q("text"),d(e,"data-id",n[23]),d(e,"x",r=n[3][n[23]]),d(e,"y",l=n[4][n[23]]),d(e,"dx",o=-n[6]/2),d(e,"dy",0),d(e,"transform",s=`rotate(-90, ${n[3][n[23]]}, ${n[4][n[23]]})`),d(e,"text-anchor","end"),d(e,"class","svelte-131ks7u")},m(i,u){A(i,e,u),e.innerHTML=t},p(i,u){u&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),u&8&&r!==(r=i[3][i[23]])&&d(e,"x",r),u&16&&l!==(l=i[4][i[23]])&&d(e,"y",l),u&64&&o!==(o=-i[6]/2)&&d(e,"dx",o),u&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&d(e,"transform",s)},d(i){i&&E(e)}}}function An(n){let e,t=n[0][n[23]]+"",r,l,o,s;return{c(){e=Q("text"),d(e,"data-id",n[23]),d(e,"x",r=n[3][n[23]]),d(e,"y",l=n[4][n[23]]),d(e,"dx",0),d(e,"dy",o=n[5]*1.25),d(e,"transform",s=`rotate(-90, ${n[3][n[23]]}, ${n[4][n[23]]})`),d(e,"text-anchor","middle"),d(e,"class","svelte-131ks7u")},m(i,u){A(i,e,u),e.innerHTML=t},p(i,u){u&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),u&8&&r!==(r=i[3][i[23]])&&d(e,"x",r),u&16&&l!==(l=i[4][i[23]])&&d(e,"y",l),u&32&&o!==(o=i[5]*1.25)&&d(e,"dy",o),u&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&d(e,"transform",s)},d(i){i&&E(e)}}}function xr(n){let e,t=n[3]!==void 0&&n[4]!==void 0&&Cn(n);return{c(){t&&t.c(),e=ie()},m(r,l){t&&t.m(r,l),A(r,e,l)},p(r,[l]){r[3]!==void 0&&r[4]!==void 0?t?t.p(r,l):(t=Cn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(r){t&&t.d(r),r&&E(e)}}}function $r(n,e,t){let r,l,o,s,i,u,{tickCoords:f}=e,{textColor:a}=e,{tickLabels:c}=e,{pos:h=1}=e,{las:g=1}=e;const _=_e("axes"),w=_.scale;T(n,w,k=>t(16,o=k));const m=_.tX;T(n,m,k=>t(18,i=k));const y=_.tY;T(n,y,k=>t(17,s=k));const z=_.isOk;T(n,z,k=>t(19,u=k));let S,p,N=0,b=0,I;return n.$$set=k=>{"tickCoords"in k&&t(13,f=k.tickCoords),"textColor"in k&&t(14,a=k.textColor),"tickLabels"in k&&t(0,c=k.tickLabels),"pos"in k&&t(1,h=k.pos),"las"in k&&t(2,g=k.las)},n.$$.update=()=>{n.$$.dirty&925696&&u&&(t(3,S=_.transform(f[1][0],i.coords)),t(4,p=_.transform(f[1][1],s.coords))),n.$$.dirty&65536&&t(15,r=_.LABELS_MARGIN[o]),n.$$.dirty&32770&&(t(7,I=["middle","middle","start","middle","end"][h]),t(5,N=[0,0,r,0,-r][h]),t(6,b=[0,r,0,-r,0][h])),n.$$.dirty&16384&&t(8,l=`dominant-baseline:middle;fill:${a};font-size:1em; text-anchor:middle;`)},[c,h,g,S,p,N,b,I,l,w,m,y,z,f,a,r,o,s,i,u]}class el extends ne{constructor(e){super(),te(this,e,$r,xr,J,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function Ln(n){let e,t;return e=new pt({props:{lineCoords:n[5],lineColor:n[9],lineType:3}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,l){const o={};l&32&&(o.lineCoords=r[5]),l&512&&(o.lineColor=r[9]),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function zn(n){let e,t;return e=new el({props:{las:n[2],pos:n[3],tickCoords:n[7],tickLabels:n[0],textColor:n[10]}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,l){const o={};l&4&&(o.las=r[2]),l&8&&(o.pos=r[3]),l&128&&(o.tickCoords=r[7]),l&1&&(o.tickLabels=r[0]),l&1024&&(o.textColor=r[10]),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function tl(n){let e,t,r,l,o,s,i=n[1]&&Ln(n);r=new pt({props:{lineCoords:n[6],lineColor:n[8],lineType:1}}),l=new pt({props:{lineCoords:n[7],lineColor:n[8],lineType:1}});let u=n[7].length===2&&n[0].length===n[7][1][0].length&&zn(n);return{c(){e=Q("g"),i&&i.c(),t=ie(),q(r.$$.fragment),q(l.$$.fragment),u&&u.c(),d(e,"class",o="mdaplot__axis "+n[4])},m(f,a){A(f,e,a),i&&i.m(e,null),D(e,t),R(r,e,null),R(l,e,null),u&&u.m(e,null),s=!0},p(f,[a]){f[1]?i?(i.p(f,a),a&2&&C(i,1)):(i=Ln(f),i.c(),C(i,1),i.m(e,t)):i&&(we(),L(i,1,1,()=>{i=null}),ye());const c={};a&64&&(c.lineCoords=f[6]),a&256&&(c.lineColor=f[8]),r.$set(c);const h={};a&128&&(h.lineCoords=f[7]),a&256&&(h.lineColor=f[8]),l.$set(h),f[7].length===2&&f[0].length===f[7][1][0].length?u?(u.p(f,a),a&129&&C(u,1)):(u=zn(f),u.c(),C(u,1),u.m(e,null)):u&&(we(),L(u,1,1,()=>{u=null}),ye()),(!s||a&16&&o!==(o="mdaplot__axis "+f[4]))&&d(e,"class",o)},i(f){s||(C(i),C(r.$$.fragment,f),C(l.$$.fragment,f),C(u),s=!0)},o(f){L(i),L(r.$$.fragment,f),L(l.$$.fragment,f),L(u),s=!1},d(f){f&&E(e),i&&i.d(),P(r),P(l),u&&u.d()}}}function nl(n,e,t){let{tickLabels:r=[]}=e,{showGrid:l=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:u=[]}=e,{axisLine:f=[]}=e,{tickCoords:a=[]}=e,{lineColor:c=oe.DARKGRAY}=e,{gridColor:h=oe.MIDDLEGRAY}=e,{textColor:g=oe.DARKGRAY}=e;return n.$$set=_=>{"tickLabels"in _&&t(0,r=_.tickLabels),"showGrid"in _&&t(1,l=_.showGrid),"las"in _&&t(2,o=_.las),"pos"in _&&t(3,s=_.pos),"className"in _&&t(4,i=_.className),"grid"in _&&t(5,u=_.grid),"axisLine"in _&&t(6,f=_.axisLine),"tickCoords"in _&&t(7,a=_.tickCoords),"lineColor"in _&&t(8,c=_.lineColor),"gridColor"in _&&t(9,h=_.gridColor),"textColor"in _&&t(10,g=_.textColor)},[r,l,o,s,i,u,f,a,c,h,g]}class Sn extends ne{constructor(e){super(),te(this,e,nl,tl,J,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,lineColor:8,gridColor:9,textColor:10})}}function Nn(n){let e,t;return e=new Sn({props:{className:"mdaplot__xaxis",pos:1,lineColor:n[3],gridColor:n[4],textColor:n[5],showGrid:n[1],grid:n[7],axisLine:n[8],tickCoords:n[9],tickLabels:n[0],las:n[2]}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.lineColor=r[3]),l&16&&(o.gridColor=r[4]),l&32&&(o.textColor=r[5]),l&2&&(o.showGrid=r[1]),l&128&&(o.grid=r[7]),l&256&&(o.axisLine=r[8]),l&512&&(o.tickCoords=r[9]),l&1&&(o.tickLabels=r[0]),l&4&&(o.las=r[2]),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function rl(n){let e,t,r=n[6]&&n[8].length>0&&Nn(n);return{c(){r&&r.c(),e=ie()},m(l,o){r&&r.m(l,o),A(l,e,o),t=!0},p(l,[o]){l[6]&&l[8].length>0?r?(r.p(l,o),o&320&&C(r,1)):(r=Nn(l),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(we(),L(r,1,1,()=>{r=null}),ye())},i(l){t||(C(r),t=!0)},o(l){L(r),t=!1},d(l){r&&r.d(l),l&&E(e)}}}function ll(n,e,t){let r,l,o,s,i,{slot:u="xaxis"}=e,{ticks:f=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:h=1}=e,{lineColor:g=oe.DARKGRAY}=e,{gridColor:_=oe.MIDDLEGRAY}=e,{textColor:w=oe.DARKGRAY}=e;if(u!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const m=_e("axes"),y=m.xLim;T(n,y,v=>t(18,l=v));const z=m.yLim;T(n,z,v=>t(17,r=v));const S=m.scale;T(n,S,v=>t(20,s=v));const p=m.isOk;T(n,p,v=>t(6,i=v));const N=m.tY;T(n,N,v=>t(19,o=v));let b=[],I=[],k=[];return n.$$set=v=>{"slot"in v&&t(15,u=v.slot),"ticks"in v&&t(16,f=v.ticks),"tickLabels"in v&&t(0,a=v.tickLabels),"showGrid"in v&&t(1,c=v.showGrid),"las"in v&&t(2,h=v.las),"lineColor"in v&&t(3,g=v.lineColor),"gridColor"in v&&t(4,_=v.gridColor),"textColor"in v&&t(5,w=v.textColor)},n.$$.update=()=>{if(n.$$.dirty&2031681&&i){const v=sn(f,l,m.TICK_NUM[s],!0),V=v.length,O=m.invTransform([m.TICK_SIZE[s]],o.objects)[0],G=X.fill(r[0],V),U=G.add(O),K=X.fill(r[1],V);if(t(0,a=f===void 0||a===void 0?v.v:a),a.length!==v.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,b=[[v,G],[v,K]]),t(8,I=[[ue([l[0]]),ue([r[0]])],[ue([l[1]]),ue([r[0]])]]),t(9,k=[[v,U],[v,G]])}},[a,c,h,g,_,w,i,b,I,k,y,z,S,p,N,u,f,r,l,o,s]}class ol extends ne{constructor(e){super(),te(this,e,ll,rl,J,{slot:15,ticks:16,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function Vn(n){let e,t;return e=new Sn({props:{className:"mdaplot__yaxis",pos:4,lineColor:n[3],gridColor:n[4],textColor:n[5],showGrid:n[1],grid:n[7],axisLine:n[8],tickCoords:n[9],tickLabels:n[0],las:n[2]}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,l){const o={};l&8&&(o.lineColor=r[3]),l&16&&(o.gridColor=r[4]),l&32&&(o.textColor=r[5]),l&2&&(o.showGrid=r[1]),l&128&&(o.grid=r[7]),l&256&&(o.axisLine=r[8]),l&512&&(o.tickCoords=r[9]),l&1&&(o.tickLabels=r[0]),l&4&&(o.las=r[2]),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function sl(n){let e,t,r=n[6]&&n[8].length>0&&Vn(n);return{c(){r&&r.c(),e=ie()},m(l,o){r&&r.m(l,o),A(l,e,o),t=!0},p(l,[o]){l[6]&&l[8].length>0?r?(r.p(l,o),o&320&&C(r,1)):(r=Vn(l),r.c(),C(r,1),r.m(e.parentNode,e)):r&&(we(),L(r,1,1,()=>{r=null}),ye())},i(l){t||(C(r),t=!0)},o(l){L(r),t=!1},d(l){r&&r.d(l),l&&E(e)}}}function il(n,e,t){let r,l,o,s,i,{slot:u="yaxis"}=e,{ticks:f=void 0}=e,{tickLabels:a=void 0}=e,{showGrid:c=!1}=e,{las:h=1}=e,{lineColor:g=oe.DARKGRAY}=e,{gridColor:_=oe.MIDDLEGRAY}=e,{textColor:w=oe.DARKGRAY}=e;if(u!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const m=_e("axes"),y=m.xLim;T(n,y,v=>t(18,l=v));const z=m.yLim;T(n,z,v=>t(17,r=v));const S=m.scale;T(n,S,v=>t(20,s=v));const p=m.isOk;T(n,p,v=>t(6,i=v));const N=m.tX;T(n,N,v=>t(19,o=v));let b=[],I=[],k=[];return n.$$set=v=>{"slot"in v&&t(15,u=v.slot),"ticks"in v&&t(16,f=v.ticks),"tickLabels"in v&&t(0,a=v.tickLabels),"showGrid"in v&&t(1,c=v.showGrid),"las"in v&&t(2,h=v.las),"lineColor"in v&&t(3,g=v.lineColor),"gridColor"in v&&t(4,_=v.gridColor),"textColor"in v&&t(5,w=v.textColor)},n.$$.update=()=>{if(n.$$.dirty&2031681&&i){const v=sn(f,r,m.TICK_NUM[s],!0),V=v.length,O=m.invTransform([m.TICK_SIZE[s]],o.objects)[0],G=X.fill(l[0],V),U=G.add(O),K=X.fill(l[1],V);if(t(0,a=f===void 0||a===void 0?v.v:a),a.length!==v.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,b=[[G,v],[K,v]]),t(8,I=[[ue([l[0]]),ue([r[0]])],[ue([l[0]]),ue([r[1]])]]),t(9,k=[[G,v],[U,v]])}},[a,c,h,g,_,w,i,b,I,k,y,z,S,p,N,u,f,r,l,o,s]}class Yn extends ne{constructor(e){super(),te(this,e,il,sl,J,{slot:15,ticks:16,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function In(n,e,t){const r=n.slice();return r[21]=e[t],r[23]=t,r}function Tn(n){let e,t,r=n[0],l=[];for(let o=0;o<r.length;o+=1)l[o]=Rn(In(n,r,o));return{c(){e=Q("g");for(let o=0;o<l.length;o+=1)l[o].c();d(e,"class",t="series "+n[1]),d(e,"title",n[2]),d(e,"style",n[8])},m(o,s){A(o,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(o,s){if(s&217){r=o[0];let i;for(i=0;i<r.length;i+=1){const u=In(o,r,i);l[i]?l[i].p(u,s):(l[i]=Rn(u),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=r.length}s&2&&t!==(t="series "+o[1])&&d(e,"class",t),s&4&&d(e,"title",o[2]),s&256&&d(e,"style",o[8])},d(o){o&&E(e),be(l,o)}}}function Rn(n){let e,t,r,l,o;return{c(){e=Q("rect"),d(e,"x",t=n[3][n[23]]),d(e,"y",r=n[4][n[23]]),d(e,"width",l=n[6][n[23]]),d(e,"height",o=n[7][n[23]])},m(s,i){A(s,e,i)},p(s,i){i&8&&t!==(t=s[3][s[23]])&&d(e,"x",t),i&16&&r!==(r=s[4][s[23]])&&d(e,"y",r),i&64&&l!==(l=s[6][s[23]])&&d(e,"width",l),i&128&&o!==(o=s[7][s[23]])&&d(e,"height",o)},d(s){s&&E(e)}}}function fl(n){let e,t=n[5]&&Tn(n);return{c(){t&&t.c(),e=ie()},m(r,l){t&&t.m(r,l),A(r,e,l)},p(r,[l]){r[5]?t?t.p(r,l):(t=Tn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(r){t&&t.d(r),r&&E(e)}}}function ul(n,e,t){let r,l,o,s,{left:i}=e,{top:u}=e,{width:f}=e,{height:a}=e,{faceColor:c=oe.PRIMARY}=e,{borderColor:h=c}=e,{lineWidth:g=1}=e,{className:_="series_rect"}=e,{title:w=""}=e;const m=_e("axes"),y=m.tX;T(n,y,k=>t(19,o=k));const z=m.tY;T(n,z,k=>t(18,l=k));const S=m.isOk;T(n,S,k=>t(5,s=k));let p,N,b,I;return n.$$set=k=>{"left"in k&&t(0,i=k.left),"top"in k&&t(14,u=k.top),"width"in k&&t(12,f=k.width),"height"in k&&t(13,a=k.height),"faceColor"in k&&t(15,c=k.faceColor),"borderColor"in k&&t(16,h=k.borderColor),"lineWidth"in k&&t(17,g=k.lineWidth),"className"in k&&t(1,_=k.className),"title"in k&&t(2,w=k.title)},n.$$.update=()=>{if(n.$$.dirty&815161&&s){if(t(3,p=m.transform(ce(i,"Rectangles"),o.coords)),t(4,N=m.transform(ce(u,"Rectangles"),l.coords)),p.length!==N.length)throw Error('Rectangles: parameters "left" and "top" must be vectors of the same length.');typeof f!="object"&&t(12,f=X.fill(f,i.length)),typeof a!="object"&&t(13,a=X.fill(a,i.length)),t(6,b=m.transform(f,o.objects)),t(7,I=m.transform(a,l.objects))}n.$$.dirty&229376&&t(8,r=`fill:${c};stroke:${h};stroke-width:${g}px;`)},[i,_,w,p,N,s,b,I,r,y,z,S,f,a,u,c,h,g,l,o]}class al extends ne{constructor(e){super(),te(this,e,ul,fl,J,{left:0,top:14,width:12,height:13,faceColor:15,borderColor:16,lineWidth:17,className:1,title:2})}}function Pn(n,e,t){const r=n.slice();return r[23]=e[t],r[25]=t,r}function jn(n){let e,t,r=n[2],l=[];for(let o=0;o<r.length;o+=1)l[o]=qn(Pn(n,r,o));return{c(){e=Q("g");for(let o=0;o<l.length;o+=1)l[o].c();d(e,"class",t="series "+n[0]),d(e,"title",n[1]),d(e,"style",n[7])},m(o,s){A(o,e,s);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(o,s){if(s&60){r=o[2];let i;for(i=0;i<r.length;i+=1){const u=Pn(o,r,i);l[i]?l[i].p(u,s):(l[i]=qn(u),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=r.length}s&1&&t!==(t="series "+o[0])&&d(e,"class",t),s&2&&d(e,"title",o[1]),s&128&&d(e,"style",o[7])},d(o){o&&E(e),be(l,o)}}}function qn(n){let e,t,r,l,o;return{c(){e=Q("line"),d(e,"x1",t=n[2][n[25]]),d(e,"x2",r=n[3][n[25]]),d(e,"y1",l=n[4][n[25]]),d(e,"y2",o=n[5][n[25]])},m(s,i){A(s,e,i)},p(s,i){i&4&&t!==(t=s[2][s[25]])&&d(e,"x1",t),i&8&&r!==(r=s[3][s[25]])&&d(e,"x2",r),i&16&&l!==(l=s[4][s[25]])&&d(e,"y1",l),i&32&&o!==(o=s[5][s[25]])&&d(e,"y2",o)},d(s){s&&E(e)}}}function cl(n){let e,t=n[6]&&jn(n);return{c(){t&&t.c(),e=ie()},m(r,l){t&&t.m(r,l),A(r,e,l)},p(r,[l]){r[6]?t?t.p(r,l):(t=jn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(r){t&&t.d(r),r&&E(e)}}}function hl(n,e,t){let r,l,o,s,i,{xStart:u}=e,{xEnd:f}=e,{yStart:a}=e,{yEnd:c}=e,{lineColor:h=oe.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:_=1}=e,{className:w="series_seg"}=e,{title:m=""}=e;const y=_e("axes"),z=y.scale;T(n,z,V=>t(19,l=V));const S=y.isOk;T(n,S,V=>t(6,i=V));const p=y.tX;T(n,p,V=>t(21,s=V));const N=y.tY;T(n,N,V=>t(20,o=V));let b,I,k,v;return n.$$set=V=>{"xStart"in V&&t(12,u=V.xStart),"xEnd"in V&&t(13,f=V.xEnd),"yStart"in V&&t(14,a=V.yStart),"yEnd"in V&&t(15,c=V.yEnd),"lineColor"in V&&t(16,h=V.lineColor),"lineType"in V&&t(17,g=V.lineType),"lineWidth"in V&&t(18,_=V.lineWidth),"className"in V&&t(0,w=V.className),"title"in V&&t(1,m=V.title)},n.$$.update=()=>{if(n.$$.dirty&3207292&&i){t(2,b=y.transform(ce(u,"Segments"),s.coords)),t(4,k=y.transform(ce(a,"Segments"),o.coords)),t(3,I=y.transform(ce(f,"Segments"),s.coords)),t(5,v=y.transform(ce(c,"Segments"),o.coords));const V=b.length;if(I.length!==V||k.length!==V||v.length!==V)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}n.$$.dirty&983040&&t(7,r=`stroke:${h};stroke-width: ${_}px;stroke-dasharray:${y.LINE_STYLES[l][g-1]}`)},[w,m,b,I,k,v,i,r,z,S,p,N,u,f,a,c,h,g,_,l,o,s]}class ml extends ne{constructor(e){super(),te(this,e,hl,cl,J,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const ro="";function dl(n){let e,t;return e=new al({props:{className:"series_bar",left:n[3],top:n[5],width:n[4],height:n[6],borderColor:n[1],faceColor:n[0],title:n[2]}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,[l]){const o={};l&8&&(o.left=r[3]),l&32&&(o.top=r[5]),l&16&&(o.width=r[4]),l&64&&(o.height=r[6]),l&2&&(o.borderColor=r[1]),l&1&&(o.faceColor=r[0]),l&4&&(o.title=r[2]),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function gl(n,e,t){let{xValues:r}=e,{yValues:l}=e,{barWidth:o=.8}=e,{faceColor:s=oe.PRIMARY}=e,{borderColor:i=oe.PRIMARY}=e,{title:u=""}=e,f,a,c,h;return n.$$set=g=>{"xValues"in g&&t(7,r=g.xValues),"yValues"in g&&t(8,l=g.yValues),"barWidth"in g&&t(9,o=g.barWidth),"faceColor"in g&&t(0,s=g.faceColor),"borderColor"in g&&t(1,i=g.borderColor),"title"in g&&t(2,u=g.title)},n.$$.update=()=>{if(n.$$.dirty&640){if(o<=0||o>1)throw Error('BarSeries: parameters "barWidth" should be between 0 and 1.');const g=ce(r,"BarSeries"),_=fe(It(g))*o;t(3,a=g.subtract(_/2)),t(4,f=X.fill(_,g.length))}if(n.$$.dirty&264){const g=ce(l,"BarSeries");if(g.length!==a.length)throw Error('BarSeries: parameters "yValues" must be vector of the same length as "xValues".');t(5,c=g.apply(_=>_>0?_:0)),t(6,h=g.apply(_=>Math.abs(_)))}},[s,i,u,a,f,c,h,r,l,o]}class On extends ne{constructor(e){super(),te(this,e,gl,dl,J,{xValues:7,yValues:8,barWidth:9,faceColor:0,borderColor:1,title:2})}}const lo="";function Gn(n,e,t){const r=n.slice();return r[19]=e[t],r[21]=t,r}function Wn(n){let e,t=n[1],r=[];for(let l=0;l<t.length;l+=1)r[l]=Fn(Gn(n,t,l));return{c(){e=Q("g");for(let l=0;l<r.length;l+=1)r[l].c();d(e,"class","series series_points"),d(e,"title",n[0]),d(e,"style",n[5])},m(l,o){A(l,e,o);for(let s=0;s<r.length;s+=1)r[s].m(e,null)},p(l,o){if(o&22){t=l[1];let s;for(s=0;s<t.length;s+=1){const i=Gn(l,t,s);r[s]?r[s].p(i,o):(r[s]=Fn(i),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}o&1&&d(e,"title",l[0]),o&32&&d(e,"style",l[5])},d(l){l&&E(e),be(r,l)}}}function Fn(n){let e,t,r,l;return{c(){e=Q("text"),t=Ne(n[4]),d(e,"x",r=n[1][n[21]]),d(e,"y",l=n[2][n[21]]),d(e,"class","svelte-12moot9")},m(o,s){A(o,e,s),D(e,t)},p(o,s){s&16&&Ge(t,o[4]),s&2&&r!==(r=o[1][o[21]])&&d(e,"x",r),s&4&&l!==(l=o[2][o[21]])&&d(e,"y",l)},d(o){o&&E(e)}}}function bl(n){let e,t=n[3]&&n[1]!==void 0&&n[2]!==void 0&&Wn(n);return{c(){t&&t.c(),e=ie()},m(r,l){t&&t.m(r,l),A(r,e,l)},p(r,[l]){r[3]&&r[1]!==void 0&&r[2]!==void 0?t?t.p(r,l):(t=Wn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(r){t&&t.d(r),r&&E(e)}}}function _l(n,e,t){let r,l,o,s,{xValues:i}=e,{yValues:u}=e,{marker:f=1}=e,{faceColor:a="transparent"}=e,{borderColor:c=oe.PRIMARY}=e,{borderWidth:h=1}=e,{markerSize:g=1}=e,{title:_=""}=e;const w=_e("axes"),m=w.tX;T(n,m,b=>t(17,o=b));const y=w.tY;T(n,y,b=>t(16,l=b));const z=w.isOk;T(n,z,b=>t(3,s=b));let S,p,N;return n.$$set=b=>{"xValues"in b&&t(9,i=b.xValues),"yValues"in b&&t(10,u=b.yValues),"marker"in b&&t(11,f=b.marker),"faceColor"in b&&t(12,a=b.faceColor),"borderColor"in b&&t(13,c=b.borderColor),"borderWidth"in b&&t(14,h=b.borderWidth),"markerSize"in b&&t(15,g=b.markerSize),"title"in b&&t(0,_=b.title)},n.$$.update=()=>{if(n.$$.dirty&200206&&s){if(typeof f!="number"||f<1||f>w.MARKER_SYMBOLS.length)throw Error(`ScatterSeries: parameter "marker" must be a number from 1 to ${w.MARKER_SYMBOLS.length}.`);if(t(4,N=w.MARKER_SYMBOLS[f-1]),t(1,S=w.transform(ce(i,"Points"),o.coords)),t(2,p=w.transform(ce(u,"Points"),l.coords)),S.length!==p.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}n.$$.dirty&61440&&t(5,r=`dominant-baseline:middle;fill:${a};stroke-width:${h}px;stroke:${c};
      font-size:${g}em; text-anchor:middle;cursor:default;user-select:none;`)},[_,S,p,s,N,r,m,y,z,i,u,f,a,c,h,g,l,o]}class Oe extends ne{constructor(e){super(),te(this,e,_l,bl,J,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Xn(n){let e,t;return{c(){e=Q("g"),t=Q("polyline"),d(t,"class","line"),d(t,"points",n[3]),d(e,"class","series series_line"),d(e,"style",n[2]),d(e,"title",n[0])},m(r,l){A(r,e,l),D(e,t)},p(r,l){l&8&&d(t,"points",r[3]),l&4&&d(e,"style",r[2]),l&1&&d(e,"title",r[0])},d(r){r&&E(e)}}}function wl(n){let e,t=n[1]&&n[3]!==void 0&&Xn(n);return{c(){t&&t.c(),e=ie()},m(r,l){t&&t.m(r,l),A(r,e,l)},p(r,[l]){r[1]&&r[3]!==void 0?t?t.p(r,l):(t=Xn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(r){t&&t.d(r),r&&E(e)}}}function yl(n,e,t){let r,l,o,s,i,u,{xValues:f}=e,{yValues:a}=e,{lineWidth:c=1}=e,{lineColor:h=oe.PRIMARY}=e,{lineType:g=1}=e,{title:_=""}=e;const w=_e("axes"),m=w.scale;T(n,m,p=>t(13,o=p));const y=w.isOk;T(n,y,p=>t(1,u=p));const z=w.tX;T(n,z,p=>t(15,i=p));const S=w.tY;return T(n,S,p=>t(14,s=p)),n.$$set=p=>{"xValues"in p&&t(8,f=p.xValues),"yValues"in p&&t(9,a=p.yValues),"lineWidth"in p&&t(10,c=p.lineWidth),"lineColor"in p&&t(11,h=p.lineColor),"lineType"in p&&t(12,g=p.lineType),"title"in p&&t(0,_=p.title)},n.$$.update=()=>{n.$$.dirty&49922&&t(3,r=u?Or(f,a,i,s,w):void 0),n.$$.dirty&15360&&t(2,l=`fill:transparent;stroke:${h};stroke-width: ${c}px; stroke-dasharray:${w.LINE_STYLES[o][g-1]}`)},[_,u,l,r,m,y,z,S,f,a,c,h,g,o,s,i]}class kt extends ne{constructor(e){super(),te(this,e,yl,wl,J,{xValues:8,yValues:9,lineWidth:10,lineColor:11,lineType:12,title:0})}}function Dn(n,e,t){const r=n.slice();return r[19]=e[t],r[21]=t,r}function Bn(n){let e,t=n[2],r=[];for(let l=0;l<t.length;l+=1)r[l]=Hn(Dn(n,t,l));return{c(){e=Q("text");for(let l=0;l<r.length;l+=1)r[l].c();d(e,"style",n[6]),d(e,"x",n[4]),d(e,"y",n[5]),d(e,"dx",n[0]),d(e,"dy",n[1]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","start")},m(l,o){A(l,e,o);for(let s=0;s<r.length;s+=1)r[s].m(e,null)},p(l,o){if(o&23){t=l[2];let s;for(s=0;s<t.length;s+=1){const i=Dn(l,t,s);r[s]?r[s].p(i,o):(r[s]=Hn(i),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}o&64&&d(e,"style",l[6]),o&16&&d(e,"x",l[4]),o&32&&d(e,"y",l[5]),o&1&&d(e,"dx",l[0]),o&2&&d(e,"dy",l[1])},d(l){l&&E(e),be(r,l)}}}function Hn(n){let e,t=n[19]+"",r;return{c(){e=Q("tspan"),d(e,"x",n[4]),d(e,"dx",n[0]),d(e,"dy",r=n[21]===0?0:n[1])},m(l,o){A(l,e,o),e.innerHTML=t},p(l,o){o&4&&t!==(t=l[19]+"")&&(e.innerHTML=t),o&16&&d(e,"x",l[4]),o&1&&d(e,"dx",l[0]),o&2&&r!==(r=l[21]===0?0:l[1])&&d(e,"dy",r)},d(l){l&&E(e)}}}function pl(n){let e,t=n[3]&&n[4]!==void 0&&n[5]!==void 0&&n[2].length>0&&Bn(n);return{c(){t&&t.c(),e=ie()},m(r,l){t&&t.m(r,l),A(r,e,l)},p(r,[l]){r[3]&&r[4]!==void 0&&r[5]!==void 0&&r[2].length>0?t?t.p(r,l):(t=Bn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(r){t&&t.d(r),r&&E(e)}}}function kl(n,e,t){let r,l,o,s,{left:i}=e,{top:u}=e,{dx:f="0"}=e,{dy:a="1.25em"}=e,{elements:c}=e,{faceColor:h=oe.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:_=0}=e,{textSize:w=1}=e;const m=_e("axes"),y=m.tX;T(n,y,b=>t(17,o=b));const z=m.tY;T(n,z,b=>t(16,l=b));const S=m.isOk;T(n,S,b=>t(3,s=b));let p,N;return n.$$set=b=>{"left"in b&&t(10,i=b.left),"top"in b&&t(11,u=b.top),"dx"in b&&t(0,f=b.dx),"dy"in b&&t(1,a=b.dy),"elements"in b&&t(2,c=b.elements),"faceColor"in b&&t(12,h=b.faceColor),"borderColor"in b&&t(13,g=b.borderColor),"borderWidth"in b&&t(14,_=b.borderWidth),"textSize"in b&&t(15,w=b.textSize)},n.$$.update=()=>{n.$$.dirty&199688&&s&&(t(4,p=m.transform([i],o.coords)),t(5,N=m.transform([u],l.coords))),n.$$.dirty&61440&&t(6,r=`fill:${h};stroke-width:${_}px;stroke:${g};font-size:${w}em;`)},[f,a,c,s,p,N,r,y,z,S,i,u,h,g,_,w,l,o]}class vt extends ne{constructor(e){super(),te(this,e,kl,pl,J,{left:10,top:11,dx:0,dy:1,elements:2,faceColor:12,borderColor:13,borderWidth:14,textSize:15})}}let He={plots:{POPULATIONS_PALE:["#33668820","#ff990020"],POPULATIONS:["#33668850","#ff990050"],SAMPLES:["#336688","#ff9900"],STAT_NAME:"#808080",STAT_VALUE:"#202020"}};function Ct(n,e,t){let r="<tspan>y = </tspan>";for(let l=0;l<n.coeffs.estimate.length;l++){const o=n.coeffs.estimate.v[l];r+=(l>0?o<0?"<tspan> \u2013 </tspan>":"<tspan> \uFF0B </tspan>":"")+`<tspan fill="${t}" font-weight=bold>${Math.abs(o).toFixed(2)}</tspan>`+(l>0?"<tspan font-weight=bold>x</tspan>":"")+(l>1?'<tspan font-size="70%" baseline-shift = "super">'+l+"</tspan>":"")}return[`<tspan font-weight=bold>${e}</tspan>`,r]}function Kn(n,e,t){const r=n.slice();return r[17]=e[t],r[19]=t,r}function Qn(n){let e,t,r=le.seq(1,n[1].ncols),l=[];for(let s=0;s<r.length;s+=1)l[s]=Un(Kn(n,r,s));const o=s=>L(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ie()},m(s,i){for(let u=0;u<l.length;u+=1)l[u].m(s,i);A(s,e,i),t=!0},p(s,i){if(i&1059){r=le.seq(1,s[1].ncols);let u;for(u=0;u<r.length;u+=1){const f=Kn(s,r,u);l[u]?(l[u].p(f,i),C(l[u],1)):(l[u]=Un(f),l[u].c(),C(l[u],1),l[u].m(e.parentNode,e))}for(we(),u=r.length;u<l.length;u+=1)o(u);ye()}},i(s){if(!t){for(let i=0;i<r.length;i+=1)C(l[i]);t=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)L(l[i]);t=!1},d(s){be(l,s),s&&E(e)}}}function Un(n){let e,t;return e=new Oe({props:{xValues:n[5],yValues:n[1].getcolumn(n[19]+1),borderWidth:2,borderColor:n[10]+(!n[0]||n[19]==n[1].length?"60":"F0")}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,l){const o={};l&32&&(o.xValues=r[5]),l&2&&(o.yValues=r[1].getcolumn(r[19]+1)),l&3&&(o.borderColor=r[10]+(!r[0]||r[19]==r[1].length?"60":"F0")),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Zn(n){let e,t,r,l;return e=new ml({props:{xStart:n[3],yStart:n[6].subtract(n[4]),xEnd:n[3],yEnd:n[6].add(n[4]),lineColor:n[10]}}),r=new Oe({props:{xValues:n[3],yValues:n[6],borderColor:n[10],faceColor:n[10]}}),{c(){q(e.$$.fragment),t=B(),q(r.$$.fragment)},m(o,s){R(e,o,s),A(o,t,s),R(r,o,s),l=!0},p(o,s){const i={};s&8&&(i.xStart=o[3]),s&80&&(i.yStart=o[6].subtract(o[4])),s&8&&(i.xEnd=o[3]),s&80&&(i.yEnd=o[6].add(o[4])),e.$set(i);const u={};s&8&&(u.xValues=o[3]),s&64&&(u.yValues=o[6]),r.$set(u)},i(o){l||(C(e.$$.fragment,o),C(r.$$.fragment,o),l=!0)},o(o){L(e.$$.fragment,o),L(r.$$.fragment,o),l=!1},d(o){P(e,o),o&&E(t),P(r,o)}}}function vl(n){let e,t,r,l,o=!n[0]&&pe(n[1]),s,i,u;e=new On({props:{barWidth:.5,xValues:n[8],borderColor:"white",faceColor:El,yValues:n[7]}}),r=new On({props:{barWidth:.5,xValues:n[3],borderColor:"white",faceColor:n[9],yValues:n[6]}});let f=o&&Qn(n),a=n[0]&&n[2].length>0&&Zn(n);return{c(){q(e.$$.fragment),t=B(),q(r.$$.fragment),l=B(),f&&f.c(),s=B(),a&&a.c(),i=ie()},m(c,h){R(e,c,h),A(c,t,h),R(r,c,h),A(c,l,h),f&&f.m(c,h),A(c,s,h),a&&a.m(c,h),A(c,i,h),u=!0},p(c,h){const g={};h&256&&(g.xValues=c[8]),h&128&&(g.yValues=c[7]),e.$set(g);const _={};h&8&&(_.xValues=c[3]),h&64&&(_.yValues=c[6]),r.$set(_),h&3&&(o=!c[0]&&pe(c[1])),o?f?(f.p(c,h),h&3&&C(f,1)):(f=Qn(c),f.c(),C(f,1),f.m(s.parentNode,s)):f&&(we(),L(f,1,1,()=>{f=null}),ye()),c[0]&&c[2].length>0?a?(a.p(c,h),h&5&&C(a,1)):(a=Zn(c),a.c(),C(a,1),a.m(i.parentNode,i)):a&&(we(),L(a,1,1,()=>{a=null}),ye())},i(c){u||(C(e.$$.fragment,c),C(r.$$.fragment,c),C(f),C(a),u=!0)},o(c){L(e.$$.fragment,c),L(r.$$.fragment,c),L(f),L(a),u=!1},d(c){P(e,c),c&&E(t),P(r,c),c&&E(l),f&&f.d(c),c&&E(s),a&&a.d(c),c&&E(i)}}}function Cl(n){let e,t;return e=new Yn({props:{slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p:F,i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Ml(n){let e,t;return e=new bn({props:{limX:[0,6],limY:Ie(n[7],.35),margins:[.25,.65,.25,.25],yLabel:"Coefficient",$$slots:{yaxis:[Cl],default:[vl]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,[l]){const o={};l&128&&(o.limY=Ie(r[7],.35)),l&1049087&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}const El="#c0c0c0";function Al(n,e,t){let r,l,o,s,i,u,{popModel:f}=e,{globalModel:a}=e,{localModel:c}=e,{reset:h}=e,{ready:g=!0}=e;const _=He.plots.SAMPLES[0]+"60",w=He.plots.SAMPLES[0];let m=[],y=[],z=[];function S(){const p=m.ncols;if(p<2)return[];const N=m.t(),b=N.apply(ct,2);return N.subtract(b).apply(at,2).mult((p-1)/p).apply(Math.sqrt)}return n.$$set=p=>{"popModel"in p&&t(11,f=p.popModel),"globalModel"in p&&t(12,a=p.globalModel),"localModel"in p&&t(13,c=p.localModel),"reset"in p&&t(14,h=p.reset),"ready"in p&&t(0,g=p.ready)},n.$$.update=()=>{n.$$.dirty&4096&&t(15,r=gt(.975,a.data.X.nrows-1)),n.$$.dirty&2048&&t(8,l=X.seq(1,f.coeffs.estimate.length).subtract(.25)),n.$$.dirty&2048&&t(7,o=f.coeffs.estimate),n.$$.dirty&4096&&t(3,s=X.seq(1,a.coeffs.estimate.length).add(.25)),n.$$.dirty&4096&&t(6,i=a.coeffs.estimate),n.$$.dirty&24576&&(h||c===void 0)&&(t(1,m=[]),t(2,y=[])),n.$$.dirty&8&&t(5,u=s),n.$$.dirty&8194&&t(1,m=c?m.length===0?xe(c.coeffs.estimate):xe(m,c.coeffs.estimate):[]),n.$$.dirty&32773&&g&&(t(2,y=S()),t(4,z=y.mult(r)),t(1,m=[]))},[g,m,y,s,z,u,i,o,l,_,w,f,a,c,h,r]}class Ll extends ne{constructor(e){super(),te(this,e,Al,Ml,J,{popModel:11,globalModel:12,localModel:13,reset:14,ready:0})}}function Jn(n){let e,t,r,l,o,s,i,u;return e=new Oe({props:{xValues:n[7],yValues:n[8],borderWidth:2,markerSize:1.2,faceColor:n[18]}}),r=new Oe({props:{xValues:n[7],yValues:n[8],borderWidth:2,markerSize:1.2,borderColor:n[17]}}),o=new kt({props:{xValues:n[4],yValues:n[10],lineColor:n[17]}}),i=new vt({props:{textSize:1.05,left:ae(n[6])*.55+fe(n[6])*.45,top:ae(n[15])*.9+fe(n[15])*.1,dx:"1em",dy:"1.35em",elements:n[9]}}),{c(){q(e.$$.fragment),t=B(),q(r.$$.fragment),l=B(),q(o.$$.fragment),s=B(),q(i.$$.fragment)},m(f,a){R(e,f,a),A(f,t,a),R(r,f,a),A(f,l,a),R(o,f,a),A(f,s,a),R(i,f,a),u=!0},p(f,a){const c={};a&128&&(c.xValues=f[7]),a&256&&(c.yValues=f[8]),e.$set(c);const h={};a&128&&(h.xValues=f[7]),a&256&&(h.yValues=f[8]),r.$set(h);const g={};a&16&&(g.xValues=f[4]),a&1024&&(g.yValues=f[10]),o.$set(g);const _={};a&64&&(_.left=ae(f[6])*.55+fe(f[6])*.45),a&32768&&(_.top=ae(f[15])*.9+fe(f[15])*.1),a&512&&(_.elements=f[9]),i.$set(_)},i(f){u||(C(e.$$.fragment,f),C(r.$$.fragment,f),C(o.$$.fragment,f),C(i.$$.fragment,f),u=!0)},o(f){L(e.$$.fragment,f),L(r.$$.fragment,f),L(o.$$.fragment,f),L(i.$$.fragment,f),u=!1},d(f){P(e,f),f&&E(t),P(r,f),f&&E(l),P(o,f),f&&E(s),P(i,f)}}}function zl(n){let e,t,r,l,o,s,i,u,f,a,c,h,g,_;e=new Oe({props:{xValues:n[6],yValues:n[15],borderWidth:1,faceColor:xn,borderColor:xn}}),r=new kt({props:{xValues:n[5],yValues:n[13],lineColor:"#c0c0c0",lineType:3}}),o=new vt({props:{textSize:1.05,left:ae(n[6]),top:fe(n[15]),dx:"1em",dy:"1.35em",elements:n[14]}}),i=new Oe({props:{xValues:n[3],yValues:n[2],borderWidth:1,faceColor:n[16],borderColor:n[16]}}),f=new kt({props:{xValues:n[4],yValues:n[11],lineColor:n[16]}}),c=new vt({props:{textSize:1.05,left:ae(n[6]),top:fe(n[15])-2,dx:"1em",dy:"1.35em",elements:n[12]}});let w=n[0]!==void 0&&n[1]>=0&&Jn(n);return{c(){q(e.$$.fragment),t=B(),q(r.$$.fragment),l=B(),q(o.$$.fragment),s=B(),q(i.$$.fragment),u=B(),q(f.$$.fragment),a=B(),q(c.$$.fragment),h=B(),w&&w.c(),g=ie()},m(m,y){R(e,m,y),A(m,t,y),R(r,m,y),A(m,l,y),R(o,m,y),A(m,s,y),R(i,m,y),A(m,u,y),R(f,m,y),A(m,a,y),R(c,m,y),A(m,h,y),w&&w.m(m,y),A(m,g,y),_=!0},p(m,y){const z={};y&64&&(z.xValues=m[6]),y&32768&&(z.yValues=m[15]),e.$set(z);const S={};y&32&&(S.xValues=m[5]),y&8192&&(S.yValues=m[13]),r.$set(S);const p={};y&64&&(p.left=ae(m[6])),y&32768&&(p.top=fe(m[15])),y&16384&&(p.elements=m[14]),o.$set(p);const N={};y&8&&(N.xValues=m[3]),y&4&&(N.yValues=m[2]),i.$set(N);const b={};y&16&&(b.xValues=m[4]),y&2048&&(b.yValues=m[11]),f.$set(b);const I={};y&64&&(I.left=ae(m[6])),y&32768&&(I.top=fe(m[15])-2),y&4096&&(I.elements=m[12]),c.$set(I),m[0]!==void 0&&m[1]>=0?w?(w.p(m,y),y&3&&C(w,1)):(w=Jn(m),w.c(),C(w,1),w.m(g.parentNode,g)):w&&(we(),L(w,1,1,()=>{w=null}),ye())},i(m){_||(C(e.$$.fragment,m),C(r.$$.fragment,m),C(o.$$.fragment,m),C(i.$$.fragment,m),C(f.$$.fragment,m),C(c.$$.fragment,m),C(w),_=!0)},o(m){L(e.$$.fragment,m),L(r.$$.fragment,m),L(o.$$.fragment,m),L(i.$$.fragment,m),L(f.$$.fragment,m),L(c.$$.fragment,m),L(w),_=!1},d(m){P(e,m),m&&E(t),P(r,m),m&&E(l),P(o,m),m&&E(s),P(i,m),m&&E(u),P(f,m),m&&E(a),P(c,m),m&&E(h),w&&w.d(m),m&&E(g)}}}function Sl(n){let e,t;return e=new ol({props:{slot:"xaxis"}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p:F,i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Nl(n){let e,t;return e=new Yn({props:{slot:"yaxis"}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p:F,i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function Vl(n){let e,t;return e=new bn({props:{limX:Ie(n[6]),limY:Ie(n[15]),margins:[.75,.75,.25,.25],xLabel:"x",yLabel:"y",$$slots:{yaxis:[Nl],xaxis:[Sl],default:[zl]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,[l]){const o={};l&64&&(o.limX=Ie(r[6])),l&32768&&(o.limY=Ie(r[15])),l&8454143&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}const xn="#f0f0f0";function Yl(n,e,t){let r,l,o,s,i,u,f,a,c,h,{popModel:g}=e,{globalModel:_}=e,{localModel:w}=e,{indSeg:m}=e;const y=He.plots.SAMPLES[0]+"70",z=He.plots.SAMPLES[0],S=He.plots.SAMPLES[0]+"70";let p=[],N=[],b=[],I=[];return n.$$set=k=>{"popModel"in k&&t(19,g=k.popModel),"globalModel"in k&&t(20,_=k.globalModel),"localModel"in k&&t(0,w=k.localModel),"indSeg"in k&&t(1,m=k.indSeg)},n.$$.update=()=>{n.$$.dirty&524288&&t(6,r=g.data.X.getcolumn(1)),n.$$.dirty&524288&&t(15,l=g.data.y),n.$$.dirty&64&&t(5,o=X.seq(ae(r),fe(r),1/100)),n.$$.dirty&524288&&t(14,s=Ct(g,"Population model","#909090")),n.$$.dirty&524320&&t(13,i=$e(g,o)),n.$$.dirty&1048576&&t(3,u=_.data.X.getcolumn(1)),n.$$.dirty&1048576&&t(2,f=_.data.y),n.$$.dirty&8&&t(4,a=X.seq(ae(u),fe(u),1/100)),n.$$.dirty&1048576&&t(12,c=Ct(_,"Global model",z+"b0")),n.$$.dirty&1048592&&t(11,h=$e(_,a)),n.$$.dirty&31&&w!==void 0&&(w.data.X.getcolumn(1),w.data.y,t(9,b=m>=0?Ct(w,"Local model",z):""),t(10,I=$e(w,a)),t(7,p=[u.v[m]]),t(8,N=[f.v[m]]))},[w,m,f,u,a,o,r,p,N,b,I,h,c,i,s,l,y,z,S,g,_]}class Il extends ne{constructor(e){super(),te(this,e,Yl,Vl,J,{popModel:19,globalModel:20,localModel:0,indSeg:1})}}const oo="";function Tl(n){let e,t,r,l,o,s,i;function u(a){n[13](a)}let f={disable:n[3]>-1,id:"pDegree",label:"Polynomial",options:Object.keys(n[7])};return n[0]!==void 0&&(f.value=n[0]),e=new qr({props:f}),De.push(()=>br(e,"value",u)),l=new rn({props:{disable:n[3]>-1,id:"runCV",label:"Sample",text:"Take new"}}),l.$on("click",n[14]),s=new rn({props:{disable:n[3]>-1,id:"runCV",label:"CV",text:"Run"}}),s.$on("click",n[15]),{c(){q(e.$$.fragment),r=B(),q(l.$$.fragment),o=B(),q(s.$$.fragment)},m(a,c){R(e,a,c),A(a,r,c),R(l,a,c),A(a,o,c),R(s,a,c),i=!0},p(a,c){const h={};c&8&&(h.disable=a[3]>-1),!t&&c&1&&(t=!0,h.value=a[0],hr(()=>t=!1)),e.$set(h);const g={};c&8&&(g.disable=a[3]>-1),l.$set(g);const _={};c&8&&(_.disable=a[3]>-1),s.$set(_)},i(a){i||(C(e.$$.fragment,a),C(l.$$.fragment,a),C(s.$$.fragment,a),i=!0)},o(a){L(e.$$.fragment,a),L(l.$$.fragment,a),L(s.$$.fragment,a),i=!1},d(a){P(e,a),a&&E(r),P(l,a),a&&E(o),P(s,a)}}}function Rl(n){let e,t,r,l,o,s,i,u,f,a;return r=new Il({props:{indSeg:n[3],localModel:n[4],globalModel:n[6],popModel:n[5]}}),s=new Ll({props:{localModel:n[4],globalModel:n[6],popModel:n[5],reset:n[1],ready:n[2]}}),f=new Sr({props:{$$slots:{default:[Tl]},$$scope:{ctx:n}}}),{c(){e=H("div"),t=H("div"),q(r.$$.fragment),l=B(),o=H("div"),q(s.$$.fragment),i=B(),u=H("div"),q(f.$$.fragment),d(t,"class","app-plot-area svelte-gedthj"),d(o,"class","app-table-area svelte-gedthj"),d(u,"class","app-controls-area svelte-gedthj"),d(e,"class","app-layout svelte-gedthj")},m(c,h){A(c,e,h),D(e,t),R(r,t,null),D(e,l),D(e,o),R(s,o,null),D(e,i),D(e,u),R(f,u,null),a=!0},p(c,h){const g={};h&8&&(g.indSeg=c[3]),h&16&&(g.localModel=c[4]),h&64&&(g.globalModel=c[6]),h&32&&(g.popModel=c[5]),r.$set(g);const _={};h&16&&(_.localModel=c[4]),h&64&&(_.globalModel=c[6]),h&32&&(_.popModel=c[5]),h&2&&(_.reset=c[1]),h&4&&(_.ready=c[2]),s.$set(_);const w={};h&33554441&&(w.$$scope={dirty:h,ctx:c}),f.$set(w)},i(c){a||(C(r.$$.fragment,c),C(s.$$.fragment,c),C(f.$$.fragment,c),a=!0)},o(c){L(r.$$.fragment,c),L(s.$$.fragment,c),L(f.$$.fragment,c),a=!1},d(c){c&&E(e),P(r),P(s),P(f)}}}function Pl(n){let e;return{c(){e=H("div"),e.innerHTML=`<h2>Jackknife resampling for regression coefficients</h2> 
      <p>Jackknife resampling is a way to make an inference (e.g. compute confidence intervals of find a p-value for H0: \u03B2 = 0) for regression coefficients based on full cross-validation. The idea is to estimate a variance of regression coefficients computed for each local model (every time we take one sample out, we compute a new model, which is called <em>local</em>) and then compute
         the standard error for the coefficient based on this variance.</p> 
      <p>In this app population consists of 500 measurements of <em>x</em> and <em>y</em>, where <em>y</em> linearly depends on <em>x</em>. However, if you take a small sample (in this app the sample size is fixed to <em>n</em> = 12), it can have a random non-linear effect in the <em>y</em>(<em>x</em>) relationship, so when this sample is fitted by a polynomial model, the regression coefficients for quadratic or cubic terms will not be zero. But if you use Jackknife, then most of the time it will be able to detect that the estimated coefficients are in fact not significant, so statistically they are not distinguishable from zero.</p> 
      <p>In order to investigate this, set polynomial to <em>cubic</em> and take a sample where the last two regression coefficients will be
         relatively large, so you can see them as small blue bars on the coefficients&#39; plot. Then run the cross-validation procedure and see how all coefficients vary for the local models. At the end you will see errorbars which correspond to 95% confidence intervals and for the non-linear terms, most of the time, the interval will cross zero.</p>`,d(e,"slot","help")},m(t,r){A(t,e,r)},p:F,d(t){t&&E(e)}}}function jl(n){let e,t;return e=new Ar({props:{$$slots:{help:[Pl],default:[Rl]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(r,l){R(e,r,l),t=!0},p(r,[l]){const o={};l&33554559&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}const ql=500,Ke=12,Mt=500,Ol=0,Gl=1,Wl=.5;function Fl(n,e,t){let r,l,o,s="line";const i={line:1,quadratic:2,cubic:3},u=X.randn(Mt),f=X.randn(Mt,Ol,Gl).sort(),a=f.apply((G,U)=>-2+2.5*G).add(u.mult(Wl)),c=le.seq(1,Mt),h=G=>new Promise(U=>setTimeout(U,G));let g=!1,_=!1,w=-1,m=X.fill(NaN,Ke),y,z=[],S=[],p=[];function N(){b(),z=c.shuffle().slice(1,Ke),t(10,S=f.subset(z)),t(11,p=a.subset(z))}function b(){t(1,g=!0),t(2,_=!1),t(4,y=void 0),m=X.fill(NaN,Ke),t(3,w=-1)}async function I(){b();const G=le.seq(1,Ke);for(t(1,g=!1),t(3,w=0);w<Ke;t(3,w++,w)){const U=G.filter(K=>K!==w+1);t(4,y=yt(S.subset(U),p.subset(U),r)),m.v[w]=$e(y,S.subset(w+1)),await h(ql)}t(3,w=-1),t(2,_=!0)}function k(G){return b(),i[G]}N();function v(G){s=G,t(0,s)}const V=()=>N(),O=()=>I();return n.$$.update=()=>{n.$$.dirty&1&&t(12,r=k(s)),n.$$.dirty&7168&&t(6,l=yt(S,p,r)),n.$$.dirty&4096&&t(5,o=yt(f,a,r))},[s,g,_,w,y,o,l,i,N,I,S,p,r,v,V,O]}class Xl extends ne{constructor(e){super(),te(this,e,Fl,jl,J,{})}}new Xl({target:document.getElementById("graasta-app-container")})})();
//# sourceMappingURL=asta-b307.js.map
