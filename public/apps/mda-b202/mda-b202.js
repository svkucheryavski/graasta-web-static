var Tr=Object.defineProperty;var Pr=(we,G,ze)=>G in we?Tr(we,G,{enumerable:!0,configurable:!0,writable:!0,value:ze}):we[G]=ze;var qe=(we,G,ze)=>(Pr(we,typeof G!="symbol"?G+"":G,ze),ze);(function(){"use strict";var we=document.createElement("style");we.textContent=`#graasta-app-container{height:100%!important;width:100%!important}.graasta-app.svelte-zbdjkl.svelte-zbdjkl{font-family:Helvetica,Areal,Verdana,sans-serif;display:block;position:relative;font-size:1em;min-width:800px;min-height:450px;max-height:100%;max-width:100%;aspect-ratio:16/9;width:auto;height:auto;object-fit:contain;box-sizing:border-box;padding:0;margin:0 auto}.graasta-app.svelte-zbdjkl .svelte-zbdjkl{box-sizing:border-box;margin:0;padding:0}.graasta-app.svelte-zbdjkl .svelte-zbdjkl:glbal(.plot){box-shadow:0 0 5px #30303020}.graasta-app.svelte-zbdjkl .content.svelte-zbdjkl{width:100%;height:100%}.helptext.svelte-zbdjkl.svelte-zbdjkl{font-family:Open Sans,sans-serif;position:absolute;top:0;width:0;left:0;bottom:0;z-index:999;background:white;box-sizing:border-box;width:100%;height:100%;padding:1em;margin:0;line-height:1.35em;font-size:1em;color:#303030}.helptext.svelte-zbdjkl h2{padding:1.25em 0 .5em;font-size:1.2em}.helptext.svelte-zbdjkl p{padding:0 0 .5em;line-height:1.5em;font-size:1em}.app-control-block.svelte-1pi0zcj{box-sizing:border-box;width:100%;min-width:200px}.app-control-error.svelte-1pi0zcj{padding:.5em .5em .25em .65em;font-size:.75em;color:#dc143c}fieldset.svelte-1pi0zcj{background:#f4f4f4;margin:0;box-shadow:0 0 2px #30303020;border:none;padding:.5em}legend.svelte-1pi0zcj{color:#606060;float:left;width:100%;display:block;margin:0;padding:.25em 0;font-size:1em;font-weight:700}.app-control.svelte-m62yuw.svelte-m62yuw{font-size:1em;margin:.25em 0 0;padding:.15em .25em;display:flex;align-items:center;justify-content:flex-begin;position:relative}.app-control.svelte-m62yuw>label.svelte-m62yuw{height:1.5em;line-height:1.5em;flex:0 0 16ch;max-width:16ch;user-select:none;-webkit-user-select:none;cursor:default}.app-control.svelte-m62yuw>slot.svelte-m62yuw{width:100%;flex:1 1 auto}.shield.svelte-m62yuw.svelte-m62yuw{display:none}.app-control.disable.svelte-m62yuw>label.svelte-m62yuw{color:#b0b0b0}.app-control.hidden.svelte-m62yuw.svelte-m62yuw{visibility:hidden}.app-control.disable.svelte-m62yuw>.shield.svelte-m62yuw{display:block;background:#ffffff50;position:absolute;top:0;left:0;width:100%;height:100%;z-index:999}button.svelte-176r7j6{height:1.5em;font-size:1em;padding:0 1em;margin:0;color:#606060;background:#e0e0e0;box-shadow:none;border:none;border-radius:3px;white-space:nowrap;user-select:none}button.svelte-176r7j6:hover{color:#fafafa;background:#606060}input.svelte-yqpg3s{display:none}.selector.svelte-yqpg3s{position:relative;box-sizing:border-box;display:inline-block;flex:0 0 auto;background:#e0e0e0;font-size:1em;height:1.5em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yqpg3s{cursor:default;padding:0 .5em;margin:0 1px;color:#606060;transition:background-color .5s ease}.option.selected.svelte-yqpg3s{border-radius:3px;background-color:#606060;color:#fefefe}.datatable__value.svelte-1m7xmmh{vertical-align:middle;padding:.25em .1em;margin:0;border-spacing:0;border-collapse:collapse}.datatable__value_number.svelte-1m7xmmh{text-align:right}.datatable.svelte-1r68t2h{margin:0;border-spacing:0;border-collapse:collapse}.datatable__label.svelte-1r68t2h{vertical-align:middle;padding:.25em .1em;margin:0;border-spacing:0;border-collapse:collapse}.datatable__label.svelte-1r68t2h{font-weight:700;vertical-align:middle}.table-container.svelte-169xeb2{padding:1em}.table-container.svelte-169xeb2 .datatable{width:100%;font-size:.9em}.table-container.svelte-169xeb2 .datatable .datatable__label{text-align:right;border-bottom:1px solid #909090}.table-container.svelte-169xeb2 .datatable tr .datatable__value{border-bottom:1px solid #ffffff}.table-container.svelte-169xeb2 .datatable tr:last-child .datatable__value{font-weight:700}.plot.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-family:Arial,Helvetica,sans-serif;display:grid;grid-template-columns:min-content auto;grid-template-rows:min-content auto min-content;grid-template-areas:". title" "ylab axes" ". xlab";box-sizing:border-box;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0}.plot_small.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:11px}.plot_medium.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:13px}.plot_large.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:16px}.plot_xlarge.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:19px}.plot_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:flex}.plot_error.svelte-1oyr9z6>.axes-wrapper.svelte-1oyr9z6>svg.svelte-1oyr9z6{display:none}.message_error.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.axes-wrapper.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:axes;position:relative;box-sizing:border-box;display:flex;width:100%;height:100%;padding:0;margin:0}.axes.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes-content.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.axes__xlabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:xlab;font-size:1em;font-weight:600;padding:.25em;text-align:center}.axes__ylabel.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{grid-area:ylab;font-size:1em;font-weight:600;padding:.25em;text-align:center;vertical-align:middle;display:flex}.axes__ylabel.svelte-1oyr9z6>span.svelte-1oyr9z6.svelte-1oyr9z6{width:1.5em;line-height:1.5em;display:inline-block;writing-mode:vertical-rl;transform:rotate(180deg)}.axes__title.svelte-1oyr9z6.svelte-1oyr9z6.svelte-1oyr9z6{background:transparent;grid-area:title;font-size:1.3em;font-weight:700;line-height:1.2em;padding:.5em 0;text-align:center}.axis-labels{fill:#303030;font-size:.95em}.labels{fill:#606060;font-size:.9em}.labels{visibility:hidden;transition:visibility .25s linear,opacity .25s linear;opacity:0}text.svelte-131ks7u,text.svelte-131ks7u>tspan{cursor:default;user-select:none;dominant-baseline:middle}text.svelte-12moot9,text.svelte-12moot9>tspan{dominant-baseline:middle;text-anchor:middle;cursor:default;user-select:none}.app-layout.svelte-195ucp3{width:100%;height:100%;position:relative;display:grid;grid-template-areas:". plot . table" ". plot . controls" ". plot . .";grid-template-rows:min-content min-content auto;grid-template-columns:3.5% 56.25% 4.75% 35%}.app-plot-area.svelte-195ucp3{grid-area:plot}.app-table-area.svelte-195ucp3{grid-area:table}.app-controls-area.svelte-195ucp3{padding-top:1em;padding-left:1em;grid-area:controls}
`,document.head.appendChild(we);function G(){}function ze(l,e){for(const t in e)l[t]=e[t];return l}function ht(l){return l()}function dt(){return Object.create(null)}function Ee(l){l.forEach(ht)}function mt(l){return typeof l=="function"}function Z(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function Hn(l){return Object.keys(l).length===0}function Xn(l,...e){if(l==null)return G;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function O(l,e,t){l.$$.on_destroy.push(Xn(e,t))}function ve(l,e,t,n){if(l){const r=gt(l,e,t,n);return l[0](r)}}function gt(l,e,t,n){return l[1]&&n?ze(t.ctx.slice(),l[1](n(e))):t.ctx}function pe(l,e,t,n){if(l[2]&&n){const r=l[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|r[i];return o}return e.dirty|r}return e.dirty}function ye(l,e,t,n,r,o){if(r){const s=gt(e,t,n,o);l.p(s,r)}}function ke(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Y(l,e){l.appendChild(e)}function E(l,e,t){l.insertBefore(e,t||null)}function z(l){l.parentNode&&l.parentNode.removeChild(l)}function fe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function F(l){return document.createElement(l)}function te(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Ce(l){return document.createTextNode(l)}function D(){return Ce(" ")}function re(){return Ce("")}function Le(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function d(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Dn(l){return Array.from(l.childNodes)}function Ne(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function _t(l,e){l.value=e==null?"":e}function bt(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Ae(l,e,t){l.classList[t?"add":"remove"](e)}function Bn(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(l,t,n,e),r}let Fe;function Oe(l){Fe=l}function je(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function Kn(l){je().$$.on_mount.push(l)}function Wn(l){je().$$.on_destroy.push(l)}function xn(){const l=je();return(e,t,{cancelable:n=!1}={})=>{const r=l.$$.callbacks[e];if(r){const o=Bn(e,t,{cancelable:n});return r.slice().forEach(s=>{s.call(l,o)}),!o.defaultPrevented}return!0}}function Qn(l,e){return je().$$.context.set(l,e),e}function Se(l){return je().$$.context.get(l)}function Un(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Te=[],Ge=[],He=[],$e=[],Zn=Promise.resolve();let et=!1;function Jn(){et||(et=!0,Zn.then(wt))}function tt(l){He.push(l)}function $n(l){$e.push(l)}const nt=new Set;let Pe=0;function wt(){if(Pe!==0)return;const l=Fe;do{try{for(;Pe<Te.length;){const e=Te[Pe];Pe++,Oe(e),el(e.$$)}}catch(e){throw Te.length=0,Pe=0,e}for(Oe(null),Te.length=0,Pe=0;Ge.length;)Ge.pop()();for(let e=0;e<He.length;e+=1){const t=He[e];nt.has(t)||(nt.add(t),t())}He.length=0}while(Te.length);for(;$e.length;)$e.pop()();et=!1,nt.clear(),Oe(l)}function el(l){if(l.fragment!==null){l.update(),Ee(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(tt)}}const Xe=new Set;let Me;function he(){Me={r:0,c:[],p:Me}}function de(){Me.r||Ee(Me.c),Me=Me.p}function k(l,e){l&&l.i&&(Xe.delete(l),l.i(e))}function L(l,e,t,n){if(l&&l.o){if(Xe.has(l))return;Xe.add(l),Me.c.push(()=>{Xe.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function tl(l,e){l.d(1),e.delete(l.key)}function nl(l,e,t,n,r,o,s,i,a,f,u,h){let c=l.length,g=o.length,_=c;const b={};for(;_--;)b[l[_].key]=_;const v=[],m=new Map,y=new Map;for(_=g;_--;){const w=h(r,o,_),N=t(w);let M=s.get(N);M?n&&M.p(w,e):(M=f(N,w),M.c()),m.set(N,v[_]=M),N in b&&y.set(N,Math.abs(_-b[N]))}const P=new Set,A=new Set;function R(w){k(w,1),w.m(i,u),s.set(w.key,w),u=w.first,g--}for(;c&&g;){const w=v[g-1],N=l[c-1],M=w.key,p=N.key;w===N?(u=w.first,c--,g--):m.has(p)?!s.has(M)||P.has(M)?R(w):A.has(p)?c--:y.get(M)>y.get(p)?(A.add(M),R(w)):(P.add(p),c--):(a(N,s),c--)}for(;c--;){const w=l[c];m.has(w.key)||a(w,s)}for(;g;)R(v[g-1]);return v}function ll(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function H(l){l&&l.c()}function V(l,e,t,n){const{fragment:r,after_update:o}=l.$$;r&&r.m(e,t),n||tt(()=>{const s=l.$$.on_mount.map(ht).filter(mt);l.$$.on_destroy?l.$$.on_destroy.push(...s):Ee(s),l.$$.on_mount=[]}),o.forEach(tt)}function q(l,e){const t=l.$$;t.fragment!==null&&(Ee(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function rl(l,e){l.$$.dirty[0]===-1&&(Te.push(l),Jn(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function J(l,e,t,n,r,o,s,i=[-1]){const a=Fe;Oe(l);const f=l.$$={fragment:null,ctx:[],props:o,update:G,not_equal:r,bound:dt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:dt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(f.root);let u=!1;if(f.ctx=t?t(l,e.props||{},(h,c,...g)=>{const _=g.length?g[0]:c;return f.ctx&&r(f.ctx[h],f.ctx[h]=_)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](_),u&&rl(l,h)),c}):[],f.update(),u=!0,Ee(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const h=Dn(e.target);f.fragment&&f.fragment.l(h),h.forEach(z)}else f.fragment&&f.fragment.c();e.intro&&k(l.$$.fragment),V(l,e.target,e.anchor,e.customElement),wt()}Oe(a)}class ${$destroy(){q(this,1),this.$destroy=G}$on(e,t){if(!mt(t))return G;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Hn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function vt(l){if(X(l))return vt(l.v);const e=new j.valuesConstructor(l.length-1);for(let t=0;t<l.length-1;t++)e[t]=l[t+1]-l[t];return new j(e)}function Ve(l){if(X(l))return Ve(l.v);let e=0;const t=l.length;for(let n=0;n<t;n++){const r=l[n];e+=r*r}return e}function pt(l,e){return X(l)?pt(l.v,e):Math.sqrt(yt(l,e))}function yt(l,e){if(e===void 0&&(e=!1),X(l))return yt(l.v);const t=lt(l);let n=0;for(let r=0;r<l.length;r++){const o=l[r]-t;n=n+o*o}return n/(e?l.length:l.length-1)}function lt(l){return X(l)?lt(l.v):ie(l)/l.length}function ie(l){if(X(l))return ie(l.v);let e=0;for(let t=0;t<l.length;t++)e=e+l[t];return e}function kt(l){if(X(l))return kt(l.v);let e=1;for(let t=0;t<l.length;t++)e=e*l[t];return e}function De(l){return X(l)||se(l)?l.v[rt(l.v)-1]:l[rt(l)-1]}function rt(l){if(X(l)||se(l))return rt(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]<t&&(e=n,t=l[n-1]);return e}function Be(l){return X(l)||se(l)?l.v[ot(l.v)-1]:l[ot(l)-1]}function ot(l){if(X(l)||se(l))return ot(l.v);let e=1,t=l[0];for(let n=2;n<=l.length;n++)l[n-1]>t&&(e=n,t=l[n-1]);return e}function Ct(l,e=0,t=1){let n=j.zeros(l);for(let r=0;r<l;r++)n.v[r]=e+Math.random()*(t-e);return n}function At(l,e=0,t=1){let n=j.zeros(l);for(let r=0;r<l;r++){const o=Math.sqrt(-2*Math.log(Math.random())),s=2*Math.PI*Math.random();n.v[r]=o*Math.sin(s)*t+e}return n}function zt(l){const e=l.nrows,t=l.ncols;if(e<t){const s=zt(l.subset([],ue.seq(1,e)));return{Q:s.Q,R:sl(s.Q,l)}}let n=oe.eye(e),r=l.t();for(let s=1;s<=t;s++)for(let i=e;i>=s+1;i--){const a=r.v.subarray((i-2)*t,i*t),f=n.v.subarray((i-2)*e,i*e),u=a.slice(),h=f.slice(),[c,g,_]=ol(u[s-1],u[s-1+t]);for(let b=0;b<t;b++)a[b]=u[b]*c+u[b+t]*g,a[b+t]=u[b]*-g+u[b+t]*c,f[b]=h[b]*c+h[b+e]*g,f[b+e]=h[b]*-g+h[b+e]*c;for(let b=t;b<e;b++)f[b]=h[b]*c+h[b+e]*g,f[b+e]=h[b]*-g+h[b+e]*c}const o=ue.seq(1,t);return{Q:e===t?n:n.subset([],o),R:e===t?r.t():r.subset([],o).t()}}function ol(l,e){if(l==0)return[0,1,e];if(Math.abs(l)>Math.abs(e)){const o=e/l,s=Math.sqrt(1+o*o),i=1/s;return[i,o*i,l*s]}const t=l/e,n=Math.sqrt(1+t*t),r=1/n;return[t*r,r,e*n]}function Et(l){return typeof l=="number"}function Lt(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,r=e.nrows;e.ncols;const o=t,s=r,i=n,a=new Float64Array(o*s);for(let f=0;f<i;f++){const u=l.v.subarray(f*t,(f+1)*t),h=e.v.subarray(f*r,(f+1)*r);for(let c=0;c<s;c++){const g=a.subarray(c*o,(c+1)*o);for(let _=0;_<o;_++)g[_]+=u[_]*h[c]}}return new oe(a,o,s)}function sl(l,e){e===void 0&&(e=l);const t=l.nrows,n=l.ncols,r=e.nrows,o=e.ncols,s=n,i=o,a=t,f=new Float64Array(s*i);for(let u=0;u<i;u++){const h=e.v.subarray(u*r,(u+1)*r),c=f.subarray(u*s,(u+1)*s);for(let g=0;g<s;g++){const _=l.v.subarray(g*t,(g+1)*t);let b=0;for(let v=0;v<a;v++)b+=_[v]*h[v];c[g]=b}}return new oe(f,s,i)}function il(...l){if(l.length===1)return l[0];const e=_e(l[0])?l[0].ncols:l[0].length;if(!l.reduce((i,a)=>i&_e(a)?a.ncols===e:a.length===e,!0))throw Error("rbind: all matrices must the same number of columns.");const n=l.reduce((i,a)=>i+(_e(a)?a.nrows:1),0),r=n*e,o=new oe.valuesConstructor(r);let s=0;for(const i of l)o.set(_e(i)?i.t().v:i.v,s),s+=i.v.length;return new oe(o,e,n).t()}function al(...l){if(l.length===1)return l[0];const e=_e(l[0])?l[0].nrows:l[0].length;if(!l.reduce((i,a)=>i&(_e(a)?a.nrows===e:a.length===e),!0))throw Error("cbind: all matrices must the same number of rows.");const n=l.reduce((i,a)=>i+(_e(a)?a.ncols:1),0),r=e*n,o=new oe.valuesConstructor(r);let s=0;for(const i of l)o.set(i.v,s),s+=i.v.length;return new oe(o,e,n)}function St(l,e,t){if(t===void 0){if(e!==l.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new j(l.v)}if(l.v.length!==e*t)throw Error("reshape: provided dimension does not match number of values in the object.");return new oe(l.v,e,t)}function _e(l){return l.constructor===oe}function st(l,e,t){return new oe(new Float64Array(l),e,t)}const I=class{constructor(e,t,n){if(!ArrayBuffer.isView(e)||e.constructor!==I.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(e.length!=t*n)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=t,this.ncols=n}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return I.diagm(this.diag().apply(a=>Math.abs(a)>Number.EPSILON?1/a:x));const n=I.eye(e),r=I.eye(e),o=this.t(),s=o.v[(e-1)*e+(e-1)],i=e-1;for(let a=0;a<e;a++)r.v[i*e+a]=n.v[i*e+a]/s;for(let a=e-2;a>=0;a--){let f=n.getcolumn(a+1);const u=o.getcolref(a+1);for(let h=a+1;h<e;h++){const c=r.getcolumn(h+1);f=f.subtract(c.mult(u[h]))}r.v.set(f.divide(u[a]).v,a*e)}return r.t()}if(this.islowertriangular()){const n=this.diag();if(kt(n)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const r=I.eye(e),o=I.eye(e),s=this.t(),i=0,a=s.v[0];for(let f=0;f<e;f++)o.v[i*e+f]=r.v[i*e+f]/a;for(let f=1;f<e;f++){let u=r.getcolumn(f+1);const h=s.getcolref(f+1);for(let c=0;c<f;c++){const g=o.getcolumn(c+1);u=u.subtract(g.mult(h[c]))}o.v.set(u.divide(h[f]).v,f*e)}return o.t()}const t=zt(this);if(!t.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return t.R.inv().dot(t.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let t=0;t<e;t++)if(Math.abs(this.v[e*this.nrows+t])>I.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let t=e+1;t<this.nrows;t++)if(Math.abs(this.v[e*this.nrows+t])>I.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),t=new Float64Array(e);for(let n=0;n<e;n++)t[n]=this.getcolref(n+1)[n];return new j(t)}t(){const e=this.nrows,t=this.ncols,n=new I.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let r=0;r<this.ncols;r++){const o=this.v.subarray(r*this.nrows,(r+1)*this.nrows);for(let s=0;s<this.nrows;s++)n[s*t+r]=o[s]}return new I(n,t,e)}for(let r=0;r<this.nrows;r++){const o=n.subarray(r*t,(r+1)*t);for(let s=0;s<this.ncols;s++)o[s]=this.v[s*this.nrows+r]}return new I(n,t,e)}dot(e){if(X(e))return new I(ft(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(_e(e))return new I(ft(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,t,n){if(_e(e))return new I(it(this.v,e.v,t),this.nrows,this.ncols);if(Et(e))return new I(at(this.v,e,t),this.nrows,this.ncols);if(!X(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(n===void 0&&(n=e.length===this.ncols?2:1),n===2&&e.length===this.ncols){const r=new I.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(at(this.getcolref(o+1),e.v[o],t),o*this.nrows);return new I(r,this.nrows,this.ncols)}if(n===1&&e.length===this.nrows){const r=new I.valuesConstructor(this.v.length);for(let o=0;o<this.ncols;o++)r.set(it(this.getcolref(o+1),e.v,t),o*this.nrows);return new I(r,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e,t){if(t===void 0&&(t=2),t==2){const n=this.ncols,r=new I.valuesConstructor(n);for(let o=0;o<n;o++)r[o]=e(this.getcolref(o+1));return new j(r)}if(t==1)return this.t().apply(e,2);if(t==0){const n=this.v.length,r=new I.valuesConstructor(n);for(let o=0;o<n;o++)r[o]=e(this.v[o]);return new I(r,this.nrows,this.ncols)}}replace(e,t,n){typeof t=="number"&&(t=[t]),t.length===0&&(t=ue.seq(1,this.nrows)),se(t)||(t=me(t)),typeof n=="number"&&(n=[n]),n.length===0&&(n=ue.seq(1,this.ncols)),se(n)||(n=me(n));const r=t.length,o=n.length;if(De(t)<1||Be(t)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(De(n)<1||Be(n)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==r||e.ncols!==o)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let s=0;s<n.length;s++){const i=e.getcolref(s+1),a=(n.v[s]-1)*this.nrows;for(let f=0;f<t.length;f++){const u=t.v[f];this.v[a+u-1]=i[f]}}return this}copy(){return new I(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const t=new j.valuesConstructor(this.ncols);for(let n=0;n<this.ncols;n++)t[n]=this.getcolref(n+1)[e-1];return new j(t)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new j(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,t){if(typeof e=="number"&&(e=me([e])),typeof t=="number"&&(t=me([t])),Array.isArray(e)&&(e=e.length===0?null:me(e)),Array.isArray(t)&&(t=t.length===0?null:me(t)),e!==null&&!se(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(t!==null&&!se(t))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e===null){const i=t.length,a=this.nrows,f=new I.valuesConstructor(a*i);for(let u=0;u<t.length;u++)f.set(this.v.slice((t.v[u]-1)*this.nrows,t.v[u]*this.nrows),u*this.nrows);return new I(f,a,i)}if(t==null)return this.t().subset(t,e).t();const n=e.length,r=t.length,o=new I.valuesConstructor(n*r);let s=new I.valuesConstructor(n);for(let i=0;i<r;i++){const a=this.v.subarray((t.v[i]-1)*this.nrows,t.v[i]*this.nrows);for(let f=0;f<n;f++)s[f]=a[e.v[f]-1];o.set(s,i*n)}return new I(o,n,r)}toString(e){function t(s,i){return" ".repeat(i-s.length)+s}e===void 0&&(e=2),this.ncols;const n=Math.round(Math.abs(Math.log10(Be(this.v))))+e+3;let r="";const o=this.t();for(let s=1;s<=o.ncols;s++)r+=Array.from(o.getcolref(s)).map(i=>t(i.toFixed(e),n)).join(" ")+`
`;return r}toCSV(e,t,n,r){e===void 0&&(e=","),t===void 0&&(t=e===";"?",":".");const o=r!=null&&r.length>0,s=n!=null&&n.length>0;if(o&&r.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(s&&n.length!==this.ncols+(o?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const i=this.t();let a=s?n.join(e)+`
`:"";for(let f=1;f<=i.ncols;f++)a=a+(o?r[f-1]+e:"")+i.getcolref(f).join(e)+`
`;return a=a.replace(/\./g,t),a}static randn(e,t,n,r){return St(At(e*t,n,r),e,t)}static rand(e,t,n,r){return St(Ct(e*t,n,r),e,t)}static eye(e,t){t===void 0&&(t=e);const n=new Float64Array(e*t);for(let r=0;r<Math.min(e,t);r++)n[r*e+r]=1;return new I(n,e,t)}static diagm(e){if(!X(e))throw Error('diagm: the argument "x" must be a Vector.');const t=e.length,n=new Float64Array(t*t);for(let r=0;r<t;r++)n[r*t+r]=e.v[r];return new I(n,t,t)}static zeros(e,t){return t===void 0&&(t=e),new I(new Float64Array(e*t),e,t)}static ones(e,t){return I.fill(1,e,t)}static fill(e,t,n){n===void 0&&(n=t);const r=new Float64Array(t*n);for(let o=0;o<r.length;o++)r[o]=e;return new I(r,t,n)}static outer(e,t,n){if(Array.isArray(e)&&(e=ne(e)),Array.isArray(t)&&(t=ne(t)),!X(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!X(t))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const r=I.zeros(e.length,t.length);for(let o=0;o<t.length;o++){const s=t.v[o],i=r.getcolref(o+1);for(let a=0;a<e.length;a++)i[a]=n(e.v[a],s)}return r}static parseCSV(e,t,n,r){function o(v){return v.some(m=>Number.isNaN(Number.parseFloat(m.trim())))}t===void 0&&(t=",");const s=t===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let i=e.split(/\n/),a=[],f=0;const u=i[0].split(t);(n||n===void 0&&o(u))&&(a=u,f=1),i=i.filter(v=>v.trim().length>1);let h=[],c=0;r&&(c=1);const g=i.length-f,_=u.length-c;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(_<1)throw Error("Data file should contain at least 1 column with values.");const b=I.zeros(_,g);for(let v=f;v<g+f;v++){const m=i[v].split(t);let y;if(r?(h[v-f]=m[0],y=m.slice(1).map(P=>Number.parseFloat(P.trim().replace(s,".")))):y=m.map(P=>Number.parseFloat(P.trim().replace(s,"."))),y.some(P=>Number.isNaN(P)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(y.length!=_)throw Error("Wrong number of values in row #"+v);b.v.set(new Float64Array(y),(v-f)*_)}return{values:b.t(),header:a,labels:h,sep:t,dec:s}}};let oe=I;qe(oe,"valuesConstructor",Float64Array),qe(oe,"TOLERANCE",Math.pow(10,-9));function X(l){return l.constructor===j}function ne(l){return new j(new Float64Array(l))}const W=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const t=new ue.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=r+1,n=n+1);return new ue(t.subarray(0,n))}filter(e){const t=new W.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=this.v[r],n=n+1);return new W(t.subarray(0,n))}shuffle(){return new W(Pt(this.v))}sort(e){return new W(Rt(this.v,e))}rep(e){return Nt(this,e)}repeach(e){return Tt(this,e)}replace(e,t){typeof t=="number"&&(t=[t]),t.length===0&&(t=ue.seq(1,this.length)),se(t)||(t=me(t));const n=t.length;if(De(t)<1||Be(t)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==n)throw Error('Vector.replace: length of "x" does not match the indices.');for(let r=0;r<t.length;r++){const o=t.v[r];this.v[o-1]=e.v[r]}return this}subset(e){if(typeof e=="number"&&(e=me([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?ue.bool2ind(e):me(e)),!se(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=W.zeros(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");n.v[r]=this.v[e.v[r]-1]}return n}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new W(this.v.slice(e-1,t))}copy(){return new W(this.v.slice())}dot(e){return e===void 0&&(e=this),ft(this.v,e.v,1,this.length,e.length,1)[0]}op(e,t){if(X(e))return new W(it(this.v,e.v,t));if(Et(e))return new W(at(this.v,e,t));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(t,n)=>t+n)}subtract(e){return this.op(e,(t,n)=>t-n)}mult(e){return this.op(e,(t,n)=>t*n)}divide(e){return this.op(e,(t,n)=>t/n)}apply(e){const t=this.v.length,n=W.zeros(t);for(let r=0;r<t;r++)n.v[r]=e(this.v[r]);return n}static c(...e){if(e.length===1)return e[0];const t=e.reduce((o,s)=>o+(typeof s=="number"?1:s.length),0),n=new W.valuesConstructor(t);let r=0;for(const o of e)typeof o=="number"?(n[r]=o,r+=1):(n.set(X(o)?o.v:new W.valuesConstructor(o),r),r+=typeof o=="number"?1:o.length);return new W(n)}static seq(e,t,n){return Mt(e,t,n,W)}static randn(e,t,n){return At(e,t,n)}static rand(e,t,n){return Ct(e,t,n)}static zeros(e){return new W(new W.valuesConstructor(e))}static ones(e){return W.fill(1,e)}static fill(e,t){const n=new W.valuesConstructor(t);for(let r=0;r<n.length;r++)n[r]=e;return new W(n)}};let j=W;qe(j,"valuesConstructor",Float64Array);function se(l){return l.constructor===ue}function me(l){return new ue(new Int32Array(l))}const le=class{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const t=new le.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=r+1,n=n+1);return new le(t.subarray(0,n))}filter(e){const t=new le.valuesConstructor(this.length);let n=0;for(let r=0;r<this.length;r++)e(this.v[r],r)&&(t[n]=this.v[r],n=n+1);return new le(t.subarray(0,n))}shuffle(){return new le(Pt(this.v))}sort(e){return new le(Rt(this.v,e))}rep(e){return Nt(this,e)}repeach(e){return Tt(this,e)}subset(e){if(typeof e=="number"&&(e=me([e])),Array.isArray(e)&&(e=me(e)),!se(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const t=e.length,n=new le.valuesConstructor(t);for(let r=0;r<t;r++){if(e.v[r]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[r]>this.length)throw Error("subset: index exceeds the length of the vector.");n[r]=this.v[e.v[r]-1]}return new le(n)}slice(e,t){if(e===null&&(e=1),t==null&&(t=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(t>this.length)throw Error("slice: index exceeds the length of the vector.");if(t<e)throw Error('slice: "end" must not be smaller than "start".');return new le(this.v.slice(e-1,t))}static seq(e,t,n){return Mt(e,t,n,le)}static ones(e){return le.fill(1,e)}static fill(e,t){const n=new le.valuesConstructor(t);for(let r=0;r<n.length;r++)n[r]=e;return new le(n)}static bool2ind(e){let t=0;const n=new le.valuesConstructor(e.length);for(let r=0;r<e.length;r++)e[r]&&(n[t]=r+1,t=t+1);return new le(n.subarray(0,t))}};let ue=le;qe(ue,"valuesConstructor",Int32Array);function Mt(l,e,t,n){t===void 0&&(t=l<=e?1:-1);const r=Math.floor((e-l)/t)+1;if(r<1)throw Error("seq: wrong combination of parameters.");const o=new n.valuesConstructor(r);for(let s=0;s<r;s++)o[s]=l+s*t;return new n(o)}function Nt(l,e){const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let r=1;r<=e;r++)for(let o=0;o<l.length;o++)n[(r-1)*l.length+o]=l.v[o];return new l.constructor(n)}function Tt(l,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const t=l.length*e,n=new l.constructor.valuesConstructor(t);for(let r=0;r<l.length;r++)for(let o=0;o<e;o++)n[r*e+o]=l.v[r];return new l.constructor(n)}function it(l,e,t){if(l.length!==e.length)throw error("_opvv: arrays sizes do not match.");if(l.constructor!==e.constructor)throw error("_opvv: array types do not match.");const n=new l.constructor(l.length);for(let r=0;r<l.length;r++)n[r]=t(l[r],e[r]);return n}function at(l,e,t){const n=new l.constructor(l.length);for(let r=0;r<l.length;r++)n[r]=t(l[r],e);return n}function ft(l,e,t,n,r,o){if(n!==r)throw Error("_dot: matrix dimensions do not much.");const s=t,i=o,a=n,f=new l.constructor(s*i);for(let u=0;u<i;u++){const h=e.subarray(u*r,(u+1)*r),c=f.subarray(u*s,(u+1)*s);for(let g=0;g<a;g++){const _=h[g],b=l.subarray(g*t,(g+1)*t);for(let v=0;v<s;v++)c[v]+=b[v]*_}}return f}function Pt(l){let e=l.slice(),t=e.length,n,r;for(;t;)r=Math.floor(Math.random()*t--),n=e[t],e[t]=e[r],e[r]=n;return e}function Rt(l,e=!1){return e?l.slice().sort((t,n)=>n-t):l.slice().sort((t,n)=>t-n)}function fl(l,e,t,n){e===void 0&&(e=!0),t===void 0&&(t=!1),n===void 0&&(n=!1);function r(a,f,u,h){if(typeof f=="boolean")return f?a.apply(u,2):ne([h]).rep(a.ncols);if(!X(f))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(f.length!==a.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return f}const o=r(l,e,lt,0),s=r(l,t,pt,1),i=oe.zeros(l.nrows,l.ncols);for(let a=1;a<=l.ncols;a++){const f=l.getcolref(a),u=i.getcolref(a),h=o.v[a-1],c=1/s.v[a-1];for(let g=0;g<l.nrows;g++)u[g]=(f[g]-h)*c}return n?[i,o,s]:i}const Rr="",ul=l=>({}),It=l=>({});function Yt(l){let e,t;const n=l[3].help,r=ve(n,l,l[2],It);return{c(){e=F("div"),r&&r.c(),d(e,"class","helptext svelte-zbdjkl")},m(o,s){E(o,e,s),r&&r.m(e,null),t=!0},p(o,s){r&&r.p&&(!t||s&4)&&ye(r,n,o,o[2],t?pe(n,o[2],s,ul):ke(o[2]),It)},i(o){t||(k(r,o),t=!0)},o(o){L(r,o),t=!1},d(o){o&&z(e),r&&r.d(o)}}}function cl(l){let e,t,n,r,o,s;const i=l[3].default,a=ve(i,l,l[2],null);let f=l[0]&&Yt(l);return{c(){e=F("main"),t=F("div"),a&&a.c(),n=D(),f&&f.c(),d(t,"class","content svelte-zbdjkl"),d(e,"class","graasta-app svelte-zbdjkl")},m(u,h){E(u,e,h),Y(e,t),a&&a.m(t,null),Y(e,n),f&&f.m(e,null),r=!0,o||(s=Le(window,"keypress",l[1]),o=!0)},p(u,[h]){a&&a.p&&(!r||h&4)&&ye(a,i,u,u[2],r?pe(i,u[2],h,null):ke(u[2]),null),u[0]?f?(f.p(u,h),h&1&&k(f,1)):(f=Yt(u),f.c(),k(f,1),f.m(e,null)):f&&(he(),L(f,1,1,()=>{f=null}),de())},i(u){r||(k(a,u),k(f),r=!0)},o(u){L(a,u),L(f),r=!1},d(u){u&&z(e),a&&a.d(u),f&&f.d(),o=!1,s()}}}function hl(l,e,t){let{$$slots:n={},$$scope:r}=e,o=!1;const s=()=>t(0,o=!o),i=a=>{a.key==="h"&&s()};return l.$$set=a=>{"$$scope"in a&&t(2,r=a.$$scope)},[o,i,r,n]}class dl extends ${constructor(e){super(),J(this,e,hl,cl,Z,{})}}const Ir="";function Ft(l){let e,t;return{c(){e=F("legend"),t=Ce(l[1]),d(e,"class","svelte-1pi0zcj")},m(n,r){E(n,e,r),Y(e,t)},p(n,r){r&2&&Ne(t,n[1])},d(n){n&&z(e)}}}function Ot(l){let e,t;return{c(){e=F("div"),t=Ce(l[0]),d(e,"class","app-control-error svelte-1pi0zcj")},m(n,r){E(n,e,r),Y(e,t)},p(n,r){r&1&&Ne(t,n[0])},d(n){n&&z(e)}}}function ml(l){let e,t,n,r,o=l[1]!==""&&Ft(l);const s=l[3].default,i=ve(s,l,l[2],null);let a=l[0]&&Ot(l);return{c(){e=F("fieldset"),o&&o.c(),t=D(),i&&i.c(),n=D(),a&&a.c(),d(e,"class","app-control-block svelte-1pi0zcj")},m(f,u){E(f,e,u),o&&o.m(e,null),Y(e,t),i&&i.m(e,null),Y(e,n),a&&a.m(e,null),r=!0},p(f,[u]){f[1]!==""?o?o.p(f,u):(o=Ft(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),i&&i.p&&(!r||u&4)&&ye(i,s,f,f[2],r?pe(s,f[2],u,null):ke(f[2]),null),f[0]?a?a.p(f,u):(a=Ot(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){r||(k(i,f),r=!0)},o(f){L(i,f),r=!1},d(f){f&&z(e),o&&o.d(),i&&i.d(f),a&&a.d()}}}function gl(l,e,t){let{$$slots:n={},$$scope:r}=e,{errormsg:o=void 0}=e,{legend:s=""}=e;return l.$$set=i=>{"errormsg"in i&&t(0,o=i.errormsg),"legend"in i&&t(1,s=i.legend),"$$scope"in i&&t(2,r=i.$$scope)},[o,s,r,n]}class _l extends ${constructor(e){super(),J(this,e,gl,ml,Z,{errormsg:0,legend:1})}}const Yr="";function bl(l){let e,t,n,r,o,s;const i=l[5].default,a=ve(i,l,l[4],null);return{c(){e=F("div"),t=F("div"),n=D(),r=F("label"),o=D(),a&&a.c(),d(t,"class","shield svelte-m62yuw"),d(r,"for",l[0]),d(r,"class","svelte-m62yuw"),d(e,"class","app-control svelte-m62yuw"),Ae(e,"hidden",l[3]),Ae(e,"disable",l[2])},m(f,u){E(f,e,u),Y(e,t),Y(e,n),Y(e,r),r.innerHTML=l[1],Y(e,o),a&&a.m(e,null),s=!0},p(f,[u]){(!s||u&2)&&(r.innerHTML=f[1]),(!s||u&1)&&d(r,"for",f[0]),a&&a.p&&(!s||u&16)&&ye(a,i,f,f[4],s?pe(i,f[4],u,null):ke(f[4]),null),(!s||u&8)&&Ae(e,"hidden",f[3]),(!s||u&4)&&Ae(e,"disable",f[2])},i(f){s||(k(a,f),s=!0)},o(f){L(a,f),s=!1},d(f){f&&z(e),a&&a.d(f)}}}function wl(l,e,t){let{$$slots:n={},$$scope:r}=e,{id:o}=e,{label:s}=e,{disable:i=!1}=e,{hidden:a=!1}=e;return l.$$set=f=>{"id"in f&&t(0,o=f.id),"label"in f&&t(1,s=f.label),"disable"in f&&t(2,i=f.disable),"hidden"in f&&t(3,a=f.hidden),"$$scope"in f&&t(4,r=f.$$scope)},[o,s,i,a,r,n]}class jt extends ${constructor(e){super(),J(this,e,wl,bl,Z,{id:0,label:1,disable:2,hidden:3})}}const Fr="";function vl(l){let e,t,n,r;return{c(){e=F("button"),t=Ce(l[2]),d(e,"class","svelte-176r7j6")},m(o,s){E(o,e,s),Y(e,t),n||(r=Le(e,"click",l[5]),n=!0)},p(o,s){s&4&&Ne(t,o[2])},d(o){o&&z(e),n=!1,r()}}}function pl(l){let e,t;return e=new jt({props:{id:l[0],label:l[1],disable:l[3],hidden:l[4],$$slots:{default:[vl]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,[r]){const o={};r&1&&(o.id=n[0]),r&2&&(o.label=n[1]),r&8&&(o.disable=n[3]),r&16&&(o.hidden=n[4]),r&68&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function yl(l,e,t){let{id:n}=e,{label:r}=e,{text:o}=e,{disable:s=!1}=e,{hidden:i=!1}=e;function a(f){Un.call(this,l,f)}return l.$$set=f=>{"id"in f&&t(0,n=f.id),"label"in f&&t(1,r=f.label),"text"in f&&t(2,o=f.text),"disable"in f&&t(3,s=f.disable),"hidden"in f&&t(4,i=f.hidden)},[n,r,o,s,i,a]}class kl extends ${constructor(e){super(),J(this,e,yl,pl,Z,{id:0,label:1,text:2,disable:3,hidden:4})}}const Or="";function Gt(l,e,t){const n=l.slice();return n[9]=e[t],n}function Vt(l,e){let t,n=e[9]+"",r,o,s;function i(){return e[6](e[9])}function a(){return e[7](e[9])}return{key:l,first:null,c(){t=F("div"),r=Ce(n),d(t,"class","option svelte-yqpg3s"),Ae(t,"selected",e[9]==e[0]),this.first=t},m(f,u){E(f,t,u),Y(t,r),o||(s=[Le(t,"click",i),Le(t,"keydown",a)],o=!0)},p(f,u){e=f,u&8&&n!==(n=e[9]+"")&&Ne(r,n),u&9&&Ae(t,"selected",e[9]==e[0])},d(f){f&&z(t),o=!1,Ee(s)}}}function Cl(l){let e,t=[],n=new Map,r,o,s,i,a=l[3];const f=u=>u[9];for(let u=0;u<a.length;u+=1){let h=Gt(l,a,u),c=f(h);n.set(c,t[u]=Vt(c,h))}return{c(){e=F("div");for(let u=0;u<t.length;u+=1)t[u].c();r=D(),o=F("input"),d(e,"class","selector svelte-yqpg3s"),d(o,"name",l[1]),d(o,"class","svelte-yqpg3s")},m(u,h){E(u,e,h);for(let c=0;c<t.length;c+=1)t[c].m(e,null);E(u,r,h),E(u,o,h),_t(o,l[0]),s||(i=Le(o,"input",l[8]),s=!0)},p(u,h){h&9&&(a=u[3],t=nl(t,h,f,1,u,a,n,e,tl,Vt,null,Gt)),h&2&&d(o,"name",u[1]),h&1&&o.value!==u[0]&&_t(o,u[0])},d(u){u&&z(e);for(let h=0;h<t.length;h+=1)t[h].d();u&&z(r),u&&z(o),s=!1,i()}}}function Al(l){let e,t;return e=new jt({props:{id:l[1],label:l[2],disable:l[4],hidden:l[5],$$slots:{default:[Cl]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,[r]){const o={};r&2&&(o.id=n[1]),r&4&&(o.label=n[2]),r&16&&(o.disable=n[4]),r&32&&(o.hidden=n[5]),r&4107&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function zl(l,e,t){let{id:n}=e,{label:r}=e,{options:o}=e,{value:s=o[0]}=e,{disable:i=!1}=e,{hidden:a=!1}=e;const f=c=>t(0,s=c),u=c=>t(0,s=c);function h(){s=this.value,t(0,s)}return l.$$set=c=>{"id"in c&&t(1,n=c.id),"label"in c&&t(2,r=c.label),"options"in c&&t(3,o=c.options),"value"in c&&t(0,s=c.value),"disable"in c&&t(4,i=c.disable),"hidden"in c&&t(5,a=c.hidden)},[s,n,r,o,i,a,f,u,h]}class El extends ${constructor(e){super(),J(this,e,zl,Al,Z,{id:1,label:2,options:3,value:0,disable:4,hidden:5})}}const jr="";function qt(l,e,t){const n=l.slice();return n[2]=e[t],n}function Ht(l,e,t){const n=l.slice();return n[2]=e[t],n}function Ll(l){let e,t=l[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=Xt(qt(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);E(r,e,o)},p(r,o){if(o&1){t=r[0];let s;for(s=0;s<t.length;s+=1){const i=qt(r,t,s);n[s]?n[s].p(i,o):(n[s]=Xt(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){fe(n,r),r&&z(e)}}}function Sl(l){let e,t=l[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=Dt(Ht(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);E(r,e,o)},p(r,o){if(o&3){t=r[0];let s;for(s=0;s<t.length;s+=1){const i=Ht(r,t,s);n[s]?n[s].p(i,o):(n[s]=Dt(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){fe(n,r),r&&z(e)}}}function Xt(l){let e,t=l[2]+"";return{c(){e=F("td"),d(e,"class","datatable__value datatable__value_text svelte-1m7xmmh")},m(n,r){E(n,e,r),e.innerHTML=t},p(n,r){r&1&&t!==(t=n[2]+"")&&(e.innerHTML=t)},d(n){n&&z(e)}}}function Dt(l){let e,t=(isNaN(l[2])?"":l[2].toFixed(l[1]))+"",n;return{c(){e=F("td"),n=Ce(t),d(e,"class","datatable__value datatable__value_number svelte-1m7xmmh")},m(r,o){E(r,e,o),Y(e,n)},p(r,o){o&3&&t!==(t=(isNaN(r[2])?"":r[2].toFixed(r[1]))+"")&&Ne(n,t)},d(r){r&&z(e)}}}function Ml(l){let e;function t(o,s){return o[1]>=0?Sl:Ll}let n=t(l),r=n(l);return{c(){r.c(),e=re()},m(o,s){r.m(o,s),E(o,e,s)},p(o,[s]){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},i:G,o:G,d(o){r.d(o),o&&z(e)}}}function Nl(l,e,t){let{values:n}=e,{decNum:r}=e;return l.$$set=o=>{"values"in o&&t(0,n=o.values),"decNum"in o&&t(1,r=o.decNum)},[n,r]}class Bt extends ${constructor(e){super(),J(this,e,Nl,Ml,Z,{values:0,decNum:1})}}const Gr="";function Kt(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function Wt(l,e,t){const n=l.slice();return n[8]=e[t]._,n[5]=e[t].values,n[7]=t,n}function xt(l,e,t){const n=l.slice();return n[4]=e[t].label,n[5]=e[t].values,n}function Qt(l,e,t){const n=l.slice();return n[4]=e[t].label,n[5]=e[t].values,n[7]=t,n}function Tl(l){let e,t,n,r,o=l[0],s=[];for(let u=0;u<o.length;u+=1)s[u]=Ut(xt(l,o,u));let i=Array(l[0][0].values.length),a=[];for(let u=0;u<i.length;u+=1)a[u]=Jt(Kt(l,i,u));const f=u=>L(a[u],1,1,()=>{a[u]=null});return{c(){e=F("tr");for(let u=0;u<s.length;u+=1)s[u].c();t=D();for(let u=0;u<a.length;u+=1)a[u].c();n=re(),d(e,"class","datatable__row")},m(u,h){E(u,e,h);for(let c=0;c<s.length;c+=1)s[c].m(e,null);E(u,t,h);for(let c=0;c<a.length;c+=1)a[c].m(u,h);E(u,n,h),r=!0},p(u,h){if(h&1){o=u[0];let c;for(c=0;c<o.length;c+=1){const g=xt(u,o,c);s[c]?s[c].p(g,h):(s[c]=Ut(g),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}if(h&5){i=Array(u[0][0].values.length);let c;for(c=0;c<i.length;c+=1){const g=Kt(u,i,c);a[c]?(a[c].p(g,h),k(a[c],1)):(a[c]=Jt(g),a[c].c(),k(a[c],1),a[c].m(n.parentNode,n))}for(he(),c=i.length;c<a.length;c+=1)f(c);de()}},i(u){if(!r){for(let h=0;h<i.length;h+=1)k(a[h]);r=!0}},o(u){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)L(a[h]);r=!1},d(u){u&&z(e),fe(s,u),u&&z(t),fe(a,u),u&&z(n)}}}function Pl(l){let e,t,n=l[0],r=[];for(let s=0;s<n.length;s+=1)r[s]=$t(Qt(l,n,s));const o=s=>L(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=re()},m(s,i){for(let a=0;a<r.length;a+=1)r[a].m(s,i);E(s,e,i),t=!0},p(s,i){if(i&5){n=s[0];let a;for(a=0;a<n.length;a+=1){const f=Qt(s,n,a);r[a]?(r[a].p(f,i),k(r[a],1)):(r[a]=$t(f),r[a].c(),k(r[a],1),r[a].m(e.parentNode,e))}for(he(),a=n.length;a<r.length;a+=1)o(a);de()}},i(s){if(!t){for(let i=0;i<n.length;i+=1)k(r[i]);t=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)L(r[i]);t=!1},d(s){fe(r,s),s&&z(e)}}}function Ut(l){let e,t=l[4]+"";return{c(){e=F("td"),d(e,"class","datatable__label svelte-1r68t2h")},m(n,r){E(n,e,r),e.innerHTML=t},p(n,r){r&1&&t!==(t=n[4]+"")&&(e.innerHTML=t)},d(n){n&&z(e)}}}function Zt(l){let e,t;return e=new Bt({props:{values:[X(l[5])||se(l[5])?l[5].v[l[10]]:l[5][l[10]]],decNum:l[2][l[7]]}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const o={};r&1&&(o.values=[X(n[5])||se(n[5])?n[5].v[n[10]]:n[5][n[10]]]),r&4&&(o.decNum=n[2][n[7]]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Jt(l){let e,t,n,r=l[0],o=[];for(let i=0;i<r.length;i+=1)o[i]=Zt(Wt(l,r,i));const s=i=>L(o[i],1,1,()=>{o[i]=null});return{c(){e=F("tr");for(let i=0;i<o.length;i+=1)o[i].c();t=D(),d(e,"class","datatable__row")},m(i,a){E(i,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);Y(e,t),n=!0},p(i,a){if(a&5){r=i[0];let f;for(f=0;f<r.length;f+=1){const u=Wt(i,r,f);o[f]?(o[f].p(u,a),k(o[f],1)):(o[f]=Zt(u),o[f].c(),k(o[f],1),o[f].m(e,t))}for(he(),f=r.length;f<o.length;f+=1)s(f);de()}},i(i){if(!n){for(let a=0;a<r.length;a+=1)k(o[a]);n=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)L(o[a]);n=!1},d(i){i&&z(e),fe(o,i)}}}function $t(l){let e,t,n=l[4]+"",r,o,s,i;return o=new Bt({props:{values:X(l[5])||se(l[5])?l[5].v:l[5],decNum:l[2][l[7]]}}),{c(){e=F("tr"),t=F("td"),r=D(),H(o.$$.fragment),s=D(),d(t,"class","datatable__label svelte-1r68t2h"),d(e,"class","datatable__row")},m(a,f){E(a,e,f),Y(e,t),t.innerHTML=n,Y(e,r),V(o,e,null),Y(e,s),i=!0},p(a,f){(!i||f&1)&&n!==(n=a[4]+"")&&(t.innerHTML=n);const u={};f&1&&(u.values=X(a[5])||se(a[5])?a[5].v:a[5]),f&4&&(u.decNum=a[2][a[7]]),o.$set(u)},i(a){i||(k(o.$$.fragment,a),i=!0)},o(a){L(o.$$.fragment,a),i=!1},d(a){a&&z(e),q(o)}}}function Rl(l){let e,t,n,r;const o=[Pl,Tl],s=[];function i(a,f){return a[1]?0:1}return t=i(l),n=s[t]=o[t](l),{c(){e=F("table"),n.c(),d(e,"class","datatable svelte-1r68t2h")},m(a,f){E(a,e,f),s[t].m(e,null),r=!0},p(a,[f]){let u=t;t=i(a),t===u?s[t].p(a,f):(he(),L(s[u],1,1,()=>{s[u]=null}),de(),n=s[t],n?n.p(a,f):(n=s[t]=o[t](a),n.c()),k(n,1),n.m(e,null))},i(a){r||(k(n),r=!0)},o(a){L(n),r=!1},d(a){a&&z(e),s[t].d()}}}function Il(l,e,t){let{variables:n=[]}=e,{horizontal:r=!1}=e,{decNum:o=void 0}=e;function s(i){const a=Math.log10(De(vt(i).map(f=>Math.abs(f))));return Math.abs(a<0?Math.floor(a):Math.ceil(a))}return l.$$set=i=>{"variables"in i&&t(0,n=i.variables),"horizontal"in i&&t(1,r=i.horizontal),"decNum"in i&&t(2,o=i.decNum)},l.$$.update=()=>{l.$$.dirty&5&&o===void 0&&n.map(i=>s(i.values))},[n,r,o]}class Yl extends ${constructor(e){super(),J(this,e,Il,Rl,Z,{variables:0,horizontal:1,decNum:2})}}const Vr="";function Fl(l){let e,t,n;return t=new Yl({props:{variables:[{label:"x<sub>1</sub>",values:j.c(l[2],ie(l[2]))},{label:"x<sub>2</sub>",values:j.c(l[1],ie(l[1]))},{label:"t",values:j.c(l[0],ie(l[0]))},{label:"x<sub>1</sub>t",values:j.c(l[4],ie(l[4]))},{label:"x<sub>2</sub>t",values:j.c(l[3],ie(l[3]))}],decNum:[2,2,2,3,3],horizontal:!1}}),{c(){e=F("div"),H(t.$$.fragment),d(e,"class","table-container svelte-169xeb2")},m(r,o){E(r,e,o),V(t,e,null),n=!0},p(r,[o]){const s={};o&31&&(s.variables=[{label:"x<sub>1</sub>",values:j.c(r[2],ie(r[2]))},{label:"x<sub>2</sub>",values:j.c(r[1],ie(r[1]))},{label:"t",values:j.c(r[0],ie(r[0]))},{label:"x<sub>1</sub>t",values:j.c(r[4],ie(r[4]))},{label:"x<sub>2</sub>t",values:j.c(r[3],ie(r[3]))}]),t.$set(s)},i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){L(t.$$.fragment,r),n=!1},d(r){r&&z(e),q(t)}}}function Ol(l,e,t){let n,r,o,s,i,{X:a}=e,{T:f}=e;return l.$$set=u=>{"X"in u&&t(5,a=u.X),"T"in u&&t(6,f=u.T)},l.$$.update=()=>{l.$$.dirty&32&&t(2,n=a.getcolumn(1)),l.$$.dirty&32&&t(1,r=a.getcolumn(2)),l.$$.dirty&64&&t(0,o=f.getcolumn(1)),l.$$.dirty&5&&t(4,s=n.mult(o)),l.$$.dirty&3&&t(3,i=r.mult(o))},[o,r,n,i,s,a,f]}class jl extends ${constructor(e){super(),J(this,e,Ol,Fl,Z,{X:5,T:6})}}const Re=[];function Ie(l,e=G){let t;const n=new Set;function r(i){if(Z(l,i)&&(l=i,t)){const a=!Re.length;for(const f of n)f[1](),Re.push(f,l);if(a){for(let f=0;f<Re.length;f+=2)Re[f][0](Re[f+1]);Re.length=0}}}function o(i){r(i(l))}function s(i,a=G){const f=[i,a];return n.add(f),n.size===1&&(t=e(r)||G),i(l),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:r,update:o,subscribe:s}}function Ye(l,e){if(Array.isArray(l)&&(l=ne(l)),!X(l))throw Error(e+": coordinates must be provided as array or instance of Vector class.");if(l.length<1)throw Error(e+": vector with coordinates is empty.");return l}function en(l,e,t,n=!0){if(l!==void 0){if(Array.isArray(l)&&(l=ne(l)),!X(l))throw Error("getAxisTicks: axis ticks must be provided as an array or as a vector.");return l.filter(f=>f>=e[0]&f<=e[1])}if(typeof e!="object"||e[0]===void 0||e[1]===void 0)return;const r=(e[1]-e[0])/50,o=tn(e[1]-e[0]-1*r,n),s=tn(o/(t-1),n),i=Math.ceil((e[0]+r)/s)*s,a=Math.floor((e[1]-r)/s)*s;if(t=Math.round((a-i+1)/s)+1,l=j.seq(i,a,s),Math.abs(s)<1){const f=Math.pow(10,1+Math.round(-Math.log10(s)));l=l.apply(u=>Math.round((u+Number.EPSILON)*f)/f)}return l.filter(f=>f>=e[0]&f<=e[1])}function tn(l,e){const t=Math.floor(Math.log10(l)),n=l/Math.pow(10,t);let r;return e?n<1.5?r=1:n<3?r=2:n<7?r=5:r=10:n<=1?r=1:n<=2?r=2:n<=5?r=5:r=10,r*Math.pow(10,t)}function Gl(l){return Math.round(l*10)/10}function Vl(l,e){return e<300.2||l<300.2?"small":e<600.2||l<600.2?"medium":e<850.2||l<850.2?"large":"xlarge"}const qr="",ql=l=>({}),nn=l=>({}),Hl=l=>({}),ln=l=>({}),Xl=l=>({}),rn=l=>({});function on(l){let e;return{c(){e=F("div"),d(e,"class","axes__title svelte-1oyr9z6")},m(t,n){E(t,e,n),e.innerHTML=l[0]},p(t,n){n[0]&1&&(e.innerHTML=t[0])},d(t){t&&z(e)}}}function sn(l){let e,t;return{c(){e=F("div"),t=F("span"),d(t,"class","svelte-1oyr9z6"),d(e,"class","axes__ylabel svelte-1oyr9z6")},m(n,r){E(n,e,r),Y(e,t),t.innerHTML=l[2]},p(n,r){r[0]&4&&(t.innerHTML=n[2])},d(n){n&&z(e)}}}function an(l){let e,t;return{c(){e=F("div"),t=F("span"),d(e,"class","axes__xlabel svelte-1oyr9z6")},m(n,r){E(n,e,r),Y(e,t),t.innerHTML=l[1]},p(n,r){r[0]&2&&(t.innerHTML=n[1])},d(n){n&&z(e)}}}function fn(l){let e;return{c(){e=F("p"),e.innerHTML=`Axes component was not properly initialized. <br/>
      Check that you defined axes limits and margins correctly.`,d(e,"class","message_error svelte-1oyr9z6")},m(t,n){E(t,e,n)},d(t){t&&z(e)}}}function Dl(l){let e,t,n,r,o,s,i,a,f,u,h,c,g,_,b,v,m,y,P,A=l[0]!==""&&on(l),R=l[2]!==""&&sn(l),w=l[1]!==""&&an(l);const N=l[28].xaxis,M=ve(N,l,l[27],rn),p=l[28].yaxis,T=ve(p,l,l[27],ln),be=l[28].default,Q=ve(be,l,l[27],null),ae=l[28].box,B=ve(ae,l,l[27],nn);let ee=!l[3]&&fn();return{c(){e=F("div"),A&&A.c(),t=D(),R&&R.c(),n=D(),w&&w.c(),r=D(),o=F("div"),s=te("svg"),i=te("defs"),a=te("clipPath"),f=te("rect"),M&&M.c(),T&&T.c(),_=te("g"),Q&&Q.c(),B&&B.c(),b=D(),ee&&ee.c(),bt(f,"pointer-events","none"),bt(f,"fill","red"),d(f,"fill","red"),d(f,"x",u=l[8][0]),d(f,"y",h=l[7][1]),d(f,"width",c=l[8][1]-l[8][0]),d(f,"height",g=l[7][0]-l[7][1]),d(a,"id",l[9]),d(_,"class","axes-content svelte-1oyr9z6"),d(_,"clip-path","url(#"+l[9]+")"),d(s,"preserveAspectRatio","none"),d(s,"class","axes svelte-1oyr9z6"),d(o,"class","axes-wrapper svelte-1oyr9z6"),d(e,"class",v="plot "+("plot_"+l[4])+" svelte-1oyr9z6"),Ae(e,"plot_error",!l[3])},m(S,K){E(S,e,K),A&&A.m(e,null),Y(e,t),R&&R.m(e,null),Y(e,n),w&&w.m(e,null),Y(e,r),Y(e,o),Y(o,s),Y(s,i),Y(i,a),Y(a,f),M&&M.m(s,null),T&&T.m(s,null),Y(s,_),Q&&Q.m(_,null),B&&B.m(s,null),Y(o,b),ee&&ee.m(o,null),l[29](o),l[30](e),m=!0,y||(P=[Le(s,"click",l[10]),Le(s,"keydown",l[10])],y=!0)},p(S,K){S[0]!==""?A?A.p(S,K):(A=on(S),A.c(),A.m(e,t)):A&&(A.d(1),A=null),S[2]!==""?R?R.p(S,K):(R=sn(S),R.c(),R.m(e,n)):R&&(R.d(1),R=null),S[1]!==""?w?w.p(S,K):(w=an(S),w.c(),w.m(e,r)):w&&(w.d(1),w=null),(!m||K[0]&256&&u!==(u=S[8][0]))&&d(f,"x",u),(!m||K[0]&128&&h!==(h=S[7][1]))&&d(f,"y",h),(!m||K[0]&256&&c!==(c=S[8][1]-S[8][0]))&&d(f,"width",c),(!m||K[0]&128&&g!==(g=S[7][0]-S[7][1]))&&d(f,"height",g),M&&M.p&&(!m||K[0]&134217728)&&ye(M,N,S,S[27],m?pe(N,S[27],K,Xl):ke(S[27]),rn),T&&T.p&&(!m||K[0]&134217728)&&ye(T,p,S,S[27],m?pe(p,S[27],K,Hl):ke(S[27]),ln),Q&&Q.p&&(!m||K[0]&134217728)&&ye(Q,be,S,S[27],m?pe(be,S[27],K,null):ke(S[27]),null),B&&B.p&&(!m||K[0]&134217728)&&ye(B,ae,S,S[27],m?pe(ae,S[27],K,ql):ke(S[27]),nn),S[3]?ee&&(ee.d(1),ee=null):ee||(ee=fn(),ee.c(),ee.m(o,null)),(!m||K[0]&16&&v!==(v="plot "+("plot_"+S[4])+" svelte-1oyr9z6"))&&d(e,"class",v),(!m||K[0]&24)&&Ae(e,"plot_error",!S[3])},i(S){m||(k(M,S),k(T,S),k(Q,S),k(B,S),m=!0)},o(S){L(M,S),L(T,S),L(Q,S),L(B,S),m=!1},d(S){S&&z(e),A&&A.d(),R&&R.d(),w&&w.d(),M&&M.d(S),T&&T.d(S),Q&&Q.d(S),B&&B.d(S),ee&&ee.d(),l[29](null),l[30](null),y=!1,Ee(P)}}}function Bl(l,e,t){let n,r,o,s,i,a,f,u,h,{$$slots:c={},$$scope:g}=e,{limX:_}=e,{limY:b}=e,{title:v=""}=e,{xLabel:m=""}=e,{yLabel:y=""}=e,{margins:P=[.034,.034,.034,.034]}=e;const A=xn(),R={small:30,medium:40,large:50,xlarge:60},w={small:5,medium:8,large:12,xlarge:15},N={small:4,medium:6,large:8,xlarge:10},M={small:10,medium:12,large:14,xlarge:16},p={small:10,medium:15,large:20,xlarge:25},T={small:["0","3,3","1,1","3,1"],medium:["0","5,5","2,2","5,2"],large:["0","7,7","3,3","7,3"],xlarge:["0","9,9","4,4","9,3"]},be=["\u25CF","\u25FC","\u25B2","\u25BC","\u2B25","\uFF0B","*","\xD7"],Q="plottingArea"+Math.round(Math.random()*1e4);let ae,B,ee,S=100;function K(C,U){const ge=Array.prototype.indexOf.call(U.parentNode.children,U);A(C,{seriesTitle:U.parentNode.getAttribute("title"),elementID:ge})}function Lr(C){if(C.target.tagName==="text"&&C.target.parentNode.classList.contains("series_points")){K("markerclick",C.target);return}if(C.target.tagName==="rect"&&C.target.parentNode.classList.contains("series_bar")){K("barclick",C.target);return}A("axesclick")}const ct=function(C,U){if(!(!a||C===void 0||C===null)&&(Array.isArray(C)&&(C=ne(C)),!(!X(C)||C.length<1)))return C.apply(ge=>Gl((ge-U[1])*U[0]+U[2])).v},Sr=function(C,U){if(!(!a||C===void 0||C===null)&&(Array.isArray(C)&&(C=ne(C)),!(!X(C)||C.length<1)))return C.apply(ge=>(ge-U[2])/U[0]+U[1]).v},We=Ie("medium");O(l,We,C=>t(4,h=C));const xe=Ie({coords:[1,0,0],objects:[1,0,0]});O(l,xe,C=>t(25,f=C));const Qe=Ie({coords:[1,0,0],objects:[1,0,0]});O(l,Qe,C=>t(23,s=C));const Ue=Ie(!1);O(l,Ue,C=>t(3,a=C));const Ze=Ie(_);O(l,Ze,C=>t(26,u=C));const Je=Ie(b);O(l,Je,C=>t(24,i=C)),Qn("axes",{transform:ct,invTransform:Sr,scale:We,isOk:Ue,xLim:Ze,yLim:Je,tX:xe,tY:Qe,LINE_STYLES:T,LABELS_MARGIN:p,TICK_NUM:w,TICK_SIZE:N,MARKER_SYMBOLS:be,LEGEND_FONT_SIZE:M});const Vn=new ResizeObserver(C=>{for(let U of C){const ge=ae.getBoundingClientRect();We.update(Wr=>Vl(ge.width,ge.height))}}),qn=new ResizeObserver(C=>{for(let U of C){const ge=B.getBoundingClientRect();t(20,ee=ge.width),t(21,S=ge.height)}});Kn(()=>{Vn.observe(ae),qn.observe(B)}),Wn(()=>{Vn.unobserve(ae),qn.unobserve(B)});function Mr(C){Ge[C?"unshift":"push"](()=>{B=C,t(6,B)})}function Nr(C){Ge[C?"unshift":"push"](()=>{ae=C,t(5,ae)})}return l.$$set=C=>{"limX"in C&&t(17,_=C.limX),"limY"in C&&t(18,b=C.limY),"title"in C&&t(0,v=C.title),"xLabel"in C&&t(1,m=C.xLabel),"yLabel"in C&&t(2,y=C.yLabel),"margins"in C&&t(19,P=C.margins),"$$scope"in C&&t(27,g=C.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&524304&&t(22,n=P.map(C=>C*R[h])),l.$$.dirty[0]&131072&&Ze.update(C=>_),l.$$.dirty[0]&262144&&Je.update(C=>b),l.$$.dirty[0]&91226112&&Ue.update(C=>Array.isArray(i)&&Array.isArray(u)&&u.length===2&&i.length===2&&!i.some(U=>U===void 0)&&!u.some(U=>U===void 0)&&!i.some(U=>isNaN(U))&&!u.some(U=>isNaN(U))&&u[1]!==u[0]&&i[1]!==i[0]&&ee>n[1]+n[3]&&S>n[0]+n[2]),l.$$.dirty[0]&72351752&&a&&xe.update(C=>({coords:[(ee-n[1]-n[3])/(u[1]-u[0]),u[0],n[1]],objects:[(ee-n[1]-n[3])/(u[1]-u[0]),0,0]})),l.$$.dirty[0]&23068680&&a&&Qe.update(C=>({coords:[-(S-n[0]-n[2])/(i[1]-i[0]),i[1],n[2]],objects:[(S-n[0]-n[2])/(i[1]-i[0]),0,0]})),l.$$.dirty[0]&100663304&&t(8,r=a?ct(u,f.coords):[0,1]),l.$$.dirty[0]&25165832&&t(7,o=a?ct(i,s.coords):[1,0])},[v,m,y,a,h,ae,B,o,r,Q,Lr,We,xe,Qe,Ue,Ze,Je,_,b,P,ee,S,n,s,i,f,u,g,c,Mr,Nr]}class Kl extends ${constructor(e){super(),J(this,e,Bl,Dl,Z,{limX:17,limY:18,title:0,xLabel:1,yLabel:2,margins:19},null,[-1,-1])}}const ce={AXIS_LINE:"#303030",AXIS_TICK:"#606060",WHITE:"#fff",BLACK:"#000",GRAY:"#909090",MIDDLEGRAY:"#dadada",LIGHTGRAY:"#f0f0f0",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333"};function un(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function cn(l){let e,t=l[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=hn(un(l,t,r));return{c(){e=te("g");for(let r=0;r<n.length;r+=1)n[r].c();d(e,"class",l[0])},m(r,o){E(r,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(r,o){if(o&62){t=r[1];let s;for(s=0;s<t.length;s+=1){const i=un(r,t,s);n[s]?n[s].p(i,o):(n[s]=hn(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&d(e,"class",r[0])},d(r){r&&z(e),fe(n,r)}}}function hn(l){let e,t,n,r,o;return{c(){e=te("line"),d(e,"vector-effect","non-scaling-stroke"),d(e,"x1",t=l[1][l[19]]),d(e,"x2",n=l[2][l[19]]),d(e,"y1",r=l[3][l[19]]),d(e,"y2",o=l[4][l[19]]),d(e,"style",l[5])},m(s,i){E(s,e,i)},p(s,i){i&2&&t!==(t=s[1][s[19]])&&d(e,"x1",t),i&4&&n!==(n=s[2][s[19]])&&d(e,"x2",n),i&8&&r!==(r=s[3][s[19]])&&d(e,"y1",r),i&16&&o!==(o=s[4][s[19]])&&d(e,"y2",o),i&32&&d(e,"style",s[5])},d(s){s&&z(e)}}}function Wl(l){let e,t=l[1]!==void 0&&l[3]!==void 0&&l[2]!==void 0&&l[4]!==void 0&&cn(l);return{c(){t&&t.c(),e=re()},m(n,r){t&&t.m(n,r),E(n,e,r)},p(n,[r]){n[1]!==void 0&&n[3]!==void 0&&n[2]!==void 0&&n[4]!==void 0?t?t.p(n,r):(t=cn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){t&&t.d(n),n&&z(e)}}}function xl(l,e,t){let n,r,o,s,{lineCoords:i=[]}=e,{lineColor:a=ce.DARKGRAY}=e,{lineType:f=1}=e,{lineWidth:u=1}=e,{className:h=""}=e;const c=Se("axes"),g=c.scale;O(l,g,A=>t(13,r=A));const _=c.tX;O(l,_,A=>t(15,s=A));const b=c.tY;O(l,b,A=>t(14,o=A));let v,m,y,P;return l.$$set=A=>{"lineCoords"in A&&t(9,i=A.lineCoords),"lineColor"in A&&t(10,a=A.lineColor),"lineType"in A&&t(11,f=A.lineType),"lineWidth"in A&&t(12,u=A.lineWidth),"className"in A&&t(0,h=A.className)},l.$$.update=()=>{l.$$.dirty&49664&&i.length==2&&(t(1,v=c.transform(i[0][0],s.coords)),t(3,y=c.transform(i[0][1],o.coords)),t(2,m=c.transform(i[1][0],s.coords)),t(4,P=c.transform(i[1][1],o.coords))),l.$$.dirty&15360&&t(5,n=`stroke:${a};stroke-width: ${u}px;stroke-dasharray:${c.LINE_STYLES[r][f-1]}`)},[h,v,m,y,P,n,g,_,b,i,a,f,u,r,o,s]}class ut extends ${constructor(e){super(),J(this,e,xl,Wl,Z,{lineCoords:9,lineColor:10,lineType:11,lineWidth:12,className:0})}}const Hr="";function dn(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function mn(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function gn(l,e,t){const n=l.slice();return n[21]=e[t],n[23]=t,n}function _n(l){let e;function t(o,s){return o[2]===2&&o[1]===4?Zl:o[2]===2&&o[1]===1?Ul:Ql}let n=t(l),r=n(l);return{c(){e=te("g"),r.c(),d(e,"class","tick_labels"),d(e,"style",l[8])},m(o,s){E(o,e,s),r.m(e,null)},p(o,s){n===(n=t(o))&&r?r.p(o,s):(r.d(1),r=n(o),r&&(r.c(),r.m(e,null))),s&256&&d(e,"style",o[8])},d(o){o&&z(e),r.d()}}}function Ql(l){let e,t=l[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=bn(dn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);E(r,e,o)},p(r,o){if(o&249){t=r[3];let s;for(s=0;s<t.length;s+=1){const i=dn(r,t,s);n[s]?n[s].p(i,o):(n[s]=bn(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){fe(n,r),r&&z(e)}}}function Ul(l){let e,t=l[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=wn(mn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);E(r,e,o)},p(r,o){if(o&89){t=r[3];let s;for(s=0;s<t.length;s+=1){const i=mn(r,t,s);n[s]?n[s].p(i,o):(n[s]=wn(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){fe(n,r),r&&z(e)}}}function Zl(l){let e,t=l[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=vn(gn(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},m(r,o){for(let s=0;s<n.length;s+=1)n[s].m(r,o);E(r,e,o)},p(r,o){if(o&57){t=r[3];let s;for(s=0;s<t.length;s+=1){const i=gn(r,t,s);n[s]?n[s].p(i,o):(n[s]=vn(i),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(r){fe(n,r),r&&z(e)}}}function bn(l){let e,t=l[0][l[23]]+"",n,r;return{c(){e=te("text"),d(e,"data-id",l[23]),d(e,"x",n=l[3][l[23]]),d(e,"y",r=l[4][l[23]]),d(e,"dx",l[5]),d(e,"dy",l[6]),d(e,"text-anchor",l[7]),d(e,"class","svelte-131ks7u")},m(o,s){E(o,e,s),e.innerHTML=t},p(o,s){s&1&&t!==(t=o[0][o[23]]+"")&&(e.innerHTML=t),s&8&&n!==(n=o[3][o[23]])&&d(e,"x",n),s&16&&r!==(r=o[4][o[23]])&&d(e,"y",r),s&32&&d(e,"dx",o[5]),s&64&&d(e,"dy",o[6]),s&128&&d(e,"text-anchor",o[7])},d(o){o&&z(e)}}}function wn(l){let e,t=l[0][l[23]]+"",n,r,o,s;return{c(){e=te("text"),d(e,"data-id",l[23]),d(e,"x",n=l[3][l[23]]),d(e,"y",r=l[4][l[23]]),d(e,"dx",o=-l[6]/2),d(e,"dy",0),d(e,"transform",s=`rotate(-90, ${l[3][l[23]]}, ${l[4][l[23]]})`),d(e,"text-anchor","end"),d(e,"class","svelte-131ks7u")},m(i,a){E(i,e,a),e.innerHTML=t},p(i,a){a&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),a&8&&n!==(n=i[3][i[23]])&&d(e,"x",n),a&16&&r!==(r=i[4][i[23]])&&d(e,"y",r),a&64&&o!==(o=-i[6]/2)&&d(e,"dx",o),a&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&d(e,"transform",s)},d(i){i&&z(e)}}}function vn(l){let e,t=l[0][l[23]]+"",n,r,o,s;return{c(){e=te("text"),d(e,"data-id",l[23]),d(e,"x",n=l[3][l[23]]),d(e,"y",r=l[4][l[23]]),d(e,"dx",0),d(e,"dy",o=l[5]*1.25),d(e,"transform",s=`rotate(-90, ${l[3][l[23]]}, ${l[4][l[23]]})`),d(e,"text-anchor","middle"),d(e,"class","svelte-131ks7u")},m(i,a){E(i,e,a),e.innerHTML=t},p(i,a){a&1&&t!==(t=i[0][i[23]]+"")&&(e.innerHTML=t),a&8&&n!==(n=i[3][i[23]])&&d(e,"x",n),a&16&&r!==(r=i[4][i[23]])&&d(e,"y",r),a&32&&o!==(o=i[5]*1.25)&&d(e,"dy",o),a&24&&s!==(s=`rotate(-90, ${i[3][i[23]]}, ${i[4][i[23]]})`)&&d(e,"transform",s)},d(i){i&&z(e)}}}function Jl(l){let e,t=l[3]!==void 0&&l[4]!==void 0&&_n(l);return{c(){t&&t.c(),e=re()},m(n,r){t&&t.m(n,r),E(n,e,r)},p(n,[r]){n[3]!==void 0&&n[4]!==void 0?t?t.p(n,r):(t=_n(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){t&&t.d(n),n&&z(e)}}}function $l(l,e,t){let n,r,o,s,i,a,{tickCoords:f}=e,{textColor:u}=e,{tickLabels:h}=e,{pos:c=1}=e,{las:g=1}=e;const _=Se("axes"),b=_.scale;O(l,b,M=>t(16,o=M));const v=_.tX;O(l,v,M=>t(18,i=M));const m=_.tY;O(l,m,M=>t(17,s=M));const y=_.isOk;O(l,y,M=>t(19,a=M));let P,A,R=0,w=0,N;return l.$$set=M=>{"tickCoords"in M&&t(13,f=M.tickCoords),"textColor"in M&&t(14,u=M.textColor),"tickLabels"in M&&t(0,h=M.tickLabels),"pos"in M&&t(1,c=M.pos),"las"in M&&t(2,g=M.las)},l.$$.update=()=>{l.$$.dirty&925696&&a&&(t(3,P=_.transform(f[1][0],i.coords)),t(4,A=_.transform(f[1][1],s.coords))),l.$$.dirty&65536&&t(15,n=_.LABELS_MARGIN[o]),l.$$.dirty&32770&&(t(7,N=["middle","middle","start","middle","end"][c]),t(5,R=[0,0,n,0,-n][c]),t(6,w=[0,n,0,-n,0][c])),l.$$.dirty&16384&&t(8,r=`dominant-baseline:middle;fill:${u};font-size:1em; text-anchor:middle;`)},[h,c,g,P,A,R,w,N,r,b,v,m,y,f,u,n,o,s,i,a]}class er extends ${constructor(e){super(),J(this,e,$l,Jl,Z,{tickCoords:13,textColor:14,tickLabels:0,pos:1,las:2})}}function pn(l){let e,t;return e=new ut({props:{lineCoords:l[5],lineColor:l[9],lineType:3}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const o={};r&32&&(o.lineCoords=n[5]),r&512&&(o.lineColor=n[9]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function yn(l){let e,t;return e=new er({props:{las:l[2],pos:l[3],tickCoords:l[7],tickLabels:l[0],textColor:l[10]}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const o={};r&4&&(o.las=n[2]),r&8&&(o.pos=n[3]),r&128&&(o.tickCoords=n[7]),r&1&&(o.tickLabels=n[0]),r&1024&&(o.textColor=n[10]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function tr(l){let e,t,n,r,o,s,i=l[1]&&pn(l);n=new ut({props:{lineCoords:l[6],lineColor:l[8],lineType:1}}),r=new ut({props:{lineCoords:l[7],lineColor:l[8],lineType:1}});let a=l[7].length===2&&l[0].length===l[7][1][0].length&&yn(l);return{c(){e=te("g"),i&&i.c(),t=re(),H(n.$$.fragment),H(r.$$.fragment),a&&a.c(),d(e,"class",o="mdaplot__axis "+l[4])},m(f,u){E(f,e,u),i&&i.m(e,null),Y(e,t),V(n,e,null),V(r,e,null),a&&a.m(e,null),s=!0},p(f,[u]){f[1]?i?(i.p(f,u),u&2&&k(i,1)):(i=pn(f),i.c(),k(i,1),i.m(e,t)):i&&(he(),L(i,1,1,()=>{i=null}),de());const h={};u&64&&(h.lineCoords=f[6]),u&256&&(h.lineColor=f[8]),n.$set(h);const c={};u&128&&(c.lineCoords=f[7]),u&256&&(c.lineColor=f[8]),r.$set(c),f[7].length===2&&f[0].length===f[7][1][0].length?a?(a.p(f,u),u&129&&k(a,1)):(a=yn(f),a.c(),k(a,1),a.m(e,null)):a&&(he(),L(a,1,1,()=>{a=null}),de()),(!s||u&16&&o!==(o="mdaplot__axis "+f[4]))&&d(e,"class",o)},i(f){s||(k(i),k(n.$$.fragment,f),k(r.$$.fragment,f),k(a),s=!0)},o(f){L(i),L(n.$$.fragment,f),L(r.$$.fragment,f),L(a),s=!1},d(f){f&&z(e),i&&i.d(),q(n),q(r),a&&a.d()}}}function nr(l,e,t){let{tickLabels:n=[]}=e,{showGrid:r=!1}=e,{las:o=1}=e,{pos:s=1}=e,{className:i=""}=e,{grid:a=[]}=e,{axisLine:f=[]}=e,{tickCoords:u=[]}=e,{lineColor:h=ce.DARKGRAY}=e,{gridColor:c=ce.MIDDLEGRAY}=e,{textColor:g=ce.DARKGRAY}=e;return l.$$set=_=>{"tickLabels"in _&&t(0,n=_.tickLabels),"showGrid"in _&&t(1,r=_.showGrid),"las"in _&&t(2,o=_.las),"pos"in _&&t(3,s=_.pos),"className"in _&&t(4,i=_.className),"grid"in _&&t(5,a=_.grid),"axisLine"in _&&t(6,f=_.axisLine),"tickCoords"in _&&t(7,u=_.tickCoords),"lineColor"in _&&t(8,h=_.lineColor),"gridColor"in _&&t(9,c=_.gridColor),"textColor"in _&&t(10,g=_.textColor)},[n,r,o,s,i,a,f,u,h,c,g]}class kn extends ${constructor(e){super(),J(this,e,nr,tr,Z,{tickLabels:0,showGrid:1,las:2,pos:3,className:4,grid:5,axisLine:6,tickCoords:7,lineColor:8,gridColor:9,textColor:10})}}function Cn(l){let e,t;return e=new kn({props:{className:"mdaplot__xaxis",pos:1,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],las:l[2]}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.lineColor=n[3]),r&16&&(o.gridColor=n[4]),r&32&&(o.textColor=n[5]),r&2&&(o.showGrid=n[1]),r&128&&(o.grid=n[7]),r&256&&(o.axisLine=n[8]),r&512&&(o.tickCoords=n[9]),r&1&&(o.tickLabels=n[0]),r&4&&(o.las=n[2]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function lr(l){let e,t,n=l[6]&&l[8].length>0&&Cn(l);return{c(){n&&n.c(),e=re()},m(r,o){n&&n.m(r,o),E(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?n?(n.p(r,o),o&320&&k(n,1)):(n=Cn(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(he(),L(n,1,1,()=>{n=null}),de())},i(r){t||(k(n),t=!0)},o(r){L(n),t=!1},d(r){n&&n.d(r),r&&z(e)}}}function rr(l,e,t){let n,r,o,s,i,{slot:a="xaxis"}=e,{ticks:f=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:h=!1}=e,{las:c=1}=e,{lineColor:g=ce.DARKGRAY}=e,{gridColor:_=ce.MIDDLEGRAY}=e,{textColor:b=ce.DARKGRAY}=e;if(a!=="xaxis")throw`Component XAxis must have "slot='xaxis'" attribute.`;const v=Se("axes"),m=v.xLim;O(l,m,p=>t(18,r=p));const y=v.yLim;O(l,y,p=>t(17,n=p));const P=v.scale;O(l,P,p=>t(20,s=p));const A=v.isOk;O(l,A,p=>t(6,i=p));const R=v.tY;O(l,R,p=>t(19,o=p));let w=[],N=[],M=[];return l.$$set=p=>{"slot"in p&&t(15,a=p.slot),"ticks"in p&&t(16,f=p.ticks),"tickLabels"in p&&t(0,u=p.tickLabels),"showGrid"in p&&t(1,h=p.showGrid),"las"in p&&t(2,c=p.las),"lineColor"in p&&t(3,g=p.lineColor),"gridColor"in p&&t(4,_=p.gridColor),"textColor"in p&&t(5,b=p.textColor)},l.$$.update=()=>{if(l.$$.dirty&2031681&&i){const p=en(f,r,v.TICK_NUM[s],!0),T=p.length,be=v.invTransform([v.TICK_SIZE[s]],o.objects)[0],Q=j.fill(n[0],T),ae=Q.add(be),B=j.fill(n[1],T);if(t(0,u=f===void 0||u===void 0?p.v:u),u.length!==p.length)throw'XAxis: "tickLabels" must be a array of the same size as ticks.';t(7,w=[[p,Q],[p,B]]),t(8,N=[[ne([r[0]]),ne([n[0]])],[ne([r[1]]),ne([n[0]])]]),t(9,M=[[p,ae],[p,Q]])}},[u,h,c,g,_,b,i,w,N,M,m,y,P,A,R,a,f,n,r,o,s]}class or extends ${constructor(e){super(),J(this,e,rr,lr,Z,{slot:15,ticks:16,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function An(l){let e,t;return e=new kn({props:{className:"mdaplot__yaxis",pos:4,lineColor:l[3],gridColor:l[4],textColor:l[5],showGrid:l[1],grid:l[7],axisLine:l[8],tickCoords:l[9],tickLabels:l[0],las:l[2]}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const o={};r&8&&(o.lineColor=n[3]),r&16&&(o.gridColor=n[4]),r&32&&(o.textColor=n[5]),r&2&&(o.showGrid=n[1]),r&128&&(o.grid=n[7]),r&256&&(o.axisLine=n[8]),r&512&&(o.tickCoords=n[9]),r&1&&(o.tickLabels=n[0]),r&4&&(o.las=n[2]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function sr(l){let e,t,n=l[6]&&l[8].length>0&&An(l);return{c(){n&&n.c(),e=re()},m(r,o){n&&n.m(r,o),E(r,e,o),t=!0},p(r,[o]){r[6]&&r[8].length>0?n?(n.p(r,o),o&320&&k(n,1)):(n=An(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(he(),L(n,1,1,()=>{n=null}),de())},i(r){t||(k(n),t=!0)},o(r){L(n),t=!1},d(r){n&&n.d(r),r&&z(e)}}}function ir(l,e,t){let n,r,o,s,i,{slot:a="yaxis"}=e,{ticks:f=void 0}=e,{tickLabels:u=void 0}=e,{showGrid:h=!1}=e,{las:c=1}=e,{lineColor:g=ce.DARKGRAY}=e,{gridColor:_=ce.MIDDLEGRAY}=e,{textColor:b=ce.DARKGRAY}=e;if(a!=="yaxis")throw`Component YAxis must have "slot='yaxis'" attribute.`;const v=Se("axes"),m=v.xLim;O(l,m,p=>t(18,r=p));const y=v.yLim;O(l,y,p=>t(17,n=p));const P=v.scale;O(l,P,p=>t(20,s=p));const A=v.isOk;O(l,A,p=>t(6,i=p));const R=v.tX;O(l,R,p=>t(19,o=p));let w=[],N=[],M=[];return l.$$set=p=>{"slot"in p&&t(15,a=p.slot),"ticks"in p&&t(16,f=p.ticks),"tickLabels"in p&&t(0,u=p.tickLabels),"showGrid"in p&&t(1,h=p.showGrid),"las"in p&&t(2,c=p.las),"lineColor"in p&&t(3,g=p.lineColor),"gridColor"in p&&t(4,_=p.gridColor),"textColor"in p&&t(5,b=p.textColor)},l.$$.update=()=>{if(l.$$.dirty&2031681&&i){const p=en(f,n,v.TICK_NUM[s],!0),T=p.length,be=v.invTransform([v.TICK_SIZE[s]],o.objects)[0],Q=j.fill(r[0],T),ae=Q.add(be),B=j.fill(r[1],T);if(t(0,u=f===void 0||u===void 0?p.v:u),u.length!==p.length)throw'YAxis: "tickLabels" must be a array of the same size as ticks.';t(7,w=[[Q,p],[B,p]]),t(8,N=[[ne([r[0]]),ne([n[0]])],[ne([r[0]]),ne([n[1]])]]),t(9,M=[[Q,p],[ae,p]])}},[u,h,c,g,_,b,i,w,N,M,m,y,P,A,R,a,f,n,r,o,s]}class ar extends ${constructor(e){super(),J(this,e,ir,sr,Z,{slot:15,ticks:16,tickLabels:0,showGrid:1,las:2,lineColor:3,gridColor:4,textColor:5})}}function zn(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function En(l){let e,t,n=l[2],r=[];for(let o=0;o<n.length;o+=1)r[o]=Ln(zn(l,n,o));return{c(){e=te("g");for(let o=0;o<r.length;o+=1)r[o].c();d(e,"class",t="series "+l[0]),d(e,"title",l[1]),d(e,"style",l[7])},m(o,s){E(o,e,s);for(let i=0;i<r.length;i+=1)r[i].m(e,null)},p(o,s){if(s&60){n=o[2];let i;for(i=0;i<n.length;i+=1){const a=zn(o,n,i);r[i]?r[i].p(a,s):(r[i]=Ln(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}s&1&&t!==(t="series "+o[0])&&d(e,"class",t),s&2&&d(e,"title",o[1]),s&128&&d(e,"style",o[7])},d(o){o&&z(e),fe(r,o)}}}function Ln(l){let e,t,n,r,o;return{c(){e=te("line"),d(e,"x1",t=l[2][l[25]]),d(e,"x2",n=l[3][l[25]]),d(e,"y1",r=l[4][l[25]]),d(e,"y2",o=l[5][l[25]])},m(s,i){E(s,e,i)},p(s,i){i&4&&t!==(t=s[2][s[25]])&&d(e,"x1",t),i&8&&n!==(n=s[3][s[25]])&&d(e,"x2",n),i&16&&r!==(r=s[4][s[25]])&&d(e,"y1",r),i&32&&o!==(o=s[5][s[25]])&&d(e,"y2",o)},d(s){s&&z(e)}}}function fr(l){let e,t=l[6]&&En(l);return{c(){t&&t.c(),e=re()},m(n,r){t&&t.m(n,r),E(n,e,r)},p(n,[r]){n[6]?t?t.p(n,r):(t=En(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){t&&t.d(n),n&&z(e)}}}function ur(l,e,t){let n,r,o,s,i,{xStart:a}=e,{xEnd:f}=e,{yStart:u}=e,{yEnd:h}=e,{lineColor:c=ce.PRIMARY}=e,{lineType:g=1}=e,{lineWidth:_=1}=e,{className:b="series_seg"}=e,{title:v=""}=e;const m=Se("axes"),y=m.scale;O(l,y,T=>t(19,r=T));const P=m.isOk;O(l,P,T=>t(6,i=T));const A=m.tX;O(l,A,T=>t(21,s=T));const R=m.tY;O(l,R,T=>t(20,o=T));let w,N,M,p;return l.$$set=T=>{"xStart"in T&&t(12,a=T.xStart),"xEnd"in T&&t(13,f=T.xEnd),"yStart"in T&&t(14,u=T.yStart),"yEnd"in T&&t(15,h=T.yEnd),"lineColor"in T&&t(16,c=T.lineColor),"lineType"in T&&t(17,g=T.lineType),"lineWidth"in T&&t(18,_=T.lineWidth),"className"in T&&t(0,b=T.className),"title"in T&&t(1,v=T.title)},l.$$.update=()=>{if(l.$$.dirty&3207292&&i){t(2,w=m.transform(Ye(a,"Segments"),s.coords)),t(4,M=m.transform(Ye(u,"Segments"),o.coords)),t(3,N=m.transform(Ye(f,"Segments"),s.coords)),t(5,p=m.transform(Ye(h,"Segments"),o.coords));const T=w.length;if(N.length!==T||M.length!==T||p.length!==T)throw Error('Segments: parameters "xStart", "yStart", "xEnd" and "yEnd" should have the same length.')}l.$$.dirty&983040&&t(7,n=`stroke:${c};stroke-width: ${_}px;stroke-dasharray:${m.LINE_STYLES[r][g-1]}`)},[b,v,w,N,M,p,i,n,y,P,A,R,a,f,u,h,c,g,_,r,o,s]}class Ke extends ${constructor(e){super(),J(this,e,ur,fr,Z,{xStart:12,xEnd:13,yStart:14,yEnd:15,lineColor:16,lineType:17,lineWidth:18,className:0,title:1})}}const Xr="",Dr="";function Sn(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Mn(l){let e,t=l[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Nn(Sn(l,t,r));return{c(){e=te("g");for(let r=0;r<n.length;r+=1)n[r].c();d(e,"class","series series_points"),d(e,"title",l[0]),d(e,"style",l[5])},m(r,o){E(r,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(r,o){if(o&22){t=r[1];let s;for(s=0;s<t.length;s+=1){const i=Sn(r,t,s);n[s]?n[s].p(i,o):(n[s]=Nn(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&1&&d(e,"title",r[0]),o&32&&d(e,"style",r[5])},d(r){r&&z(e),fe(n,r)}}}function Nn(l){let e,t,n,r;return{c(){e=te("text"),t=Ce(l[4]),d(e,"x",n=l[1][l[21]]),d(e,"y",r=l[2][l[21]]),d(e,"class","svelte-12moot9")},m(o,s){E(o,e,s),Y(e,t)},p(o,s){s&16&&Ne(t,o[4]),s&2&&n!==(n=o[1][o[21]])&&d(e,"x",n),s&4&&r!==(r=o[2][o[21]])&&d(e,"y",r)},d(o){o&&z(e)}}}function cr(l){let e,t=l[3]&&l[1]!==void 0&&l[2]!==void 0&&Mn(l);return{c(){t&&t.c(),e=re()},m(n,r){t&&t.m(n,r),E(n,e,r)},p(n,[r]){n[3]&&n[1]!==void 0&&n[2]!==void 0?t?t.p(n,r):(t=Mn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){t&&t.d(n),n&&z(e)}}}function hr(l,e,t){let n,r,o,s,{xValues:i}=e,{yValues:a}=e,{marker:f=1}=e,{faceColor:u="transparent"}=e,{borderColor:h=ce.PRIMARY}=e,{borderWidth:c=1}=e,{markerSize:g=1}=e,{title:_=""}=e;const b=Se("axes"),v=b.tX;O(l,v,w=>t(17,o=w));const m=b.tY;O(l,m,w=>t(16,r=w));const y=b.isOk;O(l,y,w=>t(3,s=w));let P,A,R;return l.$$set=w=>{"xValues"in w&&t(9,i=w.xValues),"yValues"in w&&t(10,a=w.yValues),"marker"in w&&t(11,f=w.marker),"faceColor"in w&&t(12,u=w.faceColor),"borderColor"in w&&t(13,h=w.borderColor),"borderWidth"in w&&t(14,c=w.borderWidth),"markerSize"in w&&t(15,g=w.markerSize),"title"in w&&t(0,_=w.title)},l.$$.update=()=>{if(l.$$.dirty&200206&&s){if(typeof f!="number"||f<1||f>b.MARKER_SYMBOLS.length)throw Error(`ScatterSeries: parameter "marker" must be a number from 1 to ${b.MARKER_SYMBOLS.length}.`);if(t(4,R=b.MARKER_SYMBOLS[f-1]),t(1,P=b.transform(Ye(i,"Points"),o.coords)),t(2,A=b.transform(Ye(a,"Points"),r.coords)),P.length!==A.length)throw Error('Points: parameters "xValues" and "yValues" must be vectors of the same length.')}l.$$.dirty&61440&&t(5,n=`dominant-baseline:middle;fill:${u};stroke-width:${c}px;stroke:${h};
      font-size:${g}em; text-anchor:middle;cursor:default;user-select:none;`)},[_,P,A,s,R,n,v,m,y,i,a,f,u,h,c,g,r,o]}class Tn extends ${constructor(e){super(),J(this,e,hr,cr,Z,{xValues:9,yValues:10,marker:11,faceColor:12,borderColor:13,borderWidth:14,markerSize:15,title:0})}}function Pn(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Rn(l){let e,t=l[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=In(Pn(l,t,r));return{c(){e=te("text");for(let r=0;r<n.length;r+=1)n[r].c();d(e,"style",l[6]),d(e,"x",l[4]),d(e,"y",l[5]),d(e,"dx",l[0]),d(e,"dy",l[1]),d(e,"dominant-baseline","middle"),d(e,"text-anchor","start")},m(r,o){E(r,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(r,o){if(o&23){t=r[2];let s;for(s=0;s<t.length;s+=1){const i=Pn(r,t,s);n[s]?n[s].p(i,o):(n[s]=In(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}o&64&&d(e,"style",r[6]),o&16&&d(e,"x",r[4]),o&32&&d(e,"y",r[5]),o&1&&d(e,"dx",r[0]),o&2&&d(e,"dy",r[1])},d(r){r&&z(e),fe(n,r)}}}function In(l){let e,t=l[19]+"",n;return{c(){e=te("tspan"),d(e,"x",l[4]),d(e,"dx",l[0]),d(e,"dy",n=l[21]===0?0:l[1])},m(r,o){E(r,e,o),e.innerHTML=t},p(r,o){o&4&&t!==(t=r[19]+"")&&(e.innerHTML=t),o&16&&d(e,"x",r[4]),o&1&&d(e,"dx",r[0]),o&2&&n!==(n=r[21]===0?0:r[1])&&d(e,"dy",n)},d(r){r&&z(e)}}}function dr(l){let e,t=l[3]&&l[4]!==void 0&&l[5]!==void 0&&l[2].length>0&&Rn(l);return{c(){t&&t.c(),e=re()},m(n,r){t&&t.m(n,r),E(n,e,r)},p(n,[r]){n[3]&&n[4]!==void 0&&n[5]!==void 0&&n[2].length>0?t?t.p(n,r):(t=Rn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){t&&t.d(n),n&&z(e)}}}function mr(l,e,t){let n,r,o,s,{left:i}=e,{top:a}=e,{dx:f="0"}=e,{dy:u="1.25em"}=e,{elements:h}=e,{faceColor:c=ce.PRIMARY_TEXT}=e,{borderColor:g="transparent"}=e,{borderWidth:_=0}=e,{textSize:b=1}=e;const v=Se("axes"),m=v.tX;O(l,m,w=>t(17,o=w));const y=v.tY;O(l,y,w=>t(16,r=w));const P=v.isOk;O(l,P,w=>t(3,s=w));let A,R;return l.$$set=w=>{"left"in w&&t(10,i=w.left),"top"in w&&t(11,a=w.top),"dx"in w&&t(0,f=w.dx),"dy"in w&&t(1,u=w.dy),"elements"in w&&t(2,h=w.elements),"faceColor"in w&&t(12,c=w.faceColor),"borderColor"in w&&t(13,g=w.borderColor),"borderWidth"in w&&t(14,_=w.borderWidth),"textSize"in w&&t(15,b=w.textSize)},l.$$.update=()=>{l.$$.dirty&199688&&s&&(t(4,A=v.transform([i],o.coords)),t(5,R=v.transform([a],r.coords))),l.$$.dirty&61440&&t(6,n=`fill:${c};stroke-width:${_}px;stroke:${g};font-size:${b}em;`)},[f,u,h,s,A,R,n,m,y,P,i,a,c,g,_,b,r,o]}class Yn extends ${constructor(e){super(),J(this,e,mr,dr,Z,{left:10,top:11,dx:0,dy:1,elements:2,faceColor:12,borderColor:13,borderWidth:14,textSize:15})}}let Fn={plots:{POPULATIONS_PALE:["#33668820","#ff990020"],POPULATIONS:["#33668850","#ff990050"],SAMPLES:["#336688","#ff9900"],STAT_NAME:"#808080",STAT_VALUE:"#202020"}};function On(l){let e,t;return e=new Ke({props:{xStart:[l[5].v[0]],xEnd:[l[5].v[1]],yStart:[l[6].v[0]],yEnd:[l[6].v[1]],lineColor:l[10],lineWidth:1.2,lineType:1}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const o={};r&32&&(o.xStart=[n[5].v[0]]),r&32&&(o.xEnd=[n[5].v[1]]),r&64&&(o.yStart=[n[6].v[0]]),r&64&&(o.yEnd=[n[6].v[1]]),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function jn(l){let e,t;return e=new Tn({props:{xValues:l[0].getcolumn(1),yValues:l[0].getcolumn(2),borderWidth:1,faceColor:l[9],borderColor:l[9]}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,r){const o={};r&1&&(o.xValues=n[0].getcolumn(1)),r&1&&(o.yValues=n[0].getcolumn(2)),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function gr(l){let e,t,n,r,o,s,i,a,f,u,h,c,g,_;e=new Ke({props:{xStart:[-3],xEnd:[4],yStart:[0],yEnd:[0],lineColor:"#a0a0a090"}}),n=new Ke({props:{xStart:[0],xEnd:[0],yStart:[-3],yEnd:[4],lineColor:"#a0a0a090"}});let b=l[5]!==void 0&&l[6]!==void 0&&On(l),v=l[1]!==void 0&&l[2]!==void 0&&jn(l);return i=new Tn({props:{xValues:l[3],yValues:l[4],borderWidth:1.5,faceColor:"#ffffff40",borderColor:l[10]}}),f=new Ke({props:{xStart:l[3],xEnd:l[1],yStart:l[4],yEnd:l[2],lineColor:"#00000030"}}),h=new Yn({props:{left:-2.75,top:3.5,elements:l[8]}}),g=new Yn({props:{left:.5,top:-1,dy:"1.35em",elements:l[7]}}),{c(){H(e.$$.fragment),t=D(),H(n.$$.fragment),r=D(),b&&b.c(),o=D(),v&&v.c(),s=D(),H(i.$$.fragment),a=D(),H(f.$$.fragment),u=D(),H(h.$$.fragment),c=D(),H(g.$$.fragment)},m(m,y){V(e,m,y),E(m,t,y),V(n,m,y),E(m,r,y),b&&b.m(m,y),E(m,o,y),v&&v.m(m,y),E(m,s,y),V(i,m,y),E(m,a,y),V(f,m,y),E(m,u,y),V(h,m,y),E(m,c,y),V(g,m,y),_=!0},p(m,y){m[5]!==void 0&&m[6]!==void 0?b?(b.p(m,y),y&96&&k(b,1)):(b=On(m),b.c(),k(b,1),b.m(o.parentNode,o)):b&&(he(),L(b,1,1,()=>{b=null}),de()),m[1]!==void 0&&m[2]!==void 0?v?(v.p(m,y),y&6&&k(v,1)):(v=jn(m),v.c(),k(v,1),v.m(s.parentNode,s)):v&&(he(),L(v,1,1,()=>{v=null}),de());const P={};y&8&&(P.xValues=m[3]),y&16&&(P.yValues=m[4]),i.$set(P);const A={};y&8&&(A.xStart=m[3]),y&2&&(A.xEnd=m[1]),y&16&&(A.yStart=m[4]),y&4&&(A.yEnd=m[2]),f.$set(A);const R={};y&256&&(R.elements=m[8]),h.$set(R);const w={};y&128&&(w.elements=m[7]),g.$set(w)},i(m){_||(k(e.$$.fragment,m),k(n.$$.fragment,m),k(b),k(v),k(i.$$.fragment,m),k(f.$$.fragment,m),k(h.$$.fragment,m),k(g.$$.fragment,m),_=!0)},o(m){L(e.$$.fragment,m),L(n.$$.fragment,m),L(b),L(v),L(i.$$.fragment,m),L(f.$$.fragment,m),L(h.$$.fragment,m),L(g.$$.fragment,m),_=!1},d(m){q(e,m),m&&z(t),q(n,m),m&&z(r),b&&b.d(m),m&&z(o),v&&v.d(m),m&&z(s),q(i,m),m&&z(a),q(f,m),m&&z(u),q(h,m),m&&z(c),q(g,m)}}}function _r(l){let e,t;return e=new or({props:{slot:"xaxis",showGrid:!0}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:G,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function br(l){let e,t;return e=new ar({props:{slot:"yaxis",showGrid:!0}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p:G,i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function wr(l){let e,t;return e=new Kl({props:{limX:[-3,4],limY:[-3,4],margins:[.75,.75,.25,.25],xLabel:"x<sub>1</sub>",yLabel:"x<sub>2</sub>",$$slots:{yaxis:[br],xaxis:[_r],default:[gr]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,[r]){const o={};r&1049087&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function vr(l,e,t){let n,r,{step:o}=e,{X:s}=e,{Xh:i}=e,{P0:a}=e,{P1:f}=e,{T:u}=e;const h=Fn.plots.SAMPLES[0],c=Fn.plots.SAMPLES[1];let g,_,b,v,m,y,P,A,R,w;return l.$$set=N=>{"step"in N&&t(11,o=N.step),"X"in N&&t(0,s=N.X),"Xh"in N&&t(12,i=N.Xh),"P0"in N&&t(13,a=N.P0),"P1"in N&&t(14,f=N.P1),"T"in N&&t(15,u=N.T)},l.$$.update=()=>{if(l.$$.dirty&32775){t(1,g=s.getcolumn(1)),t(2,_=s.getcolumn(2)),t(16,b=Ve(g)+Ve(_));const N=u.getcolumn(1);t(17,v=ie(g.mult(N))/N.length),t(18,m=ie(_.mult(N))/N.length)}if(l.$$.dirty&4120&&(t(3,y=i.getcolumn(1)),t(4,P=i.getcolumn(2)),t(19,A=Ve(y)+Ve(P))),l.$$.dirty&8192){const N=Lt(al(ne([-100,100]),ne([-100,100])).dot(a),a);t(5,R=N.getcolumn(1)),t(6,w=N.getcolumn(2))}l.$$.dirty&589824&&t(8,n=[`<tspan fill=#a0a0a0>Sum of squared distances to</tspan> <tspan font-size=0.9em fill=${h} stroke-width=2px stroke=${h}>\u25CF</tspan>: <tspan>${b.toFixed(2)}</tspan>`,`<tspan fill=#a0a0a0>Sum of squared distances to</tspan> <tspan font-size=0.9em fill=transparent stroke-width=2px stroke=${c}>\u25CF</tspan>: <tspan>${A.toFixed(2)}</tspan> <tspan fill="#909090">(${(A/b*100).toFixed(2)}%) </tspan>`]),l.$$.dirty&419840&&t(7,r=[`<tspan fill=#a0a0a0>p${o}:</tspan> <tspan>[${a.v[0].toFixed(3)}, ${a.v[1].toFixed(3)}]</tspan>`,`<tspan fill=#a0a0a0>cov(x1, t):</tspan> <tspan>${v.toFixed(3)}</tspan>`,`<tspan fill=#a0a0a0>cov(x2, t):</tspan> <tspan>${m.toFixed(3)}</tspan>`,"<tspan>&nbsp;<tspan>",`<tspan fill=#a0a0a0>p${o+1}:</tspan> <tspan>[${v.toFixed(3)}, ${m.toFixed(3)}]</tspan>&nbsp;&nbsp;<tspan fill=#a0a0a0>|p${o+1}|:</tspan> <tspan>${Math.sqrt(v**2+v**2).toFixed(2)}</tspan>`,`<tspan fill=#a0a0a0>p${o+1}:</tspan> <tspan>[${f.v[0].toFixed(3)}, ${f.v[1].toFixed(3)}]</tspan>&nbsp;&nbsp;<tspan fill=#a0a0a0>|p${o+1}|:</tspan> <tspan>1.00</tspan>`])},[s,g,_,y,P,R,w,r,n,h,c,o,i,a,f,u,b,v,m,A]}class pr extends ${constructor(e){super(),J(this,e,vr,wr,Z,{step:11,X:0,Xh:12,P0:13,P1:14,T:15})}}const Br="";function yr(l){let e,t,n,r,o;function s(a){l[7](a)}let i={id:"step",label:"NIPALS step",options:[0,1,2,3,4,5]};return l[3]!==void 0&&(i.value=l[3]),e=new El({props:i}),Ge.push(()=>ll(e,"value",s)),r=new kl({props:{id:"newSample",label:"Sample",text:"Take new"}}),r.$on("click",l[8]),{c(){H(e.$$.fragment),n=D(),H(r.$$.fragment)},m(a,f){V(e,a,f),E(a,n,f),V(r,a,f),o=!0},p(a,f){const u={};!t&&f&8&&(t=!0,u.value=a[3],$n(()=>t=!1)),e.$set(u)},i(a){o||(k(e.$$.fragment,a),k(r.$$.fragment,a),o=!0)},o(a){L(e.$$.fragment,a),L(r.$$.fragment,a),o=!1},d(a){q(e,a),a&&z(n),q(r,a)}}}function kr(l){let e,t,n,r,o,s,i,a,f,u;return n=new pr({props:{step:l[3],X:l[0],P0:l[2],P1:l[4],T:l[1],Xh:l[5]}}),s=new jl({props:{X:l[0],T:l[1]}}),f=new _l({props:{$$slots:{default:[yr]},$$scope:{ctx:l}}}),{c(){e=F("div"),t=F("div"),H(n.$$.fragment),r=D(),o=F("div"),H(s.$$.fragment),i=D(),a=F("div"),H(f.$$.fragment),d(t,"class","app-plot-area svelte-195ucp3"),d(o,"class","app-table-area svelte-195ucp3"),d(a,"class","app-controls-area svelte-195ucp3"),d(e,"class","app-layout svelte-195ucp3")},m(h,c){E(h,e,c),Y(e,t),V(n,t,null),Y(e,r),Y(e,o),V(s,o,null),Y(e,i),Y(e,a),V(f,a,null),u=!0},p(h,c){const g={};c&8&&(g.step=h[3]),c&1&&(g.X=h[0]),c&4&&(g.P0=h[2]),c&16&&(g.P1=h[4]),c&2&&(g.T=h[1]),c&32&&(g.Xh=h[5]),n.$set(g);const _={};c&1&&(_.X=h[0]),c&2&&(_.T=h[1]),s.$set(_);const b={};c&1032&&(b.$$scope={dirty:c,ctx:h}),f.$set(b)},i(h){u||(k(n.$$.fragment,h),k(s.$$.fragment,h),k(f.$$.fragment,h),u=!0)},o(h){L(n.$$.fragment,h),L(s.$$.fragment,h),L(f.$$.fragment,h),u=!1},d(h){h&&z(e),q(n),q(s),q(f)}}}function Cr(l){let e;return{c(){e=F("div"),e.innerHTML=`<h2>PCA NIPALS algorithm</h2> 
      <p>This app shows how to compute coordinates of loading vector \u2014\xA0a unit vector which defines a direction of Principal Component \u2014\xA0using Nonlinear Iterative Partial Least Squares (NIPALS) algorithm. This is a simplified example where data is two-dimensional, represented by two variables, <em>x</em><sub>1</sub> and <em>x</em><sub>2</sub> and we fit this data with one single Principal Component, PC1, similar to the previous app (mda-b201).</p> 
      <p>NIPALS finds the optimal orientation of PC (which maximizes explained variance) as follows. First of all, the variables are mean centred, so mean value for each variable is zero. Then an initial selection for PC1 is chosen, usually we simply take a direction of one of the variables. This case app choses  <em>x</em><sub>2</sub> as initial orientation of PC1. This initial step is a step 0. After that we project all points to PC1 and get scores, <em>t</em>.</p> 
      <p>To get new coordinates of the loadings (for every next step), we do the following. First we compute covariance between <em>x</em><sub>1</sub> and the current scores values, cov(<em>x</em><sub>1</sub>, <em>t</em>), and take the computed covariance  value as <em>x</em><sub>1</sub> coordinate of the future loading vector. Then we compute covariance between <em>x</em><sub>2</sub> and the current scores values, cov(<em>x</em><sub>2</sub>, <em>t</em>), and take the computed value as <em>x</em><sub>2</sub> coordinate of the future loading vector. Finally we normalize the coordinates to make sure that the length of the new vector is one. You can see all these calculations in the right bottom part of the plot.</p> 
      <p>And then we simply repeat this step over and over until the difference between coordinates of the loading-vector is smaller than a pre-defined threshold. Alternatively we can set a threshold to the difference in explained variance. Try to play with the steps and you will see that the first step always gives the biggest difference in orientation of the PC. The second step makes a small correction. Correction from the step 3 and further steps are barely visible by naked eye.</p>`,d(e,"slot","help")},m(t,n){E(t,e,n)},p:G,d(t){t&&z(e)}}}function Ar(l){let e,t;return e=new dl({props:{$$slots:{help:[Cr],default:[kr]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},m(n,r){V(e,n,r),t=!0},p(n,[r]){const o={};r&1087&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}const Gn=10;function zr(l,e,t){let n,r,o,s,i,a=0;function f(){const g=j.randn(Gn,0,1),_=j.randn(Gn,0,.2),b=.5;t(0,r=st([Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b)],2,2).dot(il(g,_)).apply(v=>v+2,0).t()),t(0,r=fl(r,!0,!1)),t(3,a=0)}function u(g,_){t(4,i=st([0,1],2,1));for(let b=0;b<=_;b++){t(2,s=i.copy());const v=g.dot(s).getcolumn(1),m=g.getcolumn(1).dot(v),y=g.getcolumn(2).dot(v),P=Math.sqrt(m*m+y*y);t(4,i=st([m/P,y/P],2,1))}t(1,o=g.dot(s))}f();function h(g){a=g,t(3,a)}const c=()=>f();return l.$$.update=()=>{l.$$.dirty&9&&u(r,a),l.$$.dirty&6&&t(5,n=Lt(o,s))},[r,o,s,a,i,n,f,h,c]}class Er extends ${constructor(e){super(),J(this,e,zr,Ar,Z,{})}}new Er({target:document.getElementById("graasta-app-container")})})();
//# sourceMappingURL=mda-b202.js.map
